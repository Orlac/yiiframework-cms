-- phpMyAdmin SQL Dump
-- version 3.2.4
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Jun 14, 2010 at 12:08 PM
-- Server version: 5.1.37
-- PHP Version: 5.2.11

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";

--
-- Database: `yiiframework`
--

-- --------------------------------------------------------

--
-- Table structure for table `authassignment`
--

CREATE TABLE `authassignment` (
  `itemname` varchar(64) NOT NULL,
  `userid` varchar(64) NOT NULL,
  `bizrule` text,
  `data` text,
  PRIMARY KEY (`itemname`,`userid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- Dumping data for table `authassignment`
--

INSERT INTO `authassignment` VALUES('moderators', '5', '', 'N;');
INSERT INTO `authassignment` VALUES('admin', '16819', NULL, 'N;');
INSERT INTO `authassignment` VALUES('moderators', '16813', '', 'N;');
INSERT INTO `authassignment` VALUES('user', '16813', '', 'N;');
INSERT INTO `authassignment` VALUES('manage_posts', '16813', '', 'N;');
INSERT INTO `authassignment` VALUES('add_post', '16813', 'return 3==$params[''value''];', 'N;');
INSERT INTO `authassignment` VALUES('admin', '16814', '', 'N;');
INSERT INTO `authassignment` VALUES('moderators', '0', '', 'N;');
INSERT INTO `authassignment` VALUES('user', '0', '', 'N;');
INSERT INTO `authassignment` VALUES('manage_posts', '0', '', 'N;');
INSERT INTO `authassignment` VALUES('add_post', '0', 'return 3==$params[''value''];', 'N;');
INSERT INTO `authassignment` VALUES('admin', '0', '', 'N;');
INSERT INTO `authassignment` VALUES('add_post', '16816', 'return 3==$params[''value''];', 'N;');
INSERT INTO `authassignment` VALUES('member', '16824', NULL, 'N;');
INSERT INTO `authassignment` VALUES('admin', '1', NULL, 'N;');

-- --------------------------------------------------------

--
-- Table structure for table `authitem`
--

CREATE TABLE `authitem` (
  `name` varchar(64) NOT NULL,
  `type` int(11) NOT NULL,
  `description` text,
  `bizrule` text,
  `data` text,
  PRIMARY KEY (`name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- Dumping data for table `authitem`
--

INSERT INTO `authitem` VALUES('admin', 2, 'System Administrator', '', 'N;');
INSERT INTO `authitem` VALUES('editor', 2, 'Site Editor', '', 'N;');
INSERT INTO `authitem` VALUES('member', 2, 'Site Member', 'return !Yii::app()->user->isGuest;', 'N;');
INSERT INTO `authitem` VALUES('guest', 2, 'Site Guest', '', 'N;');
INSERT INTO `authitem` VALUES('task_documentations', 1, 'Task Manage Documentations', '', 'N;');
INSERT INTO `authitem` VALUES('task_members', 1, 'Task Manage Users', '', 'N;');
INSERT INTO `authitem` VALUES('task_roles', 1, 'Task Manage User Roles', '', 'N;');
INSERT INTO `authitem` VALUES('task_settings', 1, 'Task Manage System Setting', '', 'N;');
INSERT INTO `authitem` VALUES('task_languages', 1, 'Task Manage System Languages', '', 'N;');
INSERT INTO `authitem` VALUES('task_tutorials', 1, 'Task Manage Tutorials', '', 'N;');
INSERT INTO `authitem` VALUES('task_custompages', 1, 'Task Manage Custom Pages', '', 'N;');
INSERT INTO `authitem` VALUES('task_blog', 1, 'Task Manage Blog', '', 'N;');
INSERT INTO `authitem` VALUES('task_extensions', 1, 'Task Manage Extensions', '', 'N;');
INSERT INTO `authitem` VALUES('op_doc_add_comments', 0, 'Documentations: Add Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_doc_delete_comments', 0, 'Documentations: Delete Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_doc_manage_comments', 0, 'Documentations: Manage Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_doc_edit_docs', 0, 'Documentations: Edit Topics', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_add_settings', 0, 'Settings: Add New Settings', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_update_settings', 0, 'Settings: Update Settings', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_delete_settings', 0, 'Settings: Delete Settings', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_add_settings_groups', 0, 'Settings: Add Setting Groups', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_edit_settings_groups', 0, 'Settings: Edit Setting Groups', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_delete_settings_groups', 0, 'Settings: Delete Setting Groups', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_view_settings', 0, 'Settings: View Settings', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_edit_settings', 0, 'Settings: Edit Settings', '', 'N;');
INSERT INTO `authitem` VALUES('op_settings_revert_settings', 0, 'Settings: Revert Settings', '', 'N;');
INSERT INTO `authitem` VALUES('op_lang_copy_strings', 0, 'Languages: Copy Source Language Strings', '', 'N;');
INSERT INTO `authitem` VALUES('op_lang_translate', 0, 'Languages: Translate Strings', '', 'N;');
INSERT INTO `authitem` VALUES('op_users_add_users', 0, 'Users: Add New Users', '', 'N;');
INSERT INTO `authitem` VALUES('op_users_edit_users', 0, 'Users: Edit Users', '', 'N;');
INSERT INTO `authitem` VALUES('op_users_delete_users', 0, 'Users: Delete Users', '', 'N;');
INSERT INTO `authitem` VALUES('op_users_bulk_users', 0, 'Users: Perform Bulk Operations On Users', '', 'N;');
INSERT INTO `authitem` VALUES('op_roles_add_auth', 0, 'Roles: Add Auth Items', '', 'N;');
INSERT INTO `authitem` VALUES('op_roles_add_authchild', 0, 'Roles: Add Auth Items Childs', '', 'N;');
INSERT INTO `authitem` VALUES('op_roles_edit_auth', 0, 'Roles: Edit Auth Items', '', 'N;');
INSERT INTO `authitem` VALUES('op_roles_delete_auth', 0, 'Roles: Delete Auth Items', '', 'N;');
INSERT INTO `authitem` VALUES('op_custompages_addpages', 0, 'Custom Pages: Add New Pages', '', 'N;');
INSERT INTO `authitem` VALUES('op_custompages_editpages', 0, 'Custom Pages: Edit Pages', '', 'N;');
INSERT INTO `authitem` VALUES('op_custompages_deletepages', 0, 'Custom Pages: Delete Pages', '', 'N;');
INSERT INTO `authitem` VALUES('op_custompages_managepages', 0, 'Custom Pages: Manage Pages', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_addcats', 0, 'Tutorials: Add Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_editcats', 0, 'Tutorials: Edit Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_deletecats', 0, 'Tutorials: Delete Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_addtutorials', 0, 'Tutorials: Add Tutorials', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_edittutorials', 0, 'Tutorials: Edit Tutorials', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_comments', 0, 'Tutorials: Manage Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_deletecomments', 0, 'Tutorials: Delete Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_manage', 0, 'Tutorials: Manage Tutorials', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_managecats', 0, 'Tutorials: Manage Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_tutorials_deletetutorials', 0, 'Tutorials: Delete Tutorials', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_addcats', 0, 'Blog: Add Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_editcats', 0, 'Blog: Edit Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_deletecats', 0, 'Blog: Delete Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_addposts', 0, 'Blog: Add Posts', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_editposts', 0, 'Blog: Edit Posts', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_comments', 0, 'Blog: Manage Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_deletecomments', 0, 'Blog: Delete Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_manage', 0, 'Blog: Manage Posts', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_managecats', 0, 'Blog: Manage Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_blog_deleteposts', 0, 'Blog: Delete Posts', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_addcats', 0, 'Extensions: Add Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_editcats', 0, 'Extensions: Edit Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_deletecats', 0, 'Extensions: Delete Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_addposts', 0, 'Extensions: Add Extensions', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_editposts', 0, 'Extensions: Edit Extensions', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_comments', 0, 'Extensions: Manage Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_deletecomments', 0, 'Extensions: Delete Comments', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_manage', 0, 'Extensions: Manage Posts', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_managecats', 0, 'Extensions: Manage Categories', '', 'N;');
INSERT INTO `authitem` VALUES('op_extensions_deleteposts', 0, 'Extensions: Delete Extension', '', 'N;');
INSERT INTO `authitem` VALUES('op_acp_access', 0, 'Admin: Enter The Admin Control Panel', '', 'N;');
INSERT INTO `authitem` VALUES('op_users_comment', 0, 'Users: Add Comments to profiles', '', 'N;');
INSERT INTO `authitem` VALUES('op_users_manage_comments', 0, 'Users: Manage Comments', '', 'N;');
INSERT INTO `authitem` VALUES('task_forum', 1, 'Task: Manage Forum', '', 'N;');
INSERT INTO `authitem` VALUES('op_forum_posts', 0, 'Forum: Manage Forum Posts', '', 'N;');
INSERT INTO `authitem` VALUES('op_forum_topics', 0, 'Forum: Manage Forum Topics', '', 'N;');
INSERT INTO `authitem` VALUES('op_forum_post_posts', 0, 'Forum: Post New Posts', '', 'N;');
INSERT INTO `authitem` VALUES('op_forum_post_topics', 0, 'Forum: Post New Topics', '', 'N;');

-- --------------------------------------------------------

--
-- Table structure for table `authitemchild`
--

CREATE TABLE `authitemchild` (
  `parent` varchar(64) NOT NULL,
  `child` varchar(64) NOT NULL,
  PRIMARY KEY (`parent`,`child`),
  KEY `child` (`child`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- Dumping data for table `authitemchild`
--

INSERT INTO `authitemchild` VALUES('admin', 'editor');
INSERT INTO `authitemchild` VALUES('admin', 'guest');
INSERT INTO `authitemchild` VALUES('admin', 'member');
INSERT INTO `authitemchild` VALUES('admin', 'op_acp_access');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_addcats');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_addposts');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_comments');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_deletecats');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_deletecomments');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_deleteposts');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_editcats');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_editposts');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_manage');
INSERT INTO `authitemchild` VALUES('admin', 'op_blog_managecats');
INSERT INTO `authitemchild` VALUES('admin', 'op_custompages_addpages');
INSERT INTO `authitemchild` VALUES('admin', 'op_custompages_deletepages');
INSERT INTO `authitemchild` VALUES('admin', 'op_custompages_editpages');
INSERT INTO `authitemchild` VALUES('admin', 'op_custompages_managepages');
INSERT INTO `authitemchild` VALUES('admin', 'op_doc_add_comments');
INSERT INTO `authitemchild` VALUES('admin', 'op_doc_delete_comments');
INSERT INTO `authitemchild` VALUES('admin', 'op_doc_edit_docs');
INSERT INTO `authitemchild` VALUES('admin', 'op_doc_manage_comments');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_addcats');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_addposts');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_comments');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_deletecats');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_deletecomments');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_deleteposts');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_editcats');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_editposts');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_manage');
INSERT INTO `authitemchild` VALUES('admin', 'op_extensions_managecats');
INSERT INTO `authitemchild` VALUES('admin', 'op_forum_posts');
INSERT INTO `authitemchild` VALUES('admin', 'op_forum_post_posts');
INSERT INTO `authitemchild` VALUES('admin', 'op_forum_post_topics');
INSERT INTO `authitemchild` VALUES('admin', 'op_forum_topics');
INSERT INTO `authitemchild` VALUES('admin', 'op_lang_copy_strings');
INSERT INTO `authitemchild` VALUES('admin', 'op_lang_translate');
INSERT INTO `authitemchild` VALUES('admin', 'op_roles_add_auth');
INSERT INTO `authitemchild` VALUES('admin', 'op_roles_add_authchild');
INSERT INTO `authitemchild` VALUES('admin', 'op_roles_delete_auth');
INSERT INTO `authitemchild` VALUES('admin', 'op_roles_edit_auth');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_add_settings');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_add_settings_groups');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_delete_settings');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_delete_settings_groups');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_edit_settings');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_edit_settings_groups');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_revert_settings');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_update_settings');
INSERT INTO `authitemchild` VALUES('admin', 'op_settings_view_settings');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_addcats');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_addtutorials');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_comments');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_deletecats');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_deletecomments');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_deletetutorials');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_editcats');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_edittutorials');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_manage');
INSERT INTO `authitemchild` VALUES('admin', 'op_tutorials_managecats');
INSERT INTO `authitemchild` VALUES('admin', 'op_users_add_users');
INSERT INTO `authitemchild` VALUES('admin', 'op_users_bulk_users');
INSERT INTO `authitemchild` VALUES('admin', 'op_users_comment');
INSERT INTO `authitemchild` VALUES('admin', 'op_users_delete_users');
INSERT INTO `authitemchild` VALUES('admin', 'op_users_edit_users');
INSERT INTO `authitemchild` VALUES('admin', 'op_users_manage_comments');
INSERT INTO `authitemchild` VALUES('admin', 'task_blog');
INSERT INTO `authitemchild` VALUES('admin', 'task_custompages');
INSERT INTO `authitemchild` VALUES('admin', 'task_documentations');
INSERT INTO `authitemchild` VALUES('admin', 'task_extensions');
INSERT INTO `authitemchild` VALUES('admin', 'task_forum');
INSERT INTO `authitemchild` VALUES('admin', 'task_languages');
INSERT INTO `authitemchild` VALUES('admin', 'task_members');
INSERT INTO `authitemchild` VALUES('admin', 'task_roles');
INSERT INTO `authitemchild` VALUES('admin', 'task_settings');
INSERT INTO `authitemchild` VALUES('admin', 'task_tutorials');
INSERT INTO `authitemchild` VALUES('editor', 'member');
INSERT INTO `authitemchild` VALUES('editor', 'op_doc_add_comments');
INSERT INTO `authitemchild` VALUES('editor', 'op_doc_manage_comments');
INSERT INTO `authitemchild` VALUES('manage_posts', 'add_post');
INSERT INTO `authitemchild` VALUES('member', 'guest');
INSERT INTO `authitemchild` VALUES('member', 'op_blog_addposts');
INSERT INTO `authitemchild` VALUES('member', 'op_doc_add_comments');
INSERT INTO `authitemchild` VALUES('member', 'op_extensions_addposts');
INSERT INTO `authitemchild` VALUES('member', 'op_forum_post_posts');
INSERT INTO `authitemchild` VALUES('member', 'op_forum_post_topics');
INSERT INTO `authitemchild` VALUES('member', 'op_tutorials_addtutorials');
INSERT INTO `authitemchild` VALUES('member', 'op_users_comment');
INSERT INTO `authitemchild` VALUES('moderators', 'manage_posts');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_addcats');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_addposts');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_comments');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_deletecats');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_deletecomments');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_deleteposts');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_editcats');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_editposts');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_manage');
INSERT INTO `authitemchild` VALUES('task_blog', 'op_blog_managecats');
INSERT INTO `authitemchild` VALUES('task_custompages', 'op_custompages_addpages');
INSERT INTO `authitemchild` VALUES('task_custompages', 'op_custompages_deletepages');
INSERT INTO `authitemchild` VALUES('task_custompages', 'op_custompages_editpages');
INSERT INTO `authitemchild` VALUES('task_custompages', 'op_custompages_managepages');
INSERT INTO `authitemchild` VALUES('task_documentations', 'op_doc_add_comments');
INSERT INTO `authitemchild` VALUES('task_documentations', 'op_doc_delete_comments');
INSERT INTO `authitemchild` VALUES('task_documentations', 'op_doc_edit_docs');
INSERT INTO `authitemchild` VALUES('task_documentations', 'op_doc_manage_comments');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_addcats');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_addposts');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_comments');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_deletecats');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_deletecomments');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_deleteposts');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_editcats');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_editposts');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_manage');
INSERT INTO `authitemchild` VALUES('task_extensions', 'op_extensions_managecats');
INSERT INTO `authitemchild` VALUES('task_forum', 'op_forum_posts');
INSERT INTO `authitemchild` VALUES('task_forum', 'op_forum_post_posts');
INSERT INTO `authitemchild` VALUES('task_forum', 'op_forum_post_topics');
INSERT INTO `authitemchild` VALUES('task_forum', 'op_forum_topics');
INSERT INTO `authitemchild` VALUES('task_languages', 'op_lang_copy_strings');
INSERT INTO `authitemchild` VALUES('task_languages', 'op_lang_translate');
INSERT INTO `authitemchild` VALUES('task_members', 'op_users_add_users');
INSERT INTO `authitemchild` VALUES('task_members', 'op_users_bulk_users');
INSERT INTO `authitemchild` VALUES('task_members', 'op_users_comment');
INSERT INTO `authitemchild` VALUES('task_members', 'op_users_delete_users');
INSERT INTO `authitemchild` VALUES('task_members', 'op_users_edit_users');
INSERT INTO `authitemchild` VALUES('task_members', 'op_users_manage_comments');
INSERT INTO `authitemchild` VALUES('task_roles', 'op_roles_add_auth');
INSERT INTO `authitemchild` VALUES('task_roles', 'op_roles_add_authchild');
INSERT INTO `authitemchild` VALUES('task_roles', 'op_roles_delete_auth');
INSERT INTO `authitemchild` VALUES('task_roles', 'op_roles_edit_auth');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_add_settings');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_add_settings_groups');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_delete_settings');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_delete_settings_groups');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_edit_settings');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_edit_settings_groups');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_revert_settings');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_update_settings');
INSERT INTO `authitemchild` VALUES('task_settings', 'op_settings_view_settings');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_addcats');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_addtutorials');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_comments');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_deletecats');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_deletecomments');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_deletetutorials');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_editcats');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_edittutorials');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_manage');
INSERT INTO `authitemchild` VALUES('task_tutorials', 'op_tutorials_managecats');

-- --------------------------------------------------------

--
-- Table structure for table `blogcats`
--

CREATE TABLE `blogcats` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `parentid` int(10) DEFAULT NULL,
  `title` varchar(155) NOT NULL DEFAULT '',
  `alias` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `language` varchar(125) NOT NULL DEFAULT '',
  `position` int(10) NOT NULL DEFAULT '0',
  `metadesc` varchar(255) NOT NULL DEFAULT '',
  `metakeys` varchar(255) NOT NULL DEFAULT '',
  `readonly` tinyint(1) NOT NULL DEFAULT '0',
  `viewperms` text,
  `addpostsperms` text,
  `addcommentsperms` text,
  `addfilesperms` text,
  `autoaddperms` text,
  PRIMARY KEY (`id`),
  KEY `title` (`title`),
  KEY `parentid` (`parentid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `blogcats`
--


-- --------------------------------------------------------

--
-- Table structure for table `blogcomments`
--

CREATE TABLE `blogcomments` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `postid` varchar(125) NOT NULL DEFAULT '',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `visible` tinyint(1) NOT NULL DEFAULT '0',
  `comment` text,
  PRIMARY KEY (`id`),
  KEY `postid` (`postid`),
  KEY `authorid` (`authorid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `blogcomments`
--


-- --------------------------------------------------------

--
-- Table structure for table `blogposts`
--

CREATE TABLE `blogposts` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `catid` int(10) NOT NULL DEFAULT '0',
  `title` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `content` text,
  `alias` varchar(125) NOT NULL DEFAULT '',
  `language` varchar(125) NOT NULL DEFAULT '',
  `metadesc` varchar(255) NOT NULL DEFAULT '',
  `metakeys` varchar(255) NOT NULL DEFAULT '',
  `views` int(10) NOT NULL DEFAULT '0',
  `rating` int(10) NOT NULL DEFAULT '0',
  `totalvotes` int(10) NOT NULL DEFAULT '0',
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `last_updated_date` int(10) NOT NULL DEFAULT '0',
  `last_updated_author` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `title` (`title`),
  KEY `catid` (`catid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `blogposts`
--


-- --------------------------------------------------------

--
-- Table structure for table `contactus`
--

CREATE TABLE `contactus` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `name` varchar(55) NOT NULL DEFAULT '',
  `email` varchar(55) NOT NULL DEFAULT '',
  `subject` varchar(55) NOT NULL DEFAULT '',
  `content` text,
  `postdate` int(10) NOT NULL DEFAULT '0',
  `sread` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `email` (`email`),
  KEY `subject` (`subject`),
  KEY `name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `contactus`
--


-- --------------------------------------------------------

--
-- Table structure for table `custompages`
--

CREATE TABLE `custompages` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL DEFAULT '',
  `alias` varchar(255) NOT NULL DEFAULT '',
  `content` text,
  `dateposted` int(10) NOT NULL DEFAULT '0',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `last_edited_date` int(10) NOT NULL DEFAULT '0',
  `last_edited_author` int(10) NOT NULL DEFAULT '0',
  `tags` varchar(255) NOT NULL DEFAULT '',
  `language` varchar(125) NOT NULL DEFAULT '',
  `metadesc` varchar(255) NOT NULL DEFAULT '',
  `metakeys` varchar(255) NOT NULL DEFAULT '',
  `visible` text,
  `status` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `alias` (`alias`,`language`),
  KEY `title` (`title`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=10 ;

--
-- Dumping data for table `custompages`
--

INSERT INTO `custompages` VALUES(2, 'אודות', 'about-us', '<p>\r\n	<strong>Yiiframework.co.il</strong> הינו אתר תמיכה (לא-רשמי) בעברית עבור <a href="http://yiiframework.com/">Yii Framework</a>, הוא נבנה כדי לספק למשתמשים מידע, דוקומנטציה, מדריכים ותוספים אשר נכתבו כבר או תורגמו לשפה העברית.</p>\r\n<p>\r\n	מרבית התוכן הנמצא באתר נכתב על ידי המשתמשים באתר ומוצע לכולם ללא כל תשלום.</p>\r\n<p>\r\n	&nbsp;</p>\r\n<div firebugversion="1.5.4" id="_firebugConsole" style="display: none;">\r\n	&nbsp;</div>\r\n<br />\r\n', 1275203174, 16819, 1276494530, 16825, 'אודות', 'he', 'אודות האתר והמערכת', 'אודות האתר והמערכת', '', 1);
INSERT INTO `custompages` VALUES(3, 'About Us', 'about-us', '<p>\r\n	<strong>Yiiframework.co.il</strong> is an <b>un</b>official Hebrew support site for the <a href="http://yiiframework.com/">Yii Framework</a>, It was built to provide the local users with some information, Documentation, Tutorials and extensions that are already written and/or translated into Hebrew.</p>\r\n<p>\r\n	The majority of the content provided here is written by the community and is provided totally free of charge.</p>', 1275203627, 16819, 1276494336, 16825, 'About Us, Yiiframework.co.il, About', 'en', 'About Us, Yiiframework.co.il, About', 'About Us, Yiiframework.co.il, About', '', 1);
INSERT INTO `custompages` VALUES(4, 'שאלות נפוצות', 'faq', '<h1>\r\n	שאלות נפוצות</h1>\r\n', 1275454820, 16825, 1276496250, 16825, 'עזרה, שאלות נפוצות', 'he', 'שאלות נפוצות ועזרה אודות שימוש באתר', 'שאלות נפוצות, עזרה', '', 1);
INSERT INTO `custompages` VALUES(5, 'F.A.Q', 'faq', '<h1>\r\n	F.A.Q</h1>\r\n', 1275455336, 16825, 1276496230, 16825, 'F.A.Q, Help', 'en', 'Site F.A.Q', 'F.A.Q, Help', '', 1);
INSERT INTO `custompages` VALUES(6, 'Documentation', 'documentation', '<h1>\r\n	Documentation</h1>\r\n<p>\r\n	&nbsp;</p>\r\n<p>\r\n	Yii comes with a collection of thorough documentation. They are released under the <a href="http://www.yiiframework.com/doc/terms/" target="_blank">Terms of the Yii Documentation</a>.</p>\r\n<h2>\r\n	Tutorials</h2>\r\n<p>\r\n	&nbsp;</p>\r\n<p>\r\n	<a href="http://en.yiiframework.co.il/documentation/blog">The Yii Blog Tutorial</a> describes in detail how to use Yii to develop a practical Web application. It is a good starting point to learn Yii. This tutorial can also be downloaded in <a href="http://www.yiiframework.com/files/yii-blog-1.1.2.pdf">PDF format</a>. (Difficulty level: 3)</p>\r\n<p>\r\n	<a href="http://en.yiiframework.co.il/documentation/guide">The Definitive Guide to Yii</a> is the most comprehensive Yii documentation that gives the definitive description of every feature of Yii and is being constantly updated to reflect the latest enhancements and changes. This tutorial has been translated into several languages. It can also be downloaded in <a href="http://www.yiiframework.com/files/yii-guide-1.1.2.pdf">PDF format</a>. (Difficulty level: 3)</p>\r\n<p>\r\n	<a href="http://en.yiiframework.co.il/tutorials">The Yii Tutorials</a> is a collection of Yii tutorials, each addressing a specific development task. Everyone with a <a href="http://en.yiiframework.co.il/forum">Yii forum</a> account can participate in creating or editing tutorial pages in the book. (Difficulty level: varied)</p>\r\n<h2>\r\n	Cheat Sheets</h2>\r\n<p>\r\n	&nbsp;</p>\r\n<p>\r\n	<a href="http://www.yiiframework.com/files/yii-1.0-cheatsheet.pdf">The Yii Cheat Sheet</a>: created by <b>Sebasti&aacute;n Thierer</b>, presents commonly used Yii classes, methods and properties in a single printable sheet.</p>\r\n<p>\r\n	<a href="http://yii.googlecode.com/files/yii-1.1.0-validator-cheatsheet.pdf">Yii 1.1.0 validator cheatsheet</a>: created by <b>schmunk</b>, summarizes all built-in validators in a single printable sheet.</p>\r\n<h2>\r\n	Class Reference</h2>\r\n<p>\r\n	&nbsp;</p>\r\n<p>\r\n	<a href="http://www.yiiframework.com/doc/api/" target="_blank">Yii Framework Class Reference</a> (<a href="http://www.yiiframework.com/doc/api/" target="_blank">version 1.1</a>, <a href="http://www.yiiframework.com/doc/api/1.0.12/" target="_blank">version 1.0</a>) gives every detail about properties, methods and events defined in Yii framework classes. It is mostly referenced during development. It can also be downloaded in CHM format (<a href="http://www.yiiframework.com/files/yii-api-1.0.12.chm">version 1.0</a>, <a href="http://www.yiiframework.com/files/yii-api-1.1.2.chm">version 1.1</a>).</p>\r\n', 1275546890, 16825, 1276495213, 16825, 'Documentation, Guide, Blog', 'en', 'Documentation, Guide, Blog', 'Documentation, Guide, Blog', '', 1);
INSERT INTO `custompages` VALUES(7, 'דוקומנטציה ומדריכים', 'documentation', '<div id="custompagecontent">\r\n	<h1>\r\n		דוקומנטציה</h1>\r\n	<p>\r\n		&nbsp; Yii מגיעה עם דוקומטציה מלאה. כולם מפורסמים תחת <a href="http://www.yiiframework.com/doc/terms" target="_blank">רישיון הדוקומנטציה של Yii</a>..</p>\r\n	<h2>\r\n		מדריכים</h2>\r\n	<p>\r\n		<a href="http://he.yiiframework.co.il/documentation/blog">מדריך הבלוג</a> מתאר במפורט כיצד להשתמש ב Yii בכדי לפתח אפליקצית ווב. מדריך זה הוא נקודת התחלה טובה לכל אלו שרק החלו עם Yii והיו רוצים להכיר אותה טוב יותר. כמו כן ניתן להוריד מדריך זה בשפה האנגלית <a href="http://www.yiiframework.com/files/yii-blog-1.1.2.pdf">בפורמט PDF</a>. (רמת קושי: 3).</p>\r\n	<p>\r\n		<a href="http://he.yiiframework.co.il/documentation/guide">המדריך המלא ל-Yii</a> הינו המדריך המפורט ביותר אשר מספק תיאור לגבי כל אפשרות עיקרית הקיימת ב Yii והוא מתעדכן בתדירות כדי להכיל את כל השינויים והאפשרויות החדשות המתווספות ל Yii. כמו כן ניתן להוריד את המדריך בשפה האנגלית <a href="http://www.yiiframework.com/files/yii-guide-1.1.2.pdf">בפורמט PDF</a>. (רמת קושי: 3).</p>\r\n	<p>\r\n		<a href="http://he.yiiframework.co.il/tutorials">אוסף המדריכים של Yii</a> הינו אוסף של מדריכים אשר נכתבו על ידי משתמשי האתר, כל אחד מתייחס לחלק מסויים ומטרה מסויימת בפיתוח. כל משתמש אשר נרשם לאתר יכול להוסיף מדריך חדש בכדי שמשתמשים אחרים יוכלו לקרוא ולהנות ממנו. (רמת קושי: משתנה).</p>\r\n	<p>\r\n		<a href="http://he.yiiframework.co.il/forum">תמיכה בפורום</a>, בכל רגע נתן להכנס לפורום לעזור ולקבל עזרה עבור כל נושא במערכת.</p>\r\n	<h2>\r\n		תיעוד מחלקות מלא</h2>\r\n	<p>\r\n		<a href="http://www.yiiframework.com/doc/api/" target="_blank">תיעוד המחלקות המלא של Yii</a> (<a href="http://www.yiiframework.com/doc/api/" target="_blank">גרסא 1.1</a>, <a href="http://www.yiiframework.com/doc/api/1.0.12/" target="_blank">גרסא 1.0</a>) מספק מידע לגבי כל משתנה, מתודה, מאפיין, מחלקה אשר קיימות במערכת. בדרך כלל משתמשים בזה בזמן הפיתוח. כמו כן ניתן להוריד את התיעוד בפורמט CHM (<a href="http://www.yiiframework.com/files/yii-api-1.0.12.chm">גרסא 1.0</a>, <a href="http://www.yiiframework.com/files/yii-api-1.1.2.chm">גרסא 1.1</a>).</p>\r\n</div>\r\n', 1275546925, 16825, 1276496089, 16825, 'דוקומנטציה, מדריכים, תוספים', 'he', 'דוקומנטציה, מדריכים, תוספים', 'דוקומנטציה, מדריכים, תוספים', '', 1);
INSERT INTO `custompages` VALUES(8, 'רשימת האפשרויות הזמינות ב Yii', 'features', '<h1>\r\n	אפשרויות הכלולות ב-Yii</h1>\r\n<p>\r\n	Yii מגיעה עם כל האפשרויות הנחוצות לפיתוח אפליקציות ווב 2.0, להלן רשימה עיקרית מאפשרויות אלו.</p>\r\n<ul>\r\n	<li>\r\n		<b>Model-View-Controller (MVC): </b>Yii משתמשת בשיטת ה-MVC הנפוצה כיום בעולם הפיתוח כדי לשפר את ההפרדה בין הלוגיקה לעיצוב.</li>\r\n	<li>\r\n		<strong>ניהול מסדי נתונים:</strong> Yii מאפשרת למפתחים לבחור בין אם להשתמש ב Active Record בעת ניהול מסדי הנתונים (ניהול מסד הנתונים והרצת שאילתות כאובייקטים במחלקה) לבין שימוש בשיטה הנפוצה של הרצת שאילתות בכתיבה ידנית (DAO) . ניתן להשתמש בשניהם בו זמנית.</li>\r\n	<li>\r\n		<strong>אינטגרציה (שילוב) עם JQuery:</strong> כאחת מהפריימוורקס JS הנפוצות ביותר כיום, JQuery מאפשר כתיבת קוד JS קצר ויעיל.</li>\r\n	<li>\r\n		<strong>אימות טפסים ונתונים:</strong> Yii מאפשר שימוש בטפסים בכדי לאוסף מידע בקלות. Yii מגיעה עם סט של אפשרויות אימות נתונים אשר ניתן להשתמש בהם כדי לאמת כל נתון בטופס בנפרד. בנוסף Yii מגיעה עם שלל וידג&#39;טים ועזרים הנועדו להציג את השגיאות שהתקבלו בזמן אימות הנתונים בטופס.</li>\r\n	<li>\r\n		<strong>וידג&#39;טים:</strong> בחסות JQuery, הפריימוורק Yii מגיעה עם שלל וידג&#39;טים הנחוצים לאפליקציות ווב כיום. כמו, תצוגת עץ, שדה השלמת טקסט אוטומטית וכ&#39;ו.</li>\r\n	<li>\r\n		<strong>אימות משתמשים וניהול גישות:</strong> Yii מכיל בתוכו שלל מחלקות לניהול גישות ואימות משתמשים אשר מפשטות את העבודה בדרושה לאמת משתמש ולנהל את גישותיו.</li>\r\n	<li>\r\n		<strong>תבניות:</strong> Yii מאפשר שליטה בתבניות בקלות כדי שיהיה ניתן להציג את האפליקציה בשלל תבניות ללא שום בעיה.</li>\r\n	<li>\r\n		<strong>שירותי אינטרנט (Web Services):</strong> Yii תומכת ביצירה אוטומטית של קבצי WSDL מורכבים וניהול בקשות מרחוק לאפליקציה.</li>\r\n	<li>\r\n		<strong>ריבוי שפות:</strong> Yii תומכת בניהול שפות, תרגום אוטומטי של טקסט, הצגת תאריך, שעה, ספרות בהתאם לשפה הנמצאת כרגע בשימוש.</li>\r\n	<li>\r\n		<strong>ניהול מטמון:</strong> Yii מכילה בתוכו שלל אפשרויות מטמון, לדוגמא, מטמון נתונים, מטמון עמודים, מטמון בחלקים, ומטמון דינאמי. המיקום בו נשמר המטמון ניתן להגדרה בצורה קלה, כמו כן ניתן לשנות את מיקום המטמון בכל רגע ללא שום צורך בכתיבת קוד נוסף.</li>\r\n	<li>\r\n		<strong>ניהול שגיאות ותיעוד פעולות:</strong> שגיאות מנוהלות ומוצגות בצורה נוחה יותר, ואת ההודעות המתועדות ניתן למיין על פי קטגוריות, לבצע על גביהם פילטרים שונים, ולכוון אותם ליעדים שונים בכדי לשמור או להציג אותם.</li>\r\n	<li>\r\n		<strong>אבטחה:</strong> Yii מצויידת באפשרויות אבטחה שונות כדי למנוע פירצות באפליקציה. אפשרויות אלו כוללות מניעת התקפות XSS, מניעת התקפות CSRF, מניעת עריכה ושיבוש של עוגיות אשר נשמרו, וכ&#39;ו.</li>\r\n	<li>\r\n		<strong>תואם XHTML:</strong> הקוד הנוצר על ידי Yii תואם לסטנדרטים של XHTML.</li>\r\n	<li>\r\n		<strong>יצירת קוד אוטומטית:</strong> Yii מספק כלים ליצירת הקוד הדרוש אוטומטית, כמו בניית שלד האפליקציה, פעולות CRUD שונות, אפליקציות, מודלים וכדומה.</li>\r\n	<li>\r\n		<strong>כתוב ב-OOP כולו:</strong> Yii כתוב תוך התייחסות לסטנדרטים נוקשים של OOP. הוא אינו מגדיר פונקציות או משתנים גלובאלים. והיררכית המחלקות שלה מאפשרת מקסימום התאמה אישית ושימוש חוזר.</li>\r\n	<li>\r\n		<strong>ידידותי לקוד צד שלישי:</strong> Yii נכתב בצורה כזו שהוא מסוגל לעבוד במקביל לקוד צד שלישי. לדוגמא, ניתן להשתמש בקוד של PEAR או Zend Framework באפליקציות הכתובות ב Yii.</li>\r\n	<li>\r\n		<strong>דוקומנטציה מלאה:</strong> כל מתודה ומשתנה במחלקות ב Yii מתועדות בצורה ברורה. כמו כן קיימים מדריכים מלאים לשימוש ב Yii בנוסף לכלים נוספים בכדי להתחיל לעבוד עם המערכת בזריזות.</li>\r\n	<li>\r\n		<strong>ספרית תוספים:</strong> Yii מספקת ספרית תוספים אשר נכתבו על ידי המשתמשים. אפשרות זו מאריכה את הרשימה המוצגת למעלה עד אין סוף.</li>\r\n</ul>\r\n', 1276430457, 16825, 1276494009, 16825, 'אפשרויות, רשימת אפשרויות, Yii, פריימוורק, Framework', 'he', 'רשימת אפשרויות מלאה בפריימוורק Yii', 'אפשרויות, רשימת אפשרויות, Yii, פריימוורק, Framework', '', 1);
INSERT INTO `custompages` VALUES(9, 'Yii Full Feature List', 'features', '<h1>\r\n	Features of Yii</h1>\r\n<p>\r\n	Yii comes with a full stack of features needed by today&#39;s Web 2.0 application development. Below is a short list of these features.</p>\r\n<ul>\r\n	<li>\r\n		<b>Model-View-Controller (MVC) design pattern</b>: Yii adopts this proven technique in Web programming which can better separate logic from presentation.</li>\r\n	<li>\r\n		<b>Database Access Objects (DAO) and Active Record</b>: Yii allows developers to model database data in terms of objects and save their effort of writing long and repetitive SQL statements.</li>\r\n	<li>\r\n		<b>Integration with jQuery</b>: as one of the most popular JavaScript framework, jQuery enables writing highly efficient and versatile JavaScript interfaces.</li>\r\n	<li>\r\n		<b>Form input and validation</b>: Yii makes collecting form input extremely easy and safe. Yii comes with a set of validators which can be used to ensure validity of input data, and it also has helper methods and widgets to indicate errors when validation fails.</li>\r\n	<li>\r\n		<b>Web 2.0 widgets</b>: powered by jQuery, Yii comes with a set of Web 2.0 widgets, such as auto-complete input field, treeview, and so on.</li>\r\n	<li>\r\n		<b>Authentication and authorization</b>: Yii has built-in authentication support. It also supports authorization via hierarchical role-based access control (RBAC).</li>\r\n	<li>\r\n		<b>Theming</b>: it enables change of the outlook of an Yii application instantly.</li>\r\n	<li>\r\n		<b>Web services</b>: Yii supports automatic generation of complex WSDL service specifications and management of Web service request handling.</li>\r\n	<li>\r\n		<b>Internationalization (I18N) and localization (L10N)</b>: Yii supports message translation, date and time formatting, number formatting, and interface localization.</li>\r\n	<li>\r\n		<b>Layered caching scheme</b>: Yii supports data caching, page caching, fragment caching and dynamic content. The storage medium of caching can be changed easily without touching the application code.</li>\r\n	<li>\r\n		<b>Error handling and logging</b>: errors are handled and presented more nicely, and log messages can be categorized, filtered and routed to different destinations.</li>\r\n	<li>\r\n		<b>Security</b>: Yii is equipped with many security measures to help secure Web applications to prevent cyber attacks. These measures include cross-site scripting (XSS) prevention, cross-site request forgery (CSRF) prevention, cookie tampering prevention, etc.</li>\r\n	<li>\r\n		<b>Compliance to XHTML</b>: Code generated by Yii components and command line tools complies to the XHTML standard.</li>\r\n	<li>\r\n		<b>Automatic code generation</b>: Yii provides the tools that can automatically generate the code that you need, such as a skeleton application, CRUD applications, etc.</li>\r\n	<li>\r\n		<b>Purely object-oriented</b>: Yii framework sticks to strict OOP paradigm. It does not define any global function or variable. And the class hierarchy that it defines allows maximum reusability and customization.</li>\r\n	<li>\r\n		<b>Friendly with third-party code</b>: Yii is carefully designed to work well with third-party code. For example, you can use code from PEAR or Zend Framework in your Yii application.</li>\r\n	<li>\r\n		<b>Detailed documentation</b>: every single method or property is clearly documented. A comprehensive tutorial is also provided together with other minor tutorials.</li>\r\n	<li>\r\n		<b>Extension library</b>: Yii provides an extension library consisting of user-contributed components. This makes the above feature list never ending.</li>\r\n</ul>', 1276492192, 16825, 1276492213, 16825, 'features, list, full feature list, yii features', 'en', 'Yii full feature list', 'features, list, full feature list, yii features', NULL, 1);

-- --------------------------------------------------------

--
-- Table structure for table `documentations`
--

CREATE TABLE `documentations` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `name` varchar(125) NOT NULL DEFAULT '',
  `mkey` varchar(125) NOT NULL DEFAULT '',
  `description` varchar(125) NOT NULL DEFAULT '',
  `content` text NOT NULL,
  `type` char(30) NOT NULL DEFAULT '',
  `language` char(30) NOT NULL DEFAULT '',
  `last_updated` int(10) NOT NULL DEFAULT '0',
  `last_updated_member` int(10) NOT NULL DEFAULT '0',
  `views` int(10) NOT NULL DEFAULT '0',
  `rating` int(10) NOT NULL DEFAULT '0',
  `totalvotes` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `name` (`name`),
  KEY `mkey` (`mkey`),
  KEY `language` (`language`),
  KEY `type` (`type`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=135 ;

--
-- Dumping data for table `documentations`
--

INSERT INTO `documentations` VALUES(1, 'basics.application', 'basics.application', '', '﻿אפליקציה\r\n===========\r\n\r\nהאפליקציה מהווה עיבוד ראשוני של הבקשות אשר נכנסות למערכת. המטרה העיקרית שלה היא לקבל את בקשת המשתמש ולהפנות אותה לקונטרולר המתאים להמשך עיבוד הנתונים. בנוסף היא משמשת לחלק המרכזי של כל ההגדרות באפליקציה. מסיבה זו,האפליקציה נקראת גם בשם ''קונטרולר-ראשי''.\r\n\r\nהאפליקציה נוצרת על ידי [סקריפט הכניסה הראשי](/doc/guide/basics.entry).\r\nניתן לגשת לכל אובייקט וערך באפליקציה בעזרת [Yii::app()|YiiBase::app].\r\n\r\n\r\nהגדרות האפליקציה\r\n-------------------------\r\n\r\nכברירת מחדל, אפליקציה היא אובייקט של [CWebApplication]. להתאמה אישית, אנחנו בדרך כלל מספקים קובץ הגדרות (או מערך) כדי לאתחל את המאפיינים של קובץ/מערך ההגדרות בעת יצירת האפליקציה. דרך נוספת להתאמה אישית של האפליקציה היא על ידי הרחבת [CWebApplication].\r\n\r\nההגדרות הם מערך של אלמנטים בפורמט של מפתח=>ערך. כל מפתח מייצג את שמו של המאפיין באובייקט של האפליקציה, וכל ערך את ערך ברירת המחדל של אותו מאפיין. לדוגמא, ההגדרות הבאות מגדירות את [שם האפליקציה|CApplication::name] ו [קונטרולר ברירת המחדל|CWebApplication::defaultController] של האפליקציה.\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ''name''=>''Yii Framework'',\r\n    ''defaultController''=>''site'',\r\n)\r\n~~~\r\n\r\nבדרך כלל אנחנו שומרים את קובץ ההגדרות של האפליקציה בקובץ PHP נפרד (לדוגמא `protected/config/main.php`). בתוך הקובץ אנחנו מחזירים את מערך ההגדרות בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\nreturn array(...);\r\n~~~\r\n\r\nכדי ליישם את ההגדרות, אנחנו מעבירים את שם קובץ ההגדרות כפרמטר לקונסטרקטור (constructor) של האפליקציה, או ל [Yii::createWebApplication()] כמו הדוגמא הבאה, שבדרך כלל נעשית ב [סקריפט הכניסה הראשי](/doc/guide/basics.entry).\r\n\r\n~~~\r\n[php]\r\n$app=Yii::createWebApplication($configFile);\r\n~~~\r\n\r\n> Tip|טיפ: אם ההגדרות של האפליקציה הם מורכבות, ניתן לפצל אותם לכמה קבצים, כל אחד מחזיר חלק אחר ממערך ההגדרות הכולל. לאחר מכן, בקובץ ההגדרות הראשי של האפליקציה ניתן להשתמש בפונקצית ה `include` של PHP כדי להוסיף את שאר קבצי ההגדרות ולאחד אותם למערך הגדרות אחד כולל.\r\n\r\nספרית הבסיס של האפליקציה\r\n--------------------------\r\n\r\nספרית הבסיס של האפליקציה מתיחחסת לתיקיה הראשית אשר מכילה את כל קבצי ה PHP והמידע של המערכת, הרגישים מבחינת אבטחה. כברירת מחדל, זוהי תת תיקיה בשם `protected` אשר נמצאת תחת התיקיה אשר מכילה את סקריפט הכניסה הראשי. ניתן לשנותה על ידי הגדרת המאפיין [basePath|CWebApplication::basePath]  [בהגדרות האפליקציה](#application-configuration).\r\n\r\nהתוכן תחת התיקיה הראשית של האפליקציה צריך להיות מוגן מגישה וצפייה ישירה ועקיפה על ידי משתמשים. בעזרת  [Apache HTTP](http://httpd.apache.org/), ניתן לבצע זאת בצורה פשוטה על ידי הוספת קובץ `htaccess.` תחת התיקיה הראשית. הקובץ `htaccess.` אמור להכיל את הקוד הבא,\r\n\r\n~~~\r\ndeny from all\r\n~~~\r\n\r\nרכיב האפליקציה\r\n---------------------\r\n\r\nהפונקציונליות של האפליקציה ניתנת להתאמה אישית בצורה קלה בעזרת הארכיטקטורה הגמישה של רכיב זה. האפליקציה מנהלת סט של רכיבי-אפליקציה, כל אחד מיישם אפשרויות מסויימות. לדוגמא, האפליקציה נעזרת ברכיבים [CUrlManager] ו [CHttpRequest] כדי לקבל את בקשת המשתמש ולנתב אותה למקום המתאים.\r\n\r\nעל ידי הגדרת ערך [הרכיבים|CApplication::components] באפליקציה, ניתן להגדיר בצורה אישית את הערכים והמחלקה של כל רכיב אשר משתמשים בו באפליקציה. לדוגמא, ניתן להגדיר את הרכיב [CMemCache] בצורה כזו שיעבוד מול כמה שרתי memcache כדי לשמור תוכן במטמון,\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''components''=>array(\r\n        ......\r\n        ''cache''=>array(\r\n            ''class''=>''CMemCache'',\r\n            ''servers''=>array(\r\n                array(''host''=>''server1'', ''port''=>11211, ''weight''=>60),\r\n                array(''host''=>''server2'', ''port''=>11211, ''weight''=>40),\r\n            ),\r\n        ),\r\n    ),\r\n)\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנחנו מוסיפים את האלמנט `cache` למערך של ה `components`. האלמנט `cache` הצהיר שהמחלקה של הרכיב הזה הינה `CMemCache` והערך של `servers` (שרתים) צריך להיות מוגדר כפי שהוא מוצג בקוד למעלה.\r\n\r\nכדי לגשת לרכיב באפליקציה, יש להשתמש ב `Yii::app()->ComponentID`, כש `ComponentID` מתייחס לשם היחודי של הרכיב (לדוגמא `Yii::app()->cache`).\r\n\r\nניתן לכבות כל רכיב באפליקציה על ידי הגדרת הערך `enabled` ל false בהגדרות של אותו רכיב. ברגע שננסה לגשת לרכיב שהוא לא פעיל נקבל את הערך השווה ל Null.\r\n\r\n> Tip|טיפ: כברירת מחדל, רכיבים באפליקציה נוצרים בעת בקשתם. זה אומר שרכיב באפליקציה יכול לא להווצר כלל אם לא קראו לו במהלך הבקשה של המשתמש. כתוצאה מכך, הביצועים הכללים של האפליקציה לא מושפעים גם אם האפליקציה מוגדרת עם הרבה רכיבים. חלק מהרכיבים באפליקציה (לדוגמא [CLogRouter]) צריכים להווצר בכל מקרה בין אם קראו לאותו רכיב או לא. כדי לבצע זאת, רשום את המזהה היחודי שלהם במאפיין [preload|CApplication::preload] (טעינה מראש) של האפליקציה.\r\n\r\n\r\nרכיבים מרכזיים באפליקציה\r\n---------------------------\r\n\r\nYii מגדירה מראש סט של רכיבים מרכזיים באפליקציה כדי לספק אפשרויות משותפות בקרב אפליקציות ווב. לדוגמא, הרכיב [request|CWebApplication::request] מעבד את בקשת המשתמש ומאפשר שימוש במידע כגון קישורים, עוגיות. על ידי הגדרת המאפיינים של רכיבים בסיסיים אלו, ניתן לשנות את אופי ההתנהלות של Yii בכל היבט כמעט.\r\n\r\nלמטה מופיעים הרכיבים הבסיסיים שמוגדרים מראש על ידי [CWebApplication].\r\n\r\n\r\n- [assetManager|CWebApplication::assetManager]: [CAssetManager] -\r\nמנהל פרסום של קבצי הנכסים הפרטיים (בדרך כלל קבצי JS, CSS ותמונות).\r\n\r\n- [authManager|CWebApplication::authManager]: [CAuthManager] - ניהול בקרת גישות\r\n\r\n- [cache|CApplication::cache]: [CCache] - מספק פונקציונליות לניהול מטמון. הערה, הינך חייב לציין את שם המחלקה (לדוגמא\r\n[CMemCache], [CDbCache]). אחרת, יוחזר ערך השווה ל Null ברגע שתנסה לגשת לרכיב זה.\r\n\r\n- [clientScript|CWebApplication::clientScript]: [CClientScript] -\r\nניהול סקריפטים בצד הלקוח (קבצי CSS ו JS).\r\n\r\n- [coreMessages|CApplication::coreMessages]: [CPhpMessageSource] -\r\nמספק תרגום של משפטי המקור אשר מוגדרים במערכת הפנימית של Yii.\r\n\r\n- [db|CApplication::db]: [CDbConnection] - מספק את החיבור של מסד הנתונים. הערה, הינך חייב להגדיר את המאפיין\r\n[connectionString|CDbConnection::connectionString] כדי להשתמש ברכיב זה.\r\n\r\n- [errorHandler|CApplication::errorHandler]: [CErrorHandler] - טיפול בשגיאות PHP ושגיאות חריגות אחרות שלא נתפסו.\r\n\r\n- [format|CApplication::format]: [CFormatter] - מעבד מידע למטרת תצוגה בלבד. אפשרות זאת קיימת מגרסא 1.1.0.\r\n\r\n- [messages|CApplication::messages]: [CPhpMessageSource] - מספק ניהול תרגומים של האפליקציה עצמה.\r\n\r\n- [request|CWebApplication::request]: [CHttpRequest] - מספק מידע הקשור לבקשת המשתמש.\r\n\r\n- [securityManager|CApplication::securityManager]: [CSecurityManager] -\r\nמספק שירותים הקשורים לאבטחת מידע, כגון יצירת HASH והצפנה.\r\n\r\n- [session|CWebApplication::session]: [CHttpSession] - מאפשר שימוש ב SESSIONS.\r\n\r\n- [statePersister|CApplication::statePersister]: [CStatePersister] -\r\nמאפשר ניהול של מידע אשר שמור באופן קבוע.\r\n\r\n- [urlManager|CWebApplication::urlManager]: [CUrlManager] - מאפשר עיבוד של קישורים ויצירתם.\r\n\r\n- [user|CWebApplication::user]: [CWebUser] - מייצג את זהות המשתמש הנוכחי.\r\n\r\n- [themeManager|CWebApplication::themeManager]: [CThemeManager] - ניהול תבניות.\r\n\r\n\r\nמחזור החיים של האפליקציה\r\n----------------------\r\n\r\nבעת טיפול בבקשת המשתמש, אפליקציה תעבור במחזור החיים הבא:\r\n\r\n0. אתחול האפליקציה בעזרת [CApplication::preinit];\r\n\r\n1. הגדרת מחלקת הטעינה האוטומטית ומחלקת טיפול בשגיאות;\r\n\r\n2. רישום רכיבים בסיסים של האפליקציה;\r\n\r\n3. טעינת הגדרות האפליקציה;\r\n\r\n4. אתחול האפליקציה בעזרת [CApplication::init]\r\n- רישום התנהלות האפליקציה;\r\n- טעינת רכיבים סטטיים של האפליקציה;\r\n\r\n5. העלאת אירוע [onBeginRequest|CApplication::onBeginRequest];\r\n\r\n6. תהליך עיבוד בקשת המשתמש:\r\n- עיבוד הבקשה;\r\n- יצירת קונטרולר;\r\n- הרצת קונטרולר;\r\n\r\n7. העלאת אירוע [onEndRequest|CApplication::onEndRequest];\r\n\r\n\r\n<div class="revision">$Id: basics.application.txt 1601 2009-12-18 04:31:19Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(2, 'basics.component', 'basics.component', '', '﻿רכיב\r\n=========\r\n\r\nהאפליקציות ב Yii נבנות תחת רכיבים שהינם אובייקטים אשר נכתבים על פי מפרט מסויים. רכיב הינו אובייקט של [CComponent] או מחלקות אשר נמצאות תחתיו. שימוש ברכיב בדרך כלל משמש כדי לגשת למאפיינים של אותו רכיב והעלאה וניהול של אירועים המוגדרים בו. המחלקה הבסיסית (הראשית) [CComponent] מציינת כיצד להגדיר את המאפיינים והאירועים.\r\n\r\nמאפייני רכיב\r\n------------------\r\n\r\nמאפיין רכיב הוא כמו משתנה במחלקה. ניתן לקרוא את הערך שבו או להגדיר לו ערך חדש. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n$width=$component->textWidth;     // get the textWidth property\r\n$component->enableCaching=true;   // set the enableCaching property\r\n~~~\r\n\r\nכדי להגדיר מאפיין רכיב, כל מה שצריך לעשות זה פשוט להגדיר משתנה במחלקה של אותו רכיב. למרות זאת, אפשרות יותר גמישה תיהיה על ידי הגדרת פונקציות `קריאה` ו `כתיבה` בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\npublic function getTextWidth()\r\n{\r\n    return $this->_textWidth;\r\n}\r\n\r\npublic function setTextWidth($value)\r\n{\r\n    $this->_textWidth=$value;\r\n}\r\n~~~\r\n\r\nהקוד המוצג למעלה מגדיר מאפיין הניתן לכתיבה בשם `textWidth` (השם אינו רגיש לאותיות גדולות-קטנות). בעת קריאה של מאפיין זה הפונקציה `getTextWidth` נכנסת לפעולה והערך שמוחזר ממנה הוא הערך של המשתנה במחלקה; באותו אופן, בעת שמירת ערך למאפיין זה הפונקציה `setTextWidth` נכנסת לפעולה. אם לא הוגדרה פונקציה לכתיבה של אותו מאפיין, המאפיין יהיה ניתן לקריאה-בלבד ובעת ניסיון לשנות את הערך שלו תזרק שגיאה. שימוש בפונקציות קריאה וכתיבה של משתנים/מאפיינים כדי לקרוא אותם ולהגדירם מאפשרת הרצת בדיקות ולוגיקות נוספות (לדוגמא ביצוע אימות נתונים, העלאת אירועים).\r\n\r\n\r\n>Note|הערה: ישנו הבדל קטן בין מאפיין אשר מוגדר בעזרת פונקציות קריאה/כתיבה ומאפיין אשר מוגדר בעזרת משתנה במחלקה. מאפיין המוגדר בעזרת פונקציות שמו לא רגיש לאותיות גדולות-קטנות, לעומת משתנה במחלקה שהינו רגיש לאותיות גדולות-קטנות.\r\n\r\nאירועים ברכיב\r\n---------------\r\n\r\nאירועי רכיב הם תכונות מיוחדות הלוקחות פונקציות (הנקראות `event handlers`) בתור הערכים שלהם. צירוף (הקצאת) פונקציה לאירוע מסויים יגרום לפונקציה לרוץ אוטומטית במקומות בהם האירוע מתרחש. לכן, ההתנהלות של הרכיב יכולה להשתנות בצורה כזאת שלא ניתן לצפות בה מראש במהלך פיתוח הרכיב.\r\n\r\nאירוע ברכיב מוגדר על ידי הגדרת פונקציה ששמה מתחיל ב ''on''. כמו שמות מאפיינים המוגדרים בעזרת פונקציות קריאה/כתיבה, שמות האירועים אינם רגישים לאותיות גדולות-קטנות. הקוד הבא מגדיר אירוע `onClicked`:\r\n\r\n~~~\r\n[php]\r\npublic function onClicked($event)\r\n{\r\n    $this->raiseEvent(''onClicked'', $event);\r\n}\r\n~~~\r\n\r\nאיפה ש `event$` הוא אובייקט של [CEvent] או מחלקות אשר נמצאות תחתיו המייצג את פרמטר האירוע.\r\n\r\nניתן לצרף פונקציה לאירוע זה בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\n$component->onClicked=$callback;\r\n~~~\r\n\r\nכש `callback$` מכוון לפונקצית PHP תקינה. פונקציה זו יכולה להיות פונקציה גלובלית או מתודה במחלקה. אם הוגדר שהיא הינה מתודה במחלקה, יש להגדיר את הערך כמערך כשהאלמנט הראשון הוא האובייקט של אותה מחלקה והשני הוא שם המתודה:\r\n\r\n~~~\r\n[php]\r\narray($object,''methodName'')\r\n~~~\r\n\r\nפונקציה המטפלת באירוע כלשהו צריכה להראות בדומה לקוד הבא:\r\n\r\n~~~\r\n[php]\r\nfunction methodName($event)\r\n{\r\n    ......\r\n}\r\n~~~\r\n\r\nכש `event$` הוא משתנה המכיל מידע אודות האירוע שהועלה (הוא נוצר מהקריאה של `raiseEvent`). המשתנה `event$` הוא אובייקט של [CEvent] או מחלקות הנמצאות תחתיו. המינימום הוא שיכיל מידע של מי העלאה את האירוע.\r\n\r\nהחל מגרסא 1.0.10, ניתן לנהל אירוע על ידי פונקציה אנונימית אשר נתמכת בגרסאת PHP 5.3 ומעלה, לדוגמא,\r\n\r\n~~~\r\n[php]\r\n$component->onClicked=function($event) {\r\n    ......\r\n}\r\n~~~\r\n\r\nאם נקרא ל `onClicked` עכשיו, האירוע `onClicked` יבוצע (בתוך הפונקציה `onClicked`), והפונקציה אשר מטפלת באירוע זה תקרא אוטומטית.\r\n\r\nניתן לצרף כמה פונקציות לטיפול באותו אירוע. כשהאירוע יבוצע והפונקציות יקראו, הם יבוצעו בסדר שהם צורפו לאותו אירוע. אם אחד מהפונקציות המטפלות באירוע רוצה למנוע קריאה לשאר הפונקציות המטפלות באותו האירוע, ניתן להגדיר [$event->handled|CEvent::handled] לערך השווה ל `true` ולא יקראו פונקציות נוספות לטיפול באירוע זה.\r\n\r\nניהול הרכיב\r\n------------------\r\n\r\nהחל מגרסא 1.0.2, לרכיב נוספה תמיכה ב [mixin](http://en.wikipedia.org/wiki/Mixin) וניתנת לצירוף בעזרת ניהול אחד או יותר. *ניהול* הוא אובייקט שניתן `להוריש` את המתודות שלו על ידי הרכיבים המצורפים אליו כדי לאסוף פונקציונליות במקום התמחות מסויימת (לדוגמא, הורשה רגילה של מחלקות). לרכיב ניתן לצרף כמה מחלקות ניהול ובכך להשיג `הורשת מחלקות מרובה`.\r\n\r\nמחלקות ניהוליות חייבות ליישם את הממשק [IBehavior]. רוב המחלקות הניהוליות מרחיבות תחת המחלקה הבסיסית [CBehavior]. אם מחלקה ניהולית צריכה להיות מצורפת [למודל](/doc/guide/basics.model), ניתן להרחיב אותה גם מ [CModelBehavior] או [CActiveRecordBehavior] אשר מיישמות אפשרויות נוספות ספציפיות למודלים.\r\n\r\nבכדי להשתמש במחלקה ניהולית, חובה לצרף אותה לרכיב קודם על ידי קריאה למתודה בשם [attach|IBehavior::attach]. לאחר מכן אנו קוראים למתודה של מחלקה ניהולית דרך הרכיב:\r\n\r\n~~~\r\n[php]\r\n// $name uniquely identifies the behavior in the component\r\n$component->attachBehavior($name,$behavior);\r\n// test() is a method of $behavior\r\n$component->test();\r\n~~~\r\n\r\nניתן לגשת למחלקה ניהולית מצורפת כמו למאפיין רגיל של הרכיב. לדוגמא, אם צרפנו מחלקה ניהולית בשם `tree` לרכיב, ניתן לקבל יחוס של אותה מחלקה על ידי שימוש ב:\r\n\r\n~~~\r\n[php]\r\n$behavior=$component->tree;\r\n// equivalent to the following:\r\n// $behavior=$component->asa(''tree'');\r\n~~~\r\n\r\nניתן לכבות זמנית מחלקה מצורפת כדי שלא יהיה ניתן לגשת למתודות שלה דרך הרכיב. לדוגמא:\r\n\r\n~~~\r\n[php]\r\n$component->disableBehavior($name);\r\n// the following statement will throw an exception\r\n$component->test();\r\n$component->enableBehavior($name);\r\n// it works now\r\n$component->test();\r\n~~~\r\n\r\nישנה אפשרות ששני מחלקות ניהוליות אשר מצורפות לאותו רכיב יכילו מתודות זהות בשמם. במקרה הזה, המתודה של המחלקה שצורפה קודם לכן תקבל זכות על פני השנייה.\r\n\r\nכשמשתמשים ביחד עם [אירועים](#component-event), מחלקות ניהוליות הרבה יותר שימושיות. מחלקה ניהולית, בעת צירופה לרכיב, יכולה לצרף כמה מתודות שלה לכמה אירועים ברכיב. על ידי ביצוע פעולה זו, המחלקה הניהולית מקבלת הזדמנות להתבונן או לשנות את רצף הביצועים הרציפים של הרכיב.\r\n\r\nהחל מגרסא 1.1.0, ניתן לקרוא למאפיינים של מחלקה ניהולית דרך הרכיב אליו הם מצורפים. המאפיינים מכילים גם את המשתנים של המחלקה והמאפיינים אשר מוגדרים באמצעות פונקציות קריאה/כתיבה במחלקה הניהולית. לדוגמא, אם מחלקה ניהולית מכילה מאפיין בשם `xyz` והיא מצורפת לרכיב `a$`, אז נוכל להשתמש בביטוי `a->xyz$` כדי לגשת למאפיין של המחלקה הניהולית המצורפת לרכיב.\r\n\r\n<div class="revision">$Id: basics.component.txt 1474 2009-10-18 21:13:52Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(3, 'basics.controller', 'basics.controller', '', '﻿קונטרולר\r\n==========\r\n\r\n`קונטרולר` הינו אובייקט של [CController] או מחלקות היורשות ממנו. הקונטרולר נוצר על ידי האפליקציה כהמשתמש מבקש אותו.\r\n כשהקונטרולר רץ, הוא מבצע את הפעולה הנחוצה שבדרך כלל נעזרת במודלים ומציגה את התוכן בעזרת קבצי התצוגה.\r\n `פעולה` (Action), בצורה הכי פשוטה שלו, הינו מתודה במחלקה של הקונטרולר אשר מתחילה ב `action`.\r\n\r\nלקונטרולר יש פעולה ברירת מחדל.\r\n כשמשתמש אשר מבקש את הקונטרולר לא מגדיר איזה פעולה לבצע, פעולה ברירת המחדל היא זו שתרוץ.\r\n כברירת מחדל, פעולת ברירת המחדל הינה `index`. ניתן לשנות זאת על ידי הגדרת המאפיין [CController::defaultAction].\r\n\r\nלמטה מוצג הקוד המינימלי כדי ליצור מחלקה לקונטרולר. מאחר ולא קיימים שום פעולות במחלקה במידה והקונטרולר יבוקש על ידי המשתמש תזרק שגיאה.\r\n\r\n~~~\r\n[php]\r\nclass SiteController extends CController\r\n{\r\n}\r\n~~~\r\n\r\nניתוב\r\n-----\r\n\r\nקונטרולרים ופעולות מזוהים על ידי זיהוי יחודי. מזהה יחודי של קונטרולר הוא בפורמט של `path/to/xyz` אשר מכוונת לקובץ המחלקה של הקונטרולר `protected/controllers/path/to/xyzController.php`, כשהמזהה `xyz` יוחלף בשמות אמיתיים של קונטרולרים (לדוגמא `post` מכוון לקובץ `protected/controllers/PostController.php`).\r\nמזהה יחודי של פעולה הינו שמה של המתודה במחלקה ללא הקידומת של `action`. לדוגמא, אם מחלקת הקונטרולר מכילה מתודה בשם `actionEdit`, המזהה היחודי של הפעולה יהיה `edit`.\r\n\r\n> Note|הערה: בגרסאות לפני 1.0.3, הפורמט של המזהה היחודי של הקונטרולר היה `path.to.xyz` במקום `path/to/xyz`.\r\n\r\nבקשת משתמש עבור קונטרולר ופעולה כלשהי מיוצגת כניתוב.\r\n נתב נוצר על ידי שרשור של מזהה היחודי של הקונטרולר והמזהה היחודי של הפעולה מופרדים בסלאש (/).\r\n לדוגמא, הנתב `post/edit` מכוון אל הקונטרולר `PostController` ולפעולה `edit`.\r\n וכברירת מחדל הקישור `http://hostname/index.php?r=post/edit` יטען את הקונטרולר והפעולה הללו.\r\n\r\n> Note|הערה: כברירת מחדל, נתבים רגישים לאותיות גדולות-קטנות.\r\n מגרסא 1.0.1 ומעלה, ניתן לבטל את הרגישות של הנתבים לאותיות גדולות-קטנות על ידי הגדרת [CUrlManager::caseSensitive] לערך השווה ל `false` בהגדרות של האפליקציה.\r\n במצב שהנתבים לא רגישים לאותיות גדולות-קטנות, וודא שהינך עוקב אחר המוסכמות ששמות התיקיות המכילות קונטרולרים כתובים באותיות קטנות באנגלית, [מפת קונטרולרים|CWebApplication::controllerMap] ו [מפת פעולות|CController::actions] משתמשים בשמות מפתח באותיות קטנות ובאנגלית.\r\n\r\nמגרסא 1.0.3 ומעלה, אפליקציה יכולה להכיל [מודולים](/doc/guide/basics.module). הניתוב לפעולה בקונטרולר שונה בפורמט שלה ועכשיו היא בפורמט של `moduleID/controllerID/actionID`. למידע נוסף קרא אודות [מודולים](/doc/guide/basics.module).\r\n\r\nיצירת אובייקט הקונטרולר\r\n------------------------\r\n\r\nאובייקט הקונטרולר נוצר כש [CWebApplication] מטפל בבקשה הנכנסת. עם קבלת המזהה היחודי של הקונטרולר, האפליקציה תשתמש בחוקים הבאים כדי להחליט איזה קונטרולר לטעון ואיפה קובץ המחלקה שלו נמצא.\r\n\r\n- אם [CWebApplication::catchAllRequest] מוגדר, יווצר קונטרולר בהתבסס על המאפיין הזה, והאפליקציה תתעלם מהקונטרולר שהמשתמש ביקש. מאפיין זה נועד כדי לתפוס את כל בקשות המשתמש ולהכווין אותם אל מקום אחד, לדוגמא במצב של תחזוקה באתר יהיה צורך להציג עמוד אחד שמציג הודעת תחזוקה כלשהי.\r\n\r\n- אם המזהה היחודי של הקונטרולר נמצא ב [CWebApplication::controllerMap], ההגדרות של אותו קונטרולר שנמצא ישומשו והאובייקט יווצר בהתבסס על אותם ההגדרות.\r\n\r\n- אם המזהה היחודי הוא בפורמט של `path/to/xyz`, שם המחלקה של הקונטרולר יהיה `XyzController` והקובץ ימצא תחת `protected/controllers/path/to/XyzController.php`. לדוגמא, מזהה יחודי של קונטרולר בשם `admin/user` ינותב למחלקה `UserController` וקובץ המחלקה יהיה `protected/controllers/admin/UserController.php` אם קובץ המחלקה לא קיים, תזרק שגיאה 404 [CHttpException].\r\n\r\nבמקרה של שימוש במודולים (בגרסאות 1.0.3), התהליך המוצג למעלה שונה במקצת. ספציפית, האפליקציה תבדוק אם המזהה היחודי מכוון לקונטרולר בתוך מודול, במידה וכן, אובייקט של המודל יווצר קודם ולאחר מכן יווצר האובייקט של הקונטרולר.\r\n\r\nפעולה\r\n------\r\n\r\nכפי שצויין, ניתן להגדיר פעולה על ידי יצירת מתודה במחלקה של הקונטרולר כששמה מתחיל ב `action`. דרך יותר מתקדמת תיהיה על ידי יצירת מחלקה לפעולה ולבקש מהקונטרולר ליצור אובייקט שלה כשצריך. דרך זו מאפשרת שימוש חוזר בפעולות ויותר שימושית.\r\n\r\nכדי להגדיר פעולה בתור מחלקה יש לבצע את הפעולות הבאות:\r\n\r\n~~~\r\n[php]\r\nclass UpdateAction extends CAction\r\n{\r\n    public function run()\r\n    {\r\n        // place the action logic here\r\n    }\r\n}\r\n~~~\r\n\r\nכדי שהקונטרולר יהיה מודע לפעולה זו, אנחנו דורסים את המתודה [actions|CController::actions] של מחלקת הקונטרולר שלנו:\r\n\r\n~~~\r\n[php]\r\nclass PostController extends CController\r\n{\r\n    public function actions()\r\n    {\r\n        return array(\r\n            ''edit''=>''application.controllers.post.UpdateAction'',\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nבקוד למעלה, אנחנו משתמשים בשם מקוצר `application.controllers.post.UpdateAction` כדי להגדיר שקובץ מחלקת הפעולה נמצא ב `protected/controllers/post/UpdateAction.php`.\r\n\r\nבאמצעות כתיבת פעולות בתור מחלקות, ניתן לארגן את האפליקציה בצורה מודולרית. לדוגמא, ניתן להשתמש במבנה האפליקציה הבא כדי לארגן את כל הקונטרולרים:\r\n\r\n~~~\r\nprotected/\r\n    controllers/\r\n        PostController.php\r\n        UserController.php\r\n        post/\r\n            CreateAction.php\r\n            ReadAction.php\r\n            UpdateAction.php\r\n        user/\r\n            CreateAction.php\r\n            ListAction.php\r\n            ProfileAction.php\r\n            UpdateAction.php\r\n~~~\r\n\r\nפילטרים\r\n------\r\n\r\nפילטר הינו חתיכת קוד אשר מוגדרת לרוץ לפני ו/או אחרי הרצה של פעולה בקונטרולר. לדוגמא, ניתן לבדוק בעזרת פילטר אם משתמש יכול לבצע את הפעולה אותה הוא מנסה להריץ; ניתן להריץ פילטר אשר בודק את משך זמן הרצת הפעולה לצורך קבלת משך זמן הרצת הפעולה.\r\n\r\nכל פעולה יכולה להכיל כמה פילטרים. הפילטרים רצים בסדר בהם הם רשומים ברשימת הפילטרים. פילטר יכול למנוע את ההרצה של פעולה כלשהי והרצה של פילטרים נוספים הבאים אחריה.\r\n\r\nניתן להגדיר פילטר בתור מתודה במחלקת הקונטרולר. שם המתודה חייב להתחיל ב `method`. לדוגמא, הקיום של מתודת הפילטר בשם `filterAccessControl` מגדירה פילטר בשם `accessControl`. מתודת הפילטר צריכה להיות חתומה בפורמט של:\r\n\r\n~~~\r\n[php]\r\npublic function filterAccessControl($filterChain)\r\n{\r\n    // call $filterChain->run() to continue filtering and action execution\r\n}\r\n~~~\r\n\r\nכש `filterChain$` הוא אובייקט של [CFilterChain] אשר מייצג את רשימת הפילטרים המקושרת לפעולה שהתבקשה. בתוך המתודה של הפילטר ניתן לקרוא ל `filterChain->run$` להמשך הרצת הפילטרים הבאים והרצת הפעולה עצמה.\r\n\r\nפילטר יכול להיות גם אובייקט של [CFilter] או מחלקות היורשות ממנו. הקוד הבא מגדיר מחלקת פילטר חדשה:\r\n\r\n~~~\r\n[php]\r\nclass PerformanceFilter extends CFilter\r\n{\r\n    protected function preFilter($filterChain)\r\n    {\r\n        // logic being applied before the action is executed\r\n        return true; // false if the action should not be executed\r\n    }\r\n\r\n    protected function postFilter($filterChain)\r\n    {\r\n        // logic being applied after the action is executed\r\n    }\r\n}\r\n~~~\r\n\r\nכדי לצרף פילטרים לפעולות, יש צורך בלדרוס את המתודה `CController::filters`. המתודה צריכה להחזיר מערך עם רשימת הפילטרים וההגדרות שלהם. לדוגמא,\r\n\r\n~~~\r\n[php]\r\nclass PostController extends CController\r\n{\r\n    ......\r\n    public function filters()\r\n    {\r\n        return array(\r\n            ''postOnly + edit, create'',\r\n            array(\r\n                ''application.filters.PerformanceFilter - edit, create'',\r\n                ''unit''=>''second'',\r\n            ),\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nהקוד למעלה מגדיר שני פילטרים: `postOnly` ו `PerformanceFilter`. הפילטר `postOnly` הוא פילטר המבוסס על מתודה במחלקה הנוכחית (המתודה של הפילטר כבר מוגדרת ב [CController]); בזמן שהפילטר `PerformanceFilter` הוא מבוסס אובייקט. הנתיב המקוצר `application.filters.PerformanceFilter` מציין שהמחלקה לפילטר נמצאת תחת `protected/filters/PerformanceFilter`. אנחנו משתמשים במערך כדי להגדיר את הפילטר `PerformanceFilter` שיהיה ניתן ליצור אותו בעזרת אותם ערכים כמאפיינים של המחלקה של הפילטר. בדוגמא הזאת המאפיין `unit` יווצר ויוגדר לערך השווה ל `second` במחלקה `PerformanceFilter`.\r\n\r\nשימוש באופרטורים של פלוס ומינוס, ניתן להגדיר אילו פעולות הפילטר יצורף אליהם ואילו לא. בדוגמא למעלה, הפילטר `postOnly` יצורף אל הפעולות `edit` ו `create` , בזמן שהפילטר `PerformanceFilter` יצורף אל כל הפעולות **מלבד** `edit` ו `create`. אם בהגדרות הפילטר לא יוגדרו פלוס או מינוס, הפילטר יצורף אל כל הפעולות.\r\n\r\n<div class="revision">$Id: basics.controller.txt 1264 2009-07-21 19:34:55Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(4, 'basics.convention', 'basics.convention', '', '﻿מוסכמות\r\n===========\r\n\r\nYii מעדיפה מוסכמות על הגדרות. לעקוב אחר המוסכמות וניתן יהיה לבנות אפליקציות מתוחכמות ללא צורך בכתיבה וניהול של הגדרות מסובכות. כמובן, עדיין יהיה ניתן להגדיר את כל ההגדרות של Yii כשצריך.\r\n\r\nלמטה מוצגים המוסכמות המומלצים כשמתכנתים בעזרת Yii. לנוחות, אנחנו מניחים ש `webRoot` מנותב לתיקיה הראשית בה מותקנת האפליקציה של Yii.\r\n\r\nקישורים\r\n---\r\n\r\nכברירת מחדל, Yii מזהה קישורים בפורמט הבא:\r\n\r\n~~~\r\nhttp://hostname/index.php?r=ControllerID/ActionID\r\n~~~\r\n\r\nהפרמטר `r` מכוון אל [נתב](/doc/guide/basics.controller#route) אשר ניתן לעבד אותו לקונטרולר ופעולה. במידה והמזהה היחודי של הפעולה `ActionID` חסר, הקונטרולר יריץ את פעולת ברירת המחדל המוגדרת באמצעות [CController::defaultAction]; במידה והמזהה היחודי של הקונטרולר `controllerID` חסר (או הפרמטר `r` חסר) האפליקציה תריץ את הקונטרולר המוגדר כברירת מחדל בעזרת [CWebApplication::defaultController].\r\n\r\nבעזרת [CUrlManager], ניתן ליצור קישורים יותר ידידותיים גם ל SEO, כמו לדוגמא `http://hostname/ControllerID/ActionID.html`. ניתן לקרוא בהרחבה אודות אפשרות זו [בניהול קישורים](/doc/guide/topics.url).\r\n\r\n\r\nקוד\r\n----\r\n\r\nYii ממליצה לקרוא למשתנים, פונקציות ומחלקות בפורמט של camelCase (פורמט אשר רושמים ראשונה במילה כאות גדולה ולחבר אותם ללא רווחים). שמות משתנים ופונקציות צריכות שהמילה הראשונה בשם שלהם תיהיה כולה באותיות קטנות (מילה ראשונה באותיות קטנות כל שאר המילים האות הראשונה במילה כאות גדולה ולחברם ביחד ללא רווחים), כדי להבדיל אותם משמות מחלקה (לדוגמא  `$basePath`, `runController()`, `LinkPager`). למשתנים פרטיים (המוגדרים כ `private`) במחלקה מומלץ להוסיף קו תחתון (_) לשמם לדוגמא (`$_actionList`).\r\n\r\nמאחר והתמיכה במרחבי שמות לא נתמכת בגרסאות PHP מתחת ל 5.3.0, מומלץ לקרוא למחלקות בשמות יחודיים כדי למנוע סתירות בין שמות מחלקות. מסיבה זו, כל המחלקות הבסיסיות של Yii מתחילות באות ''C''.\r\n\r\nחוק ברזל לשמות מחלקות הוא שהם צריכים להסתיים במילה `Controller`. המזהה היחודי של הקונטרולר מוגדר כשם המחלקה באותיות קטנות בלבד וללא המילה `Controller`. לדוגמא, מחלקת הקונטרולר `PageController` תקבל את המזהה היחודי `page`. חוק זה מוודא שהאפליקציה תיהיה מאובטחת יותר. בנוסף הוא מציג את הקישורים בצורה נקייה יותר (לדוגמא `/index.php?r=page/index` במקום `/index.php?r=PageController/index` ).\r\n\r\nהגדרות\r\n-------------\r\n\r\nהגדרות הם מערך זוגות של מפתחות וערכים. כל מפתח מייצג את שמו של המאפיין של הרכיב שצריך להגדיר, וכל ערך מייצג את הערך הראשוני של אותו מאפיין. לדוגמא , `array(''name''=>''My\r\napplication'', ''basePath''=>''./protected'') מאתחל את המאפיינים `name` ו `basePath` באפליקציה בהתאם לערכים המוגדרים במערך.\r\n\r\nכל המאפיינים (הציבוריים - Public) באובייקט ניתנים להגדרה. אם לא הוגדרו, המאפיינים יקבלו את ערך ברירת המחדל שלהם. כשמגדירים מאפיין כלשהו, רצוי לקרוא בדוקומנטציה אודות המאפיין כדי להגדיר את הערך המתאים.\r\n\r\nקובץ\r\n----\r\n\r\nמוסכמות להגדרת שמות ושימוש בקבצים תלויים בסוג שלהם.\r\n\r\nשמות קבצי מחלקות צריכות להקרא על פי המחלקה הציבורית הנמצאת בהם. לדוגמא, שם הקובץ של המחלקה [CController] הוא `CController.php`. מחלקה ציבורית הינה מחלקה שניתן להשתמש בה בכל מחלקה אחרת. רצוי שכל קובץ מחלקה יכיל מחלקה ציבורית אחת לכל היותר. מחלקות פרטיות (מחלקות אשר ניתן להשתמש בהם במחלקה ציבורית אחת בלבד) יכול להיות בתוך אותו קובץ של המחלקה הציבורית שבה היא משומשת.\r\n\r\nקבצי תצוגה צריכים להקרא על פי שמות התצוגה. לדוגמא, שם קובץ התצוגה `index` יהיה `index.php`. קובץ תצוגה הוא קובץ PHP המכיל בעיקר קוד PHP ו HTML למטרת תצוגה בעיקר.\r\n\r\nקבצי הגדרות יכולים להקרא באופן שרירותי. קובץ הגדרות הוא קובץ PHP המכיל ומחזיר מערך של הגדרות.\r\n\r\nתיקיה\r\n---------\r\n\r\nYii מניח כברירת מחדל כמה תיקיות אשר הוא משתמש למטרות שונות. את כל אחד ניתן להגדיר בצורה שונה במידה וצריך.\r\n\r\n- `WebRoot/protected`: זוהי [התיקיה הראשית](/doc/guide/basics.application#application-base-directory) של האפליקציה המכילה קבצים וסקריפטים של PHP רגישים. Yii מגדירה שם מקוצר ברירת מחדל בשם `application` אשר מנותבת לתיקיה זו. תיקיה זו וכל מה שבתוכה צריכה להיות מוגנת מפני גישה של משתמשי קצה. ניתן להגדירה בעזרת [CWebApplication::basePath].\r\n\r\n- `WebRoot/protected/runtime`: תיקיה זו מכילה קבצים זמניים פרטיים הנוצרים בזמן הרצת האפליקציה. תיקיה זו חייבת לקבל הרשאות כתיבה על ידי השרת. ניתן להגדירה בעזרת [CApplication::runtimePath].\r\n\r\n- `WebRoot/protected/extensions`: תיקיה זו מכילה את כל התוספים למערכת. ניתן להגדירה בעזרת [CApplication::extensionPath].\r\n\r\n- `WebRoot/protected/modules`: תיקיה זו מכילה את כל [המודולים](/doc/guide/basics.module) של האפליקציה, כל אחת מייצגת כתת-תיקיה.\r\n\r\n- `WebRoot/protected/controllers`: תיקיה זו מכילה את כל הקונטרולרים של האפליקציה. ניתן להגדירה בעזרת [CWebApplication::controllerPath].\r\n\r\n- `WebRoot/protected/views`: תיקיה זו מכילה את כל קבצי התצוגה, הכוללים את קבצי התצוגה של הקונטרולרים, קבצי תצוגת התבניות, וקבצי תצוגה מערכתיים. ניתן להגדירה בעזרת [CWebApplication::viewPath].\r\n\r\n- `WebRoot/protected/views/ControllerID`: תיקיה זו מכילה את קבצי התצוגה לקונטרולר יחיד. במקרה הזה `ControllerID` מייצג את המזהה היחודי של הקונטרולר. ניתן להגדיר זאת על ידי [CController::viewPath].\r\n\r\n- `WebRoot/protected/views/layouts`: תיקיה זו מכילה את כל קבצי התבניות של האפליקציה. ניתן להגדירה בעזרת [CWebApplication::layoutPath].\r\n\r\n- `WebRoot/protected/views/system`: תיקיה זו מכילה את כל קבצי התצוגה המערכתיים כמו התצוגה של שגיאות ולוגים של המערכת. ניתן להגדיר זאת על ידי [CWebApplication::systemViewPath].\r\n\r\n- `WebRoot/assets` : תיקיה זו מכילה את קבצי הנכסים (JS, CSS) , קבצים אלו הם פרטיים אשר ניתן לפרסמם כדי שמשתמשי קצה יוכלו לגשת אליהם. תיקיה זו צריכה לקבל הרשאות כתיבה על ידי השרת כדי לתפקד כראוי. ניתן להגדירה בעזרת [CAssetManager::basePath].\r\n\r\n- `WebRoot/themes` : תיקיה זו מכילה עיצובים שונים אשר ניתן להשתמש בהם באפליקציה. כל תת תיקיה מייצגת עיצוב בודד ששמו הוא שם התיקיה בה הוא נמצא. ניתן להגדיר את נתיב התיקיה בעזרת [CThemeManager::basePath].\r\n \r\nמסד נתונים\r\n--------\r\n\r\nמרבית אפליקציות הווב מגובות על ידי מסד נתונים. לצרכי תרגול טוב, אנחנו ממליצים על נתינת שמות בפורמט הבא לטבלאות ועמודות במסדי הנתונים. למרות ש Yii אינו מחייב זאת.\r\n\r\n- שמות הטבלאות והעמודות צריכות להיות כתובות באותיות קטנות בלבד.\r\n\r\n- המילים בשם צריכים להיות מופרדים בקו תחתון ( _ ) לדוגמא `product_order`.\r\n\r\n- שמות טבלאות יכולות להיות בפורמט של יחיד או רבים, אך לא שניהם. לפשטות, אנו ממליצים שימוש בפורמט של יחיד.\r\n\r\n- ניתן להגדיר קידומת לשמות טבלאות כמו `_tbl`. זה במיוחד רצוי כשהטבלאות של האפליקציה חולקות את אותו המסד עם אפליקציה נוספת. ניתן להפריד והבדיל בין הטבלאות בעזרת הקידומת שלהם.\r\n\r\n<div class="revision">$Id: basics.convention.txt 1768 2010-02-01 01:34:15Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(5, 'basics.entry', 'basics.entry', '', '﻿קובץ כניסה ראשי\r\n============\r\n\r\nקובץ הכניסה הראשי הינו סקריפט PHP אשר מקבל את בקשת המשתמש לראשונה וקובע את טעינת האפליקציה. זהו קובץ ה PHP היחידי שמשתמש הקצה יכול לבקש להריץ.\r\n\r\nברוב המקרים, קובץ הכניסה הראשי באפליקציה של Yii מכיל את הקוד הפשוט הבא,\r\n\r\n~~~\r\n[php]\r\n// remove the following line when in production mode\r\ndefined(''YII_DEBUG'') or define(''YII_DEBUG'',true);\r\n// include Yii bootstrap file\r\nrequire_once(''path/to/yii/framework/yii.php'');\r\n// create application instance and run\r\n$configFile=''path/to/config/file.php'';\r\nYii::createWebApplication($configFile)->run();\r\n~~~\r\n\r\nהסקריפט קודם כל טוען את קובץ הכניסה הראשי של Yii בשם `yii.php` מהתיקיה הראשית של הפריימוורק. לאחר מכן היא יוצרת אובייקט של האפליקציה עם ההגדרות הדרושות ומריצה אותו.\r\n\r\nמצב ניפוי שגיאות\r\n----------\r\n\r\nאפליקצית Yii יכולה לרוץ במצב של ניפוי שגיאות או במצב רגיל (תפוקתי - Production) בהתאם לערך שהוגדר במשתנה הקבוע `YII_DEBUG`. כברירת מחדל, משתנה זה מוגדר לערך השווה ל `false`, משמע מצב רגיל. כדי להריץ את האפליקציה במצב של ניפוי שגיאות, יש לקבוע את המשתנה הזה לערך השווה ל `true` לפני הוספת הקובץ `yii.php`. הרצת אפליקציה במצב של ניפוי שגיאות היא לא יעילה מאחר והיא שומרת הרבה לוגים ומידע אודות הרצת האפליקציה. מצד שני, הרצת אפליקציה במצב של ניפוי שגיאות מקלה על פיתוח האפליקציה מאחר והיא מציגה מידע ולוגים אודות השגיאות אשר קוראות במהלך הרצת האפליקציה.\r\n\r\n<div class="revision">$Id: basics.entry.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(6, 'basics.model', 'basics.model', '', '﻿מודל\r\n=====\r\n\r\nמודל הוא אובייקט של [CModel] או מחלקות היורשות ממנו. שימוש במודלים נועד כדי לשמור את המידע והלוגיקה מאחוריהם.\r\n\r\nמודל מייצג אובייקט מידע יחיד. אובייקט זה יכול לייצג רשומה אחת במסד הנתונים טבלה או טופס של נתונים שהמשתמש הזין. כל שדה של אובייקט המידע מיוצג כמאפיין של המודל. למאפיין ישנה תוית וניתן לאמת אותו מול רשימה של חוקים.\r\n\r\nYii מיישמת שני סוגים של מודלים: מודל טופס ומודל AR. שניהם יורשים מאותה מחלקה בסיסית בשם [CModel].\r\n\r\nמודל טופס הוא אובייקט של [CFormModel]. מודל טופס נועד לאחסון מידע שהוזן על ידי המשתמש. בדרך כלל מידע זה נאסף, משומש, ונזרק. לדוגמא, בעמוד התחברות, ניתן להשתמש במודל טופס כדי לייצג מידע של שם המשתמש והסיסמא שהמשתמש הזין. למידע נוסף, יש לקרוא [כיצד לעבוד עם טפסים](/doc/guide/form.model).\r\n\r\nAR (Active Record) הינו דפוס אשר ניתן להשתמש בגישה למסד הנתונים, טבלאות ורשומות בצורה של תכנות מונחה-עצמים. כל אובייקט AR הינו אובייקט של [CActiveRecord] או מחלקות היורשות ממנו, המייצג שורה אחת בטבלה במסד הנתונים. העמודות בשורה מיוצגות כמאפיינים של אובייקט ה AR. למידע נוסף יש לקרוא אודות  [Active Record](/doc/guide/database.ar).\r\n\r\n<div class="revision">$Id: basics.model.txt 162 2008-11-05 12:44:08Z weizhuo $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(7, 'basics.module', 'basics.module', '', '﻿מודול\r\n======\r\n\r\n> Note|הערה: תמיכה במודולים קיימת מגרסא 1.0.3 ומעלה.\r\n\r\nמודול היא יחידה בפני עצמה המורכבת מ - [מודלים](/doc/guide/basics.model), [קבצי תצוגה](/doc/guide/basics.view), [קונטרולרים](/doc/guide/basics.controller) ושאר רכיבים נתמכים. במובנים רבים, מודול דומה ל[אפליקציה](/doc/guide/basics.application). ההבדל היחידי הוא שלא ניתן לפרוס מודול כפי שהוא והוא חייב להיות ממוקם בתוך אפליקציה. ניתן לגשת לקונטרולרים בתוך מודול כפי שניגשים לקונטרולר רגיל באפליקציה.\r\n\r\nמודולים יעילים בכמה תסריטים. בעבור אפליקציה גדולה במיוחד, ניתן לחלק אותה למספר מודולים, כל אחד מפותח ומתוחזק בצורה נפרדת. כמה חלקים אשר משתמשים בהם לעיתים קרובות, כמו ניהול משתמשים, ניהול תגובות, יכולים להיות מפותחים בפורמט של מודול כדי שיהיה ניתן להשתמש בהם בקלות בפרוייקטים עתידיים.\r\n\r\nיצירת מודול\r\n---------------\r\n\r\nמודול מאורגן על פי תיקיה ששמה הוא [המזהה היחודי|CWebModule::id] של המודול. המבנה של התיקיות בתוך מודול הוא בדומה למבנה של [התיקיות באפליקציה](/doc/guide/basics.application#application-base-directory). הדוגמא הבאה מציגה מבנה של תיקיות פשוט של מודול בשם `forum`:\r\n\r\n~~~\r\nforum/\r\n   ForumModule.php            קובץ המחלקה של המודול\r\n   components/                מכיל רכיבים אשר ניתן להשתמש בכל מקום במודול\r\n      views/                  מכיל קבצי וידג''טים\r\n   controllers/               מכיל קבצי מחלקות הקונטרולרים\r\n      DefaultController.php   קונטרולר ברירת המחדל\r\n   extensions/                מכיל תוספות צד שלישי\r\n   models/                    מכיל את קבצי המודלים\r\n   views/                     מכיל את קבצי התצוגה\r\n      layouts/                מכיל את תבניות התצוגה\r\n      default/                DefaultController מכיל קבצי תצוגה השייכים ל\r\n         index.php            קובץ תצוגה\r\n~~~\r\n\r\nמודול חייב להכיל מחלקה אשר יורשת מהמחלקה [CWebModule]. שם המחלקה נקבע על פי הביטוי `ucfirst($id).''Module''`, איפה ש `id$` מתייחס למזהה היחודי של המודול (או שמה של התיקיה של המודול). מחלקת המודול משרתת כמקום מרכזי לאחסון ושיתוף המידע לאורך כל קוד המודול. לדוגמא, ניתן להשתמש ב [CWebModule::params] כדי לשמור פרמטרים של המודול, ולהשתמש ב [CWebModule::components] כדי לשתף [רכיבי אפליקציה](/doc/guide/basics.application#application-component) ברמת המודול.\r\n\r\n> Tip|טיפ: אנו יכולים להשתמש בכלי בשם Gii כדי ליצור מודול עם המבנה הבסיסי של מודול חדש.\r\n\r\nשימוש במודול\r\n------------\r\n\r\nכדי להשתמש במודול, ראשית יש ליצור תיקיה בשם `modules` תחת [התיקיה הראשית](/doc/guide/basics.application#application-base-directory) של האפליקציה. לאחר מכן יש להגדיר את המזהה היחודי של המודול במאפיין [modules|CWebApplication::modules] של האפליקציה. לדוגמא, כדי להשתמש במודול המוצג למעלה `forum`, ניתן להשתמש [הגדרות אפליקציה](/doc/guide/basics.application#application-configuration) הבאות:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ......\r\n    ''modules''=>array(''forum'',...),\r\n    ......\r\n);\r\n~~~\r\n\r\nניתן להגדיר מודול עם המאפיינים הראשוניים שלו מוגדרים בצורה שונה. השימוש הוא דומה מאוד [להגדרות רכיב](/doc/guide/basics.application#application-component). לדוגמא, מודול ה `forum` יכול להכיל מאפיין בשם `postPerPage` בתוך מחלקת המודול שלו שניתן להגדירו [בהגדרות האפליקציה](/doc/guide/basics.application#application-configuration) בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ......\r\n    ''modules''=>array(\r\n        ''forum''=>array(\r\n            ''postPerPage''=>20,\r\n        ),\r\n    ),\r\n    ......\r\n);\r\n~~~\r\n\r\nניתן לגשת לאובייקט המודול בעזרת המאפיין [module|CController::module] של הקונטרולר הפעיל כרגע. דרך האובייקט של המודול, ניתן לגשת למידע אשר משותף ברמת המודול. לדוגמא, בכדי לגשת למידע של `postPerPage`, ניתן להשתמש בביטוי:\r\n\r\n~~~\r\n[php]\r\n$postPerPage=Yii::app()->controller->module->postPerPage;\r\n// or the following if $this refers to the controller instance\r\n// $postPerPage=$this->module->postPerPage;\r\n~~~\r\n\r\nניתן לגשת לפעולה בקונטרולר בתוך מודול על ידי [הניתוב](/doc/guide/basics.controller#route) `moduleID/controllerID/actionID`. לדוגמא, נניח שלמודול `forum` המוצג למעלה ישנו קונטרולר בשם `PostController`, ניתן להשתמש [בניתוב](/doc/guide/basics.controller#route) `forum/post/create`  כדי לנתב את הבקשה אל הפעולה `create` אשר נמצאת בקונטרולר. הקישור המתאים לניתוב זה יהיה `http://www.example.com/index.php?r=forum/post/create`.\r\n\r\n> Tip|טיפ: במידה והקונטרולר הוא בתת תיקיה תחת `controllers`, אנו עדיין יכולים להשתמש בפורמט של [הניתוב](/doc/guide/basics.controller#route) המוצג למעלה. לדוגמא, נניח ש `PostController` נמצא תחת `forum/controllers/admin`, ניתן לגשת לפעולה `create` על ידי שימוש ב `forum/admin/post/create`.\r\n\r\nשרשור מודולים\r\n-------------\r\n\r\nניתן לשרשר מודולים. זאת אומרת, שמודול יכול להכיל מודול נוסף. אנו קוראים לקודם *מודל אב* (*parent module*) ואת המודול תחתיו *תת מודול* (*child module*). תתי מודולים צריכים להיות ממוקמים בתוך תיקית `modules` של מודול האב. כדי לגשת לפעולה של קונטרולר בתת מודול, יש צורך להשתמש בניתוב `parentModuleID/childModuleID/controllerID/actionID`.\r\n\r\n\r\n<div class="revision">$Id: basics.module.txt 2042 2009-02-25 21:45:42Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(8, 'basics.mvc', 'basics.mvc', '', '﻿מודל-תצוגה-קונטרולר (MVC)\r\n===========================\r\n\r\nYii מאמצת את השימוש בדפוס של מודל-תצוגה-קונטרולר (MVC) אשר משתמשים בה לרוב בשפות פיתוח. MVC נועד להפרדת הקוד מהעיצוב כדי שלמפתחים יהיה יותר קל לשנות חלק מסויים בקוד מבלי להשפיע על חלק אחר.\r\nב MVC, המודל מייצג את המידע (התוכן) והלוגיקה; התצוגה מכיל אלמנטים של ממשקי המשתמש כמו טקסט, טפסים; והקונטרולר מנהל את התקשורת בין המודל לתצוגה.\r\n\r\nבנוסף ל MVC, Yii מציגה קונטרולר-ראשי, הנקרא אפליקציה, המייצג את הנתונים בהקשר של עיבוד בקשת המשתמש. אפליקציה מעבדת את בקשת המשתמש ומנתבת אותה לקונטרולר המתאים להמשך הניהול והעיבוד.\r\n\r\nהדיאגרמה הבאה מציגה את המבנה הסטטי של אפליקציה ב Yii:\r\n\r\n![מבנה סטטי של אפליקציה ב Yii](structure.png)\r\n\r\n\r\nרצף עבודה אופייני\r\n------------------\r\n\r\nהדיאגרמה הבאה מציגה את רצף העבודה האופייני של אפליקצית Yii כשהיא מנהלת בקשת משתמש:\r\n\r\n![רצף עבודה אופייני לאפליקציה ב Yii](flow.png)\r\n\r\n1. משתמש מבצע בקשה לקישור `http://www.example.com/index.php?r=post/show&id=1` ושרת הווב מטפל בבקשה ומריץ את קובץ הכניסה הראשי `index.php`.\r\n2. קובץ הכניסה הראשי יוצר אובייקט של [האפליקציה](/doc/guide/basics.application) ומריץ אותו.\r\n3. האפליקציה מקבלת את המידע המפורט אודות בקשת המשתמש [מרכיב האפליקציה](/doc/guide/basics.application#application-component) בשם `request`.\r\n4. האפליקציה מחליטה את [הקונטרולר](/doc/guide/basics.controller) [והפעולה](/doc/guide/basics.controller#action) שצריך להריץ בעזרת רכיב אפליקציה בשם `urlManager`. בדוגמא זו, הקונטרולר הוא `post` אשר מנותב אל המחלקה `PostController`; והפעולה היא `show` אשר פעולתה מוגדרת בקונטרולר.\r\n5. האפליקציה יוצרת אובייקט של אותו קונטרולר להמשך הטיפול בבקשת המשתמש. הקונטרולר מחליט שהפעולה `show` מנותבת למתודה במחלקה בשם `actionShow`. לאחר מכן היא יוצרת ומריצה פילטרים (לדוגמא הרשאות גישה, בדיקות) המצורפים לפעולה זו. הפעולה רצה אם היא עוברת את תהליך הפילטרים.\r\n6. הפעולה קוראת [מודל](/doc/guide/basics.model) של `Post` אשר מספר המזהה היחודי שלו הוא `1` מתוך מסד הנתונים.\r\n7. הפעולה מגישה קובץ [תצוגה](/doc/guide/basics.view) בשם `show` עם המודל `Post`.\r\n8. קובץ התצוגה קורא ומציג את המאפיינים של מודל ה `Post`.\r\n9. קובץ התצוגה מריץ כמה [וידג''טים](/doc/guide/basics.view#widget).\r\n10. התוכן הסופי של קבצי התצוגה נכנס אל תוך [תבנית](/doc/guide/basics.view#layout).\r\n11. הפעולה מסיימת את הגשת קבצי התצוגה ומציגה את התוכן למשתמש.\r\n\r\n<div class="revision">$Id: basics.mvc.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(9, 'basics.namespace', 'basics.namespace', '', '﻿מרחבי שמות וקיצורי שמות לנתיבים\r\n========================\r\n\r\nYii משתמשת בשמות מקוצרים לנתיבים באופן נרחב. שם מקוצר משוייך לנתיב מלא לתיקיה או קובץ כלשהו בשרת. השמות המקוצרים כתובים בפורמט של נקודות ( Dot Syntax . ), בדומה לפורמט בו משתמשים למרחבי שמות:\r\n\r\n~~~\r\nRootAlias.path.to.target\r\n~~~\r\n\r\nאיפה ש `RootAlias` הוא שם מקוצר לנתיב קיים כלשהו. על ידי קריאה ל [YiiBase::setPathOfAlias], ניתן להגדיר שמות מקוצרים לנתיבים. לנוחות השימוש, Yii מגדירה מראש את השמות המקוצרים הבאים כברירת מחדל:\r\n\r\n- `system`: מתייחס לתיקיה הראשית של הפריימוורק (היכן ש Yii נמצא) .\r\n- `zii`: מתייחס לתיקיה של [ספריית Zii](/doc/guide/extension.use#zii-extensions)\r\n- `application`: מתייחס לתיקיה [הראשית](/doc/guide/basics.application#application-base-directory) של האפליקציה.\r\n- `webroot`: מתייחס לתיקיה בו נמצא [קובץ הגישה](/doc/guide/basics.entry) הראשי. שם מקוצר זה קיים מגרסא 1.0.3 ומעלה.\r\n- `ext`: מתייחס לתיקיה בה נמצאים כל [התוספים](/doc/guide/extension.overview). שם מקוצר זה קיים מגרסא 1.0.8 ומעלה.\r\n\r\nבנוסף, במידה והאפליקציה משתמשת [מודלים](/doc/guide/basics.module), נוצר שם מקוצר לכל מודול על פי שמו היחודי אשר מכוון לתיקיה הראשית של אותו מודול. אפשרות זאת קיימת מגרסא 1.0.3 ומעלה.\r\n\r\nעל ידי שימוש ב [YiiBase::getPathOfAlias], ניתן להמיר שם מקוצר לנתיב המדוייק אליו הוא מכוון. לדוגמא, `system.web.CController` יתורגם לנתיב `yii/framework/web/CController` לאחר הקריאה.\r\n\r\nבאמצעות שימוש בשמות מקוצרים, יבוא מחלקות ניתן לעשות בצורה קלה יחסית. לדוגמא, אם ברצוננו לייבא את המחלקה [CController], ניתן לקרוא לפקודה הבאה:\r\n\r\n~~~\r\n[php]\r\nYii::import(''system.web.CController'');\r\n~~~\r\n\r\nשימוש בפונקצית ה [import|YiiBase::import] שונה משימוש ב `include` ו `require` מאחר והיא יותר יעילה. מכיוון שאת המחלקה אותה מייבאים לא מוסיפים מייד אלה בפעם הראשונה בה קוראים למחלקה. ייבוא של אותו מרחב שם כמה פעמים הרבה יותר מהיר משימוש ב `include_once` ו `require_once`.\r\n\r\n> Tip|טיפ: כשמתייחסים למחלקה אשר נמצאת תחת הפריימוורק של Yii, אין צורך בלייבא את אותה מחלקה. כל מחלקות הבסיס של Yii כבר מיובאות.\r\n\r\nניתן גם להשתמש בתחביר הבא כדי לייבא תיקיה שלמה עם כל המחלקות והקבצים שנמצאים בתוכה כדי שנוכל להשתמש בהם בעת הצורך ללא כל צורך בטעינה של כל אחד מהם בנפרד.\r\n\r\n~~~\r\n[php]\r\nYii::import(''system.web.*'');\r\n~~~\r\n\r\nמלבד [import|YiiBase::import], ניתן להשתמש בשמות מקוצרים במקומות אחרים כדי להתייחס למחלקות. לדוגמא, ניתן להשתמש בשם מקוצר כדי ליצור אובייקט של מחלקה בעזרת [Yii::createComponent], גם אם המחלקה לא נוספה בעבר.\r\n\r\nיש לזכור לא להתבלבל בין שמות מקוצרים למרחבי שמות. מרחב שם מתייחס לקיבוץ לוגי של שמות מחלקה כדי שניתן יהיה להבדיל ביניהם לבין מחלקות נוספות בעלות אותו השם, בעוד שקיצור שם נועד להתייחסות לקובץ או תיקיה. שמות מקוצרים לא סותרים את מרחבי השמות.\r\n\r\n> Tip|טיפ: מאחר ומרחבי שמות לא נתמכים בגרסאות מתחת ל 5.3.0 ב PHP, לא ניתן ליצור אובייקט של שני מחלקות שונות בעלות אותו השם. מסיבה זו, כל שמותיהם של המחלקות הבסיסיות של Yii מתחילות באות ''C'' (אשר מייצג ''class'' מחלקה) כדי שיהיה ניתן להבדיל בניהם לבין המחלקות שנוצרות על ידי המשתמש וכדי למנוע סתירה בין שמות המחלקות. רצוי ששמות המחלקה הנוצרים על ידי המשתמשים לא יתחילו באות ''C'' מאחר וזה שמור למחלקות הבסיסיות של Yii. ושמות מחלקות שנוצרות על ידי המשתמש יתחילו באות אחרת.\r\n\r\n<div class="revision">$Id: basics.namespace.txt 1602 2009-12-18 19:33:34Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(10, 'basics.view', 'basics.view', '', '﻿תצוגה\r\n====\r\n\r\nקובץ תצוגה הוא קובץ PHP המכיל בעיקר אלמנטים הקשורים לממשק המשתמש. קובץ זה יכול להכיל פקודות PHP, אבל רצוי שפקודות אלו לא ישנו מידע לגבי המודלים וישארו פשוטות יחסית. למען הלוגיקה של הפרדת הקוד מהעיצוב, חלקים גדולים של פקודות PHP צריכות להיות ממוקמות בקבצי הקונטרולר והמודלים ולא בקבצי התצוגה.\r\n\r\nלקובץ תצוגה יש שם אשר נועד למטרת זיהוי בעת הקריאה לאותו הקובץ. שמו של קובץ התצוגה זהה לשם הקובץ הפיזי בו הוא נשמר. לדוגמא, קובץ תצוגה בשם `edit` מתייחס לקובץ סקריפט PHP בשם `edit.php`. כדי לטעון קובץ תצוגה יש לקרוא לפונקציה [CController::render] כשהפרמטר הראשון בפונקציה הוא שמו של קובץ התצוגה אותו רוצים להציג. הפונקציה תחפש אחר קובץ התצוגה המתאים תחת הנתיב `protected/views/ControllerID`.\r\n\r\nבתוך קובץ התצוגה, ניתן לגשת לאובייקט הקונטרולר בעזרת האובייקט `this$`. לכן ניתן לגשת לכל מאפיין/משתנה של המחלקה בעזרת קריאה ל `this->propertyName$` בתוך קובץ התצוגה.\r\n\r\nכמו כן ניתן להשתמש בשיטה הבאה כדי `לדחוף` נתונים אל קובץ התצוגה:\r\n\r\n~~~\r\n[php]\r\n$this->render(''edit'', array(\r\n    ''varone''=>$value1,\r\n    ''vartwo''=>$value2,\r\n));\r\n~~~\r\n\r\n\r\nבקוד המוצג למעלה, הפונקציה [render|CController::render] תחלץ את המערך המוגדר בפרמטר השני כערכים. כתוצאה, בתוך קובץ התצוגה ניתן יהיה לגשת למשתנים `varone$` ו `vartwo$`.\r\n\r\n\r\n\r\nתבנית\r\n------\r\n\r\nתבנית מהווה כקובץ תצוגה מיוחד הנועד לעטר את קבצי התצוגה הרגילים (המוצגים למעלה). בדרך כלל הוא מכיל חלקים של ממשקי משתמש אשר מוצגים בכל מקום. לדוגמא, קובץ תבנית יכול להכיל את ראש הדף ואת תחתית הדף ולהציג את התוכן באמצע.\r\n\r\n~~~\r\n[php]\r\n......header here......\r\n<?php echo $content; ?>\r\n......footer here......\r\n~~~\r\n\r\nכשהערך `content$` מכיל את התוצאה של אותם קבצי תצוגה שקראנו להם קודם לכן בעזרת [render|CController::render].\r\n\r\nתבנית מיושמת ברגע שיש קריאה ל [render|CController::render]. כברירת מחדל, קובץ התצוגה `protected/views/layouts/main.php` מוגדר כקובץ התבנית. ניתן לשנות זאת על ידי שינוי הערך של [CWebApplication::layout] או [CController::layout]. כדי לקרוא לקובץ תצוגה ולהציג אותו ללא קובץ תבנית, יש לקרוא לפונקציה [renderPartial|CController::renderPartial] במקום [render|CController::render].\r\n\r\nוידג''ט\r\n------\r\n\r\nוידג''ט הוא אובייקט של [CWidget] או במחלקות הנמצאות תחתיו. זהו רכיב המיועד בעיקר למטרות תצוגה. וידג''טים בדרך כלל מוטמעים בקבצי תצוגה כדי ליצור ממשקים מורכבים אך כלליים. לדוגמא, וידג''ט לוח-שנה יכול לשמש כדי להציג לוח-שנה מורכב בממשק המשתמש. וידג''טים מאפשרים שימוש חוזר טוב יותר לצרכי תצוגה.\r\n\r\nכדי להשתמש ב וידג''ט השתמש בצורה הבאה בקובץ תצוגה:\r\n\r\n~~~\r\n[php]\r\n<?php $this->beginWidget(''path.to.WidgetClass''); ?>\r\n...תוכן כלשהו שניתן לתפוס בעזרת ה וידג''ט...\r\n<?php $this->endWidget(); ?>\r\n~~~\r\n\r\nאו\r\n\r\n~~~\r\n[php]\r\n<?php $this->widget(''path.to.WidgetClass''); ?>\r\n~~~\r\n\r\nהדוגמא השנייה משמשת כשהוידג''ט לא צריך לתפוס שום תוכן.\r\n\r\nניתן לשנות את אופן ההתנהלות של הוידג''טים בעת קריאתם. בכדי לעשות זאת יש להגדיר את הערכים הראשוניים של הוידג''ט בזמן הקריאה הראשונה שלהם על ידי [CBaseController::beginWidget] או [CBaseController::widget]. לדוגמא, כשמשתמשים בוידג''ט [CMaskedTextField], אנחנו נרצה להגדיר את המסכה לשימוש. אנחנו מבצעים זאת על ידי העברת מערך כמפרמטר שני להגדרת הערכים הראשוניים כדלקמן, כשמפתחות המערך הם שמות המאפיינים של הוידג''ט והערכים של המערך הם הערכים הראשוניים של הוידג''ט:\r\n\r\n~~~\r\n[php]\r\n<?php\r\n$this->widget(''CMaskedTextField'',array(\r\n    ''mask''=>''99/99/9999''\r\n));\r\n?>\r\n~~~\r\n\r\nכדי להגדיר וידג''ט חדש, יש ליצור מחלקה אשר יורשת מ [CWidget], וליישם את המתודות [init|CWidget::init] ו [run|CWidget::run] במחלקה:\r\n\r\n~~~\r\n[php]\r\nclass MyWidget extends CWidget\r\n{\r\n    public function init()\r\n    {\r\n        // this method is called by CController::beginWidget()\r\n    }\r\n\r\n    public function run()\r\n    {\r\n        // this method is called by CController::endWidget()\r\n    }\r\n}\r\n~~~\r\n\r\nכמו בקונטרולר, וידג''ט יכול להכיל קובץ תצוגה משלו. כברירת מחדל, קבצי התצוגה של הוידג''ט נמצאים תחת התיקיה `views` בתיקיה הראשית בה המחלקה של הוידג''ט נמצא. ניתן להציג את קבצי התצוגה הללו בעזרת [CWidget::render], בדומה לפעולה הנעשית בקונטרולר. ההבדל היחיד הוא שלא ניתן להגדיר תבנית לתצוגה של הוידג''ט. בנוסף, `this$` בתוך קובץ תצוגה של וידג''ט מכוון אל האובייקט של הוידג''ט במקום האובייקט של הקונטרולר.\r\n\r\nתצוגת מערכת\r\n-----------\r\n\r\nתצוגת מערכת הם קבצי תצוגה אשר Yii משתמשת בהם לצרכי תצוגה של מידע אודות שגיאות ולוגים. לדוגמא, כשמשתמש מבקש קונטרולר לא קיים או פעולה שלא קיימת, Yii יזרוק שגיאה שמסבירה אודות השגיאה שהתרחשה. Yii מציג את השגיאה בתוך קובץ תצוגה מערכתי ספציפי.\r\n\r\nשמות התצוגה של קבצי תצוגת המערכת עוקבים אחר אותם חוקים. שמות כמו `errorXXX` משמשים לתצוגה של שגיאות אשר נזרקות על ידי [CHttpException] כשקוד השגיאה הוא `XXX`. לדוגמא, אם התרחשה שגיאה של [CHttpException] עם קוד שגיאה 404, קובץ התצוגה המערכתי שיוצג יהיה `error404`.\r\n\r\nYii מספקת קבצי תצוגה מערכתיים כברירת מחדל אשר נמצאים תחת `framework/views`. ניתן להגדיר את קבצי התצוגה באופן עצמאי על ידי יצירת אותם קבצי תצוגה עם אותם השמות תחת התיקיה `protected/views/system`.\r\n\r\n\r\n<div class="revision">$Id: basics.view.txt 1809 2010-02-17 22:08:34Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(11, 'basics.workflow', 'basics.workflow', '', '﻿רצף עבודת הפיתוח\r\n====================\r\n\r\nלאחר הסבר על יסודות Yii, אנחנו מציגים את רצף העבודה הפשוט ביותר לפיתוח אפליקצית ווב בעזרת Yii. הרצף מניח שכבר בצענו את ניתוח הדרישות בנוסף לעיצוב הדרוש לאפליקציה.\r\n\r\n1. יצירת מבנה התיקיות. כלי ה `yiic` אשר מתואר ב [יצירת אפליקצית Yii ראשונה](/doc/guide/quickstart.first-app) יכול לעזור כדי להאיץ את שלב זה.\r\n\r\n2. הגדרת [האפליקציה](/doc/guide/basics.application). שלב זה נעשה על ידי עריכת קובץ ההגדרות של האפליקציה. שלב זה יכול לדרוש גם הוספה של כמה רכיבי אפליקציה (לדוגמא רכיב המשתמשים).\r\n\r\n3. יצירת מחלקה [למודל](/doc/guide/basics.model) לכל סוג של מידע לניהול. שוב, ניתן להשתמש בכלי `yiic` כדי ליצור אוטומטית את מחלקות ה [AR](/doc/guide/database.ar) לכל טבלה שצריך במסד הנתונים.\r\n\r\n4. יצירת [קונטרולר](/doc/guide/basics.controller) לכל סוג של בקשת משתמש. מיון בקשות המשתמש תלויות בדרישות מסויימות. באופן כללי, במידה ומחלקה למודל צריכה להיות נגישה למשתמשים, יש צורך ביצירה של קונטרולר תואם למחלקה. כלי ה `yiic` יכול לבצע אוטומטית פעולה זו גם כן.\r\n\r\n5. יישום [פעולות](/doc/guide/basics.controller#action) וקבצי [התצוגה](/doc/guide/basics.view) התואמים שלהם. בשלב זה העבודה האמיתית מתבצעת.\r\n\r\n6. הגדרת [פילטרים](/doc/guide/basics.controller#filter) נחוצים לפעולות בקונטרולר.\r\n\r\n7. יצירת [תבניות](/doc/guide/topics.theming) במידה ואפשרות התבניות היא הכרחית.\r\n\r\n8. יצירת הודעות מתורגמות במידה ויש צורך [בתמיכה בכמה שפות](/doc/guide/topics.i18n).\r\n\r\n9. איתור מידע וקבצי תצוגה שניתן לשמור אותם במטמון ויישם טכניקות [מטמון](/doc/guide/caching.overview) מתאימות.\r\n\r\n10. [כיוונים אחרונים](/doc/guide/topics.performance) ופריסה.\r\n\r\nלכל אחד מהשלבים למעלה, יש צורך ביצירת בדיקות והרצתם.\r\n\r\n<div class="revision">$Id: basics.workflow.txt 1034 2009-05-19 21:33:55Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(12, 'caching.data', 'caching.data', '', '﻿שמירת נתונים\r\n============\r\n\r\nשמירת נתונים במטמון היא דרך לשמירת משתנה PHP במטמון וקבלתו בזמן מאוחר יותר. למטרה זו, המחלקה הבסיסית של המטמון [CCache] מספקת שני מתודות עם השימוש הנפוץ ביותר: [set|CCache::set] ו [get|CCache::get].\r\n\r\nכדי לשמור את המשתנה `value$` במטמון, אנו בוחרים מזהה יחודי כלשהו וקוראים למתודה [set|CCache::set] כדי לשמור אותה:\r\n\r\n~~~\r\n[php]\r\nYii::app()->cache->set($id, $value);\r\n~~~\r\n\r\nהתוכן הנשמר יאוחסן במטמון לעד אלה אם כן הוא ימחק מסיבות שאינן תלויות באפליקציה (לדוגמא, מקום האחסון של המטמון מלא והפריטים הישנים ביותר שנשמרו ימחקו). כדי לשנות התנהגות זו, אנו יכולים להוסיף פרמטר שלישי אשר יגדיר את תפוקת הנתונים אותם אנו שומרים בזמן קריאה ל [set|CCache::set] כדי שהתוכן שנשמר במטמון ימחק אחרי פרק זמן מסויים:\r\n\r\n~~~\r\n[php]\r\n// keep the value in cache for at most 30 seconds\r\nYii::app()->cache->set($id, $value, 30);\r\n~~~\r\n\r\nבזמן מאוחר יותר כשאנו צריכים לגשת למשתנה זה (בבקשה הנוכחית או אחרת), אנו קוראים למתודה א עם אותו מזהה יחודי בו שמרנו את הנתונים כדי לקבל אותם מהמטמון. אם הערך שהתקבל מהקריאה שווה ל `false`, זה אומר שהנתון לא נמצא במטמון ועלינו ליצור אותו שוב פעם.\r\n\r\n~~~\r\n[php]\r\n$value=Yii::app()->cache->get($id);\r\nif($value===false)\r\n{\r\n    // regenerate $value because it is not found in cache\r\n    // and save it in cache for later use:\r\n    // Yii::app()->cache->set($id,$value);\r\n}\r\n~~~\r\n\r\n‎כשבוחרים מזהה יחודי בתור השם של המטמון אותו שומרים, וודא שאותו שם הוא יחודי בקרב כל שאר המשתנים הניתנים לשמירה במטמון באפליקציה. אין צורך שהשם יהיה יחודי בין אפליקציות שונות מאחר ורכיב זה מספיק חכם כדי להבדיל בין האפליקציות בהם הוא רץ.\r\n\r\nחלק מאפשרויות האחסון, כמו MemCache, APC, תומכים באפשרות של קבלת כמה נתונים מהמטמון בקריאה אחת כקבוצה, פעולה זו חוסכת בזמן הלקוח לקבלת נתון מהמטמון. מגרסא 1.0.8, ישנה מתודה חדשה בשם [mget|CCache::mget] כדי ליישם אפשרות זו. במידה ורכיב האחסון בו משתמשים לא תומך באפשרות זו כברירת מחדל, האפליקציה תחקה את הפעולה שהמתודה [mget|CCache::mget] מבצעת.\r\n\r\nכדי למחוק נתון מהמטמון, יש לקרוא למתודה [delete|CCache::delete]; ובכדי להוריד את כל הנתונים מהמטמון יש לקרוא למתודה [flush|CCache::flush]. יש להזהר בעת השימוש במתודה [flush|CCache::flush] מאחר והיא מוחקת נתונים במטמון מאפליקציות אחרות.\r\n\r\n> Tip|טיפ: מאחר והמחלקה [CCache] מיישמת את הממשק `ArrayAccess`, ניתן להשתמש במטמון בתור מערך. להלן כמה דוגמאות:\r\n> ~~~\r\n> [php]\r\n> $cache=Yii::app()->cache;\r\n> $cache[''var1'']=$value1;  // equivalent to: $cache->set(''var1'',$value1);\r\n> $value2=$cache[''var2''];  // equivalent to: $value2=$cache->get(''var2'');\r\n> ~~~\r\n\r\nהגדרת תלות למטמון\r\n----------------\r\n\r\nמלבד הגדרת זמן קיום המטמון, ניתן להגדיר תלות מסויימת לנתונים הנשמרים במטמון כדי `לבטל` את אותם נתונים שנשמרו. לדוגמא, אם אנו שומרים תוכן של קובץ מסויים במטמון והקובץ ההוא השתנה, אנו צריכים לבטל את הנתון השמור במטמון ולשמור את תוכן הקובץ במטמון שוב פעם.\r\n\r\nאנו מייצגים תלות באובייקט של [CCacheDependency] או מחלקות היורשות ממנו. אנו קוראים לתלות מסויימת בזמן קריאה למתודה [set|CCache::set] והגדרתו כפרמטר רבעי.\r\n\r\n~~~\r\n[php]\r\n// the value will expire in 30 seconds\r\n// it may also be invalidated earlier if the dependent file is changed\r\nYii::app()->cache->set($id, $value, 30, new CFileCacheDependency(''FileName''));\r\n~~~\r\n\r\nכעת, אם נשלוף את המשתנה `value$` מתוך המטמון על ידי קריאה למתודה [get|CCache::get], התלות תכנס לפעולה ובמידה והקובץ השתנה, אנו נקבל ערך השווה ל `false`, האומר שצריך ליצור מחדש את התוכן השמור במטמון.\r\n\r\nלמטה רשומים בקצרה התלויות הקיימות למטמון:\r\n\r\n- [CFileCacheDependency]: התלות משתנה אם הזמן האחרון בו הקובץ נערך השתנה.\r\n\r\n- [CDirectoryCacheDependency]: התלות משתנה אם ישנו שינוי בכל אחד מהקבצים הנמצאים בתיקיה ותתי-תיקיות.\r\n\r\n- [CDbCacheDependency]: התלות משתנה במידה והתוצאה של השאילתה השתנתה.\r\n\r\n- [CGlobalStateCacheDependency]: התלות משתנה במידה והערך הגלובלי שהוזן השתנה. משתנה גלובלי באפליקציה הינו משתנה אשר קיים לאורך כל האפליקציה. הוא מוגדר על ידי [CApplication::setGlobalState].\r\n\r\n- [CChainedCacheDependency]: התלות משתנה במידה וכל אחד מהתלויות המשורשרות משתנה.\r\n\r\n- [CExpressionDependency]: התלות משתנה במידה והתוצאה של ביטוי ה PHP היא שונה. מחלקה זו קיימת מגרסאות 1.0.4 ומעלה.\r\n\r\n<div class="revision">$Id: caching.data.txt 1855 2010-03-04 22:42:32Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(13, 'caching.dynamic', 'caching.dynamic', '', '﻿תוכן דינאמי\r\n===============\r\n\r\nכשמשתמשים [שמירת חלקים](/doc/guide/caching.fragment) או [שמירת עמוד שלם](/doc/guide/caching.page), אנו בדרך כלל נתקלים במצבים איפה שכל העמוד הוא יחסית תוכן סטטי מלבד חלק אחד או יותר. לדוגמא, עמוד עזרה מציג מידע סטטי אודות עזרה באתר אבל עם שמו של המשתמש שגרגע מחובר לאתר מוצג בראש העמוד.\r\n\r\nכדי לפתור בעיה זו, ניתן לשמור את התוכן במטמון על פי שם המשתמש, אך זה יהיה בזבוז מקום האחסון היקר של המטמון בו אנו משתמשים מאחר והתוכן הוא זהה בכל צורה מלבד שם המשתמש. ניתן גם לחלק את העמוד לחתיכות ולשמור אותם בנפרד, אך זה מסבך את קובץ התצוגה שלנו והקוד שלנו נראה מאוד מורכב. שיטה טובה יותר היא להשתמש באפשרות השמירה של *התוכן הדינאמי* הקיים ב [CController].\r\n\r\nתוכן דינאמי הוא חתיכת תוכן שלא צריך להשמר במטמון גם אם הוא מוקף בקוד השומר חתיכת תוכן במטמון. כדי שהתוכן יהיה תמיד דינאמי, הוא צריך להווצר כל הזמן גם אם התוכן בו הוא נמצא נשלף מתוך המטמון. מסיבה זו, אנו דורשים שתוכן דינאמי יווצר על ידי מתודה או פונקציה כלשהי.\r\n\r\nאנו קוראים ל [CController::renderDynamic] כדי להכניס תוכן דינאמי במקום הרצוי.\r\n\r\n~~~\r\n[php]\r\n...other HTML content...\r\n<?php if($this->beginCache($id)) { ?>\r\n...fragment content to be cached...\r\n    <?php $this->renderDynamic($callback); ?>\r\n...fragment content to be cached...\r\n<?php $this->endCache(); } ?>\r\n...other HTML content...\r\n~~~\r\n\r\nבדוגמא למעלה, `callback$` מתייחס לפונקציה או מתודה תקנית של PHP. ההגדרה צריכה להיות סטרינג המתייחס למתודה במחלקה הנוכחית או פונקציה גלובלית. כמו כן היא יכולה להיות מערך אשר מתייחס למתודה במחלקה. כל הפרמטרים הנוספים שיוגדרו [renderDynamic|CController::renderDynamic] יועברו לפונקציה/מתודה אשר הוגדרה. הפונקציה/מתודה שהוגדרה צריכה להחזיר את התוכן ולא להציג אותו.\r\n\r\n<div class="revision">$Id: caching.dynamic.txt 163 2008-11-05 12:51:48Z weizhuo $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(14, 'caching.fragment', 'caching.fragment', '', '﻿שמירת חתיכות במטמון\r\n================\r\n\r\nשמירת חתיכות במטמון מתייחסת לשמירה של חתיכות תוכן בעמוד. לדוגמא, אם העמוד מציג טבלה של סך הכל מכירות לשנה הזו, אנו יכולים לשמור את הטבלה במטמון כדי לחסוך את הזמן שדרוש כדי ליצור אותה בכל בקשה.\r\n\r\nכדי לשמור חתיכה במטמון, אנו קוראים ל [CController::beginCache|CBaseController::beginCache] ו [CController::endCache|CBaseController::endCache] בתוך קובץ תצוגה של קונטרולר. שני המתודות מסמנות את תחילתו וסופו של אותה חתיכה שצריכה להשמר במטמון. בדומה ל [שמירת נתונים](/doc/guide/caching.data), יש צורך בשם כמזהה יחודי של ערך מטמון זה לצורך זיהוי המטמון.\r\n\r\n~~~\r\n[php]\r\n...other HTML content...\r\n<?php if($this->beginCache($id)) { ?>\r\n...content to be cached...\r\n<?php $this->endCache(); } ?>\r\n...other HTML content...\r\n~~~\r\n\r\nבדוגמא למעלה, אם [beginCache|CBaseController::beginCache] מחזיר ערך השווה ל `false`, התוכן השמור במטמון יוכנס במקום בצורה אוטומטית; אחרת, התוכן בתוך פקודת ה  `if` יורץ וישמר במטמון בעת הגעת הקוד למתודה [endCache|CBaseController::endCache].\r\n\r\nאפשרויות מטמון\r\n---------------\r\n\r\nבעת הקריאה ל [beginCache|CBaseController::beginCache], אנו יכולים להעביר מערך כפרמטר שני למתודה המכיל אפשרויות לאופן השמירה של החתיכה במטמון. למעשה, המתודות [beginCache|CBaseController::beginCache] ו [endCache|CBaseController::endCache] הם מעטפת נוחה של הוידג''ט [COutputCache]. לכן, אפשרויות המטמון יכולות להיות ערכים המגדירים את כל המאפיינים הקיימים ב [COutputCache].\r\n\r\n### תקופת קיום\r\n\r\nאולי האפשרות הנפוצה ביותר הינה [תקופת הזמן|COutputCache::duration] המגדירה את משך הזמן בו התוכן הנשמר במטמון תקף. הוא דומה לפרמטר התפוגה של המתודה [CCache::set]. הקוד הבא שומר את תוכן החתיכה במטמון לפרק זמן של עד שעה:\r\n\r\n~~~\r\n[php]\r\n...other HTML content...\r\n<?php if($this->beginCache($id, array(''duration''=>3600))) { ?>\r\n...content to be cached...\r\n<?php $this->endCache(); } ?>\r\n...other HTML content...\r\n~~~\r\n\r\nאם אנו לא מגדירים תקופת קיום, היא תוגדר לברירת מחדל של 60, האומר שהתוכן הנשמר במטמון ימחק לאחר 60 שניות.\r\n\r\n### תלות\r\n\r\nבדומה [מטמון נתונים](/doc/guide/caching.data), ניתן להגדיר לחתיכות הנשמרות במטמון תלות כלשהי. לדוגמא, התוכן של ההודעה המוצגת תלוי במידה וההודעה השתנתה.\r\n\r\nכדי להגדיר תלות, אנו מגדירים את המאפיין [dependency|COutputCache::dependency], אשר יכול להיות אובייקט של מחלקה המיישמת את [ICacheDependency] או מערך של הגדרות אשר יכול ליצור את אובייקט התלות. הקוד הבא מציין את החתיכה הנשמרת במטמון בהתבסס על השינוי של הערך של המאפיין `lastModified`:\r\n\r\n~~~\r\n[php]\r\n...other HTML content...\r\n<?php if($this->beginCache($id, array(''dependency''=>array(\r\n        ''class''=>''system.caching.dependencies.CDbCacheDependency'',\r\n        ''sql''=>''SELECT MAX(lastModified) FROM Post'')))) { ?>\r\n...content to be cached...\r\n<?php $this->endCache(); } ?>\r\n...other HTML content...\r\n~~~\r\n\r\n### גיוון (וריאציה)\r\n\r\nניתן לשמור את התוכן בהתבסס על פרמטרים מסויים כדי לגוון זאת. לדוגמא, הפרופיל האישי יכול להראות שונה למשתמשים שונים. כדי לשמור את הפרופיל האישי במטמון, אנו נרצה שהתוכן הנשמר במטמון ישמר בהתבסס על מספר המשתמש הצופה בו כרגע. זה אומר שאנו צריכים להשתמש בשמות שונים בעת קראיה ל [beginCache()|CBaseController::beginCache()].\r\n\r\nבמקום לבקש מהמתכנתים לגוון במזהים היחודיים בהתבסס על תבנית מסויימת, [COutputCache] כבר מכילה אפשרות כזו מובנית. למטה תקציר בנוגע לשימוש באפשרות זו.\r\n\r\n- [varyByRoute|COutputCache::varyByRoute]: על ידי הגדרת אפשרות זו ל `true`, התוכן הנשמר במטמון יגוון על ידי [הקישור](/doc/guide/basics.controller#route). לכן, כל קומבינציה של פעולה וקונטרולר התוכן שישמר יהיה שונה.\r\n\r\n- [varyBySession|COutputCache::varyBySession]: על ידי הגדרת אפשרות זו ל `true`, התוכן הנשמר במטמון יגוון על ידי המזהה היחודי (session) של המשתמש. לכן, כל משתמש יראה תוכן שונה המגיע ישירות מהמטמון.\r\n\r\n- [varyByParam|COutputCache::varyByParam]: על ידי הגדרת אפשרות זו למערך של שמות, ניתן לגוון את המטמון שנשמר בהתבסס על הערכים המגיעים מהפרמטרים של GET. לדוגמא, אם עמוד מציג את התוכן של ההודעה על פי מספרה - `id` המגיע מהפרמטר בקישור (GET) , ניתן להגדיר את [varyByParam|COutputCache::varyByParam] בתור `array(''id'')` כדי שכל הודעה תשמר במטמון. ללא גיוון זה ושמירה על פי הפרמטר, יכולנו לשמור הודעה אחת בלבד במטמון.\r\n\r\n- [varyByExpression|COutputCache::varyByExpression]: על ידי הגדרת אפשרות זו לביטוי ב PHP, ניתן לגוון את התוכן הנשמר בהתבסס על התוצאה של הביטוי. אפשרות זו קיימת מגרסאות 1.0.4 ומעלה.\r\n\r\n### סוגי בקשות\r\n\r\nלפעמים אנו נרצה לשמור חתיכה במטמון רק לסוגי בקשות מסויימות (GET או POST). לדוגמא, עמוד המציג טופס, אנו רוצים לשמור אותו רק כשהוא מבוקש לראשונה (דרך GET). כל שאר הבקשות לאותו הטופס (דרך POST) לא צריכות להשמר במטמון מאחר והם יכולים להכיל מידע שהמשתמש הזין. כדי לבצע זאת, אנו יכולים להגדיר את הפרמטר [requestTypes|COutputCache::requestTypes]:\r\n\r\n~~~\r\n[php]\r\n...other HTML content...\r\n<?php if($this->beginCache($id, array(''requestTypes''=>array(''GET'')))) { ?>\r\n...content to be cached...\r\n<?php $this->endCache(); } ?>\r\n...other HTML content...\r\n~~~\r\n\r\nקינון נתונים\r\n--------------\r\n\r\nניתן לקנן בעת השימוש בשמירת נתונים במטמון. זאת אומרת, שחתיכה הנשמרת במטמון עטופה בחתיכה גדולה יותר אשר גם היא נשמרת במטמון. לדוגמא, התגובות של הודעה נשמרות במטמון פנימי, והם נשמרות במטמון ביחד עם התוכן של ההודעה במטמון חיצוני.\r\n\r\n~~~\r\n[php]\r\n...other HTML content...\r\n<?php if($this->beginCache($id1)) { ?>\r\n...outer content to be cached...\r\n    <?php if($this->beginCache($id2)) { ?>\r\n    ...inner content to be cached...\r\n    <?php $this->endCache(); } ?>\r\n...outer content to be cached...\r\n<?php $this->endCache(); } ?>\r\n...other HTML content...\r\n~~~\r\n\r\nניתן להגדיר אפשרויות שונות לכל שמירה במטמון במצב של קינון. לדוגמא, בקוד למעלה השמירה של המטמון הפנימית והחיצונית יכולות להיות מוגדרות עם מאפיין תקופת קיום שונות אחד מהשני. כשהתוכן הנשמר במטמון החיצוני ימחק, התוכן הנשמר במטמון הפנימי עדיין יכול לספק תוכן תקני ועדכני של אותה חתיכה שנשמרה במטמון. למרות שזה לא תקף במקרה ההפוך. במידה והשמירה במטמון החיצוני תקפה וקיימת, היא תמיד תוצג, גם אם התוכן במטמון הפנימי שנשמר כבר לא תקף וצריך להחליפו.\r\n\r\n<div class="revision">$Id: caching.fragment.txt 956 2009-04-21 15:16:03Z qiang.xue@gmail.com $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(15, 'caching.overview', 'caching.overview', '', '﻿‎מטמון\r\n=======\r\n\r\n‎מטמון הינה דרך קלה ויעילה לשיפור ביצועי אפליקצית ווב‫.‬ על ידי אחסון תוכן סטטי בתוך המטמון וקריאתו בעת הצורך‫,‬ אנו חוסכים את הזמן הדרוש כדי ליצור את אותו תוכן‫.‬\r\n\r\n‎שימוש במטמון ב Yii בדרך כלל דורש הגדרת רכיב מטמון וגישה אליו‫.‬ הגדרות האפליקציה הבאות מגדירות רכיב מטמון המשתמש בשיטת מטמון של memcache עם שני שרתים לאחסון התוכן במטמון‫.‬\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''components''=>array(\r\n        ......\r\n        ''cache''=>array(\r\n            ''class''=>''system.caching.CMemCache'',\r\n            ''servers''=>array(\r\n                array(''host''=>''server1'', ''port''=>11211, ''weight''=>60),\r\n                array(''host''=>''server2'', ''port''=>11211, ''weight''=>40),\r\n            ),\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\n‎בזמן הרצת האפליקציה‫,‬ ניתן לגשת לרכיב המטמון בעזרת `Yii::app()->cache`‫.‬\r\n\r\nYii מספקת רכיבי מטמון שונים אשר מאפשרים שמירה של תוכן במטמון במדיות שונות‫.‬\r\n‎לדוגמא‫,‬ רכיב ה [CMemCache] משתמשת בתוסף של PHP בשם memcache כדי להשתמש בזכרון כמדית שמירת המטמון‫; ‬הרכיב [CApcCache] משתמש בתוסף ה PHP בשם APC‫;‬\r\n‎ורכיב [CDbCache] שומר את המטמון במסד הנתונים‫.‬\r\n‎להלן סיכום של רכיבי המטמון הניתנים לשימוש ב Yii‫:‬\r\n\r\n- [CMemCache] משתמש בתוסף של PHP בשם [memcache](http://www.php.net/manual/en/book.memcache.php).\r\n\r\n- [CApcCache] משתמש בתוסף של PHP בשם [APC](http://www.php.net/manual/en/book.apc.php).\r\n\r\n- [CXCache] משתמש בתוסף של PHP בשם [XCache](http://xcache.lighttpd.net/). הערה, רכיב זה קיים מגרסאות 1.0.1 ומעלה.\r\n\r\n- [CEAcceleratorCache] משתמש בתוסף של PHP בשם [EAccelerator](http://eaccelerator.net/).\r\n\r\n- [CDbCache] משתמש בטבלה במסד הנתונים כדי לשמור את התוכן. כברירת מחדל זה יוצר ומשתמש במסד נתונים מסוג SQLite3 תחת תיקית הקבצים הזמניים באפליקציה. תוכל להגדיר את סוג מסד הנתונים לשימוש על ידי הגדרת המאפיין [connectionID|CDbCache::connectionID].\r\n\r\n- [CZendDataCache] משתמש ברכיב של PHP בשם Zend Data Cache בתור המדיה לשמירה. הערה, רכיב זה קיים מגרסא 1.0.4 ומעלה.\r\n\r\n- [CFileCache] משתמש בקבצים כדי לאחסן את התוכן השמור במטמון. זה מתאים במיוחד כדי לשמור חלקים גדולים של תוכן (כמו לדוגמא עמודים שלמים). הערה, רכיב זה קיים מגרסא 1.0.6 ומעלה.\r\n\r\n- [CDummyCache] מייצג רכיב מטמון דמה אשר לא מאחסן ולא שומר כלום במטמון. המטרה של רכיב זה היא לפשט את הקוד שדורש לבדוק אם מטמון מסויים קיים. לדוגמא, במהלך פיתוח או במידה והשרת לא תומך באותו רכיב מטמון שרוצים להשתמש, אנו יכולים להשתמש ברכיב מטמון זה. כשרכיב המטמון יהיה קיים ופעיל, ניתן יהיה להחליף לאותו רכיב מטמון בקלות. בשני המקרים, אנו נשתמש באותו הקוד `Yii::app()->cache->get($key)` כדי לנסות ולקבל פיסת מידע מבלי לחשוש במידה ו `Yii::app()->cache` הוא `null`. רכיב זה קיים מגרסא 1.0.5 ומעלה.\r\n\r\n\r\n> Tip|טיפ: מאחר וכל אותם רכיבי מטמון יורשים מאותה מחלקה בסיסית [CCache] ‫,‬ ניתן להחליף‫ את סוג רכיב המטמון ללא שום שינוי בקוד היוצר וקורא את המטמון.‬\r\n\r\n‎ניתן להשתמש במטמון בכמה רמות שונות‫.‬ ברמה הכי נמוכה‫,‬ אנו נעזרים במטמון כדי לאחסן חתיכת מידע אחת‫,‬ כמו משתנה‫,‬ ואנו קוראים לזו ‫*‬אחסון מידע‫*.‬ ברמה הבאה‫,‬ אנו שומרים במטמון חלק מעמוד הנוצר בעזרת קובץ תצוגה‫.‬ וברמה הגבוה ביותר‫,‬ אנו שומרים עמוד שלם במטמון וטוענים את אותו עמוד מהמטמון בעת הצורך‫.‬\r\n\r\n‎בתתי נושאים הבאים‫,‬ אנו נרחיב על אופן השימוש ברכיבי המטמון השונים‫.‬\r\n\r\n> Note|הערה: כברירת מחדל‫,‬ מטמון הוא מדיום שמירה לא אמין‫.‬ הוא לא מוודא את קיומו של התוכן במטמון‫ גם אם זמנו לא עבר.‬\r\n‎‫לכן, רצוי לא להשתמש במטמון כמדיום שמירה קבוע (לדוגמא, לא להשתמש במטמון לשמירת מידע אודות המשתמש המחובר).‬\r\n\r\n\r\n<div class="revision">$Id: caching.overview.txt 2005 2010-03-04 22:42:32Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(16, 'caching.page', 'caching.page', '', '﻿שמירת עמוד במטמון\r\n============\r\n\r\nשמירת עמוד במטמון מתייחס לשמירת כל התוכן של עמוד שלם במטמון. שמירת עמוד יכולה להתבצע במקומות שונים. לדוגמא, על ידי בחירת כותרת עמוד מתאימה, הדפדפן של הלקוח יכול לשמור את העמוד הנצפה כרגע לפרק זמן מוגבל. האפליקציה עצמה יכולה לשמור את תוכן העמוד במטמון גם כן. בתת נושא זה, אנו נתמקד על האפשרות השנייה שכרגע הצגנו.\r\n\r\nשמירת עמוד במטמון יכולה להחשב כמצב מיוחד של [שמירת חלק מהתצוגה במטמון](/doc/guide/caching.fragment)‫.‬\r\nמאחר ותוכן העמוד בדרך כלל נוצר על ידי צירוף תבנית לתצוגה, זה לא יעבוד פשוט על ידי קריאה ל [beginCache|CBaseController::beginCache] ו [endCache|CBaseController::endCache] בתוך קובץ התבנית.\r\nהסיבה היא שהתבנית מצורפת בתוך מתודת [CController::render] **אחרי** שתוכן התצוגה כבר הוערך והורץ.\r\n\r\nכדי לשמור עמוד שלם במטמון, אנו צריכים לדלג על ההרצה של הפעולה היוצרת את התוכן של העמוד. אנו יכולים להשתמש ב [COutputCache] כ [פילטר](/doc/guide/basics.controller#filter) כדי להשיג מטרה זו.\r\nהקוד הבא מציג כיצג ניתן להגדיר את הפילטר של המטמון:\r\n\r\n~~~\r\n[php]\r\npublic function filters()\r\n{\r\n    return array(\r\n        array(\r\n            ''COutputCache'',\r\n            ''duration''=>100,\r\n            ''varyByParam''=>array(''id''),\r\n        ),\r\n    );\r\n}\r\n~~~\r\n\r\nהגדרות הפילטר למעלה יצרפו את הפילטר לכל הפעולות בקונטרולר. ניתן להגביל אותו לשימוש על פעולות מסויימות על ידי שמוש באופרטור של פלוס ( + ). מידע נוסף ניתן לקרוא על [פילטר](/doc/guide/basics.controller#filter).\r\n\r\n> Tip|טיפ: אנו יכולים להשתמש ב [COutputCache] כפילטר מכיוון שהוא יורש מהמחלקה [CFilterWidget], וזה אומר שזהו גם פילטר וגם וידג''ט. למעשה, הדרך בה עובד וידג''ט דומה מאוד לפילטר: וידג''ט (פילטר) מתחיל לפני שתוכן של פעולה רץ, והוידג''ט (פילטר) מסתיים אחרי שתוכן הפעולה הורץ.\r\n\r\n<div class="revision">$Id: caching.page.txt 1014 2009-05-10 12:25:55Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(17, 'changes', 'changes', '', '﻿אפשרויות חדשות\r\n===============\r\n\r\nעמוד זה מסכם את האפשרויות החדשות שנוספו למערכת ה Yii בכל גרסא.\r\n\r\nגרסא 1.1.3\r\n-------------\r\n\r\n* [נוספה תמיכה בהגדרת אפשרויות ברירת המחדל לוידגטים דרך קובץ הגדרות האפליקציה](/doc/guide/topics.theming#customizing-widgets-globally)\r\n\r\nגרסא 1.1.2\r\n-------------\r\n\r\n* נוסף כלי ווב ליצירת קוד בשם [Gii](/doc/guide/topics.gii)\r\n\r\nגרסא 1.1.1\r\n-------------\r\n\r\n* נוספה מחלקה חדשה בשם CActiveForm אשר מפשטת כתיבה של קוד הקשור לטפסים ותומכת באימות הנתונים (ולידציה) בצורה רציפה ועקבית בצד הלקוח צד השרת כאחד.\r\n\r\n* שינויים משמעותיים בקוד אשר נוצר דרך כלי ה yiic אשר מאפשר יצירה אוטומטית של קוד דרך שורת הפקודות במערכת. בפרט, השלד של המערכת עכשיו נוצר עם כמה תבניות;\r\nנוספה תמיכה בחיפוש וסינון לעמוד לוח הבקרה שנוצר על ידי פקודת CRUD (פקודה אשר יוצרת,מריצה,מעדכנת,מוחקת נתונים במסד); שימוש ב CActiveForm כדי להציג טופס.\r\n\r\n * [נוספה תמיכה להגדרת פקודות גלובאליות לכלי yiic](/doc/guide/topics.console)\r\n\r\nגרסא 1.1.0\r\n-------------\r\n\r\n* [נוספה תמיכה בכתיבה של בדיקות (Unit Test) יחידות ופונקציונליות](/doc/guide/test.overview)\r\n\r\n* [נוספה תמיכה בסקינים בעת שימוש בוידג''טים](/doc/guide/topics.theming#skin)\r\n\r\n* [נוסף מודל בר-הרחבה אשר מאפשר יצירה של טפסים](/doc/guide/form.builder)\r\n\r\n* הדרך בה מגדירים ערכים בטוחים במודלים שופרה. ראה\r\n [הגדרת ערכים בטוחים](/doc/guide/form.model#securing-attribute-assignments).\r\n\r\n* שינוי האלגוריתם בשאילתת ה SQL כדי שכל הטבלאות הנוספות בשאילתה (Joins) יצורפו לשאילתה אחת.\r\n\r\n* שינוי שם ברירת המחדל של הטבלה ב AR לשמה של מחלקת ה AR. זאת אומרת שכעת כשמגדירים קישור לטבלה (Relation) ולא הוגדר שם ברירת מחדל לקישור השם שלו שבעזרתו\r\nקוראים לטבלה המקושרת יהיה השם של מחלקת ה AR שלה.\r\n\r\n* [נוספה תמיכה לשימוש בקידומת לטבלאות במסד](/doc/guide/database.dao#using-table-prefix).\r\n\r\n* נוספו עשרות תוספים חדשים לסט חדש הנקרא [ספריית Zii](http://code.google.com/p/zii/).\r\n\r\n* שם המפתח בטבלה הראשית בשאילתת AR הוגדר להיות ''t'' (שאילתות AR בלבד).\r\n\r\n\r\nגרסא 1.0.11\r\n--------------\r\n\r\n* נוספה תמיכה ליצירה ועיבוד של קישורים עם סאב-דומיינים כפרמטרים בניתוב הקישור.\r\n     - [פרמטרים בסאב-דומיינים](/doc/guide/topics.url#parameterizing-hostnames)\r\n\r\nגרסא 1.0.10\r\n--------------\r\n\r\n* שיפור לשימוש ב CPhpMessageSource אשר מאפשר עכשיו לנהל הודעות (תרגומים) על בסיס מודלים בנוסף לקונטרולרים.\r\n  - [ניהול תרגומים](/doc/guide/topics.i18n#message-translation)\r\n\r\n* נוספה תמיכה לצירוף פונקציות אנונימיות למנהלי האירועים (Events Manger Handlers) במערכת.\r\n     - [אירועים ברכיבי מערכת](/doc/guide/basics.component#component-event)\r\n\r\nגרסא 1.0.8\r\n-------------\r\n\r\n* נוספה תמיכה בקבלת מספר ערכים שמורים במטמון בבת אחת\r\n     - [ניהול מטמון](/doc/guide/caching.data)\r\n\r\n* נתיב לתיקיה ברירת מחדל במערכת נוספה בשם ''ext'' אשר מכוונת לתיקיה בה שמורים כל תוספות (Extensions) הצד השלישי.\r\n     - [שימוש בתוספים](/doc/guide/extension.use)\r\n\r\n\r\nגרסא 1.0.7\r\n-------------\r\n\r\n * נוספה תמיכה להצגת ערמות המידע אשר נקראו על ידי האפליקציה בהודעות המעקב\r\n     - [שמירת מידע אודות השרת ופרמטרים גלובאלים](/doc/guide/topics.logging#logging-context-information)\r\n\r\n * נוספה האפשרות של הוספת ''index'' לרשומות הפעילות של המסד כדי שיהיה ניתן לאנדקס אובייקטים משוייכים על ידי שימוש בערכים של עמודה מסויימת\r\n     - [אפשרויות שאילתות מקושרות](/doc/guide/database.arr#relational-query-options)\r\n\r\nגרסא 1.0.6\r\n-------------\r\n\r\n * נוספה תמיכה לשימוש במרחבי שמות במתודות כמו עדכון ומחיקה:\r\n     - [מרחבי שמות](/doc/guide/database.ar#named-scopes)\r\n\r\n * נוספה תמיכה במרחבי שמות באפשרות של ''with'' בחוקים מקושרים:\r\n     - [שאילתות מקושרות עם מרחבי שמות](/doc/guide/database.arr#relational-query-with-named-scopes)\r\n\r\n * נוספה תמיכה בביצוע פרופילינג של שאילתות SQL\r\n     - [פרופילינג לשאילתות SQL](/doc/guide/topics.logging#profiling-sql-executions)\r\n\r\n * נוספה תמיכה לשמירת מידע אודות ערכים גלובאלים\r\n     - [שמירת מידע אודות השרת ופרמטרים גלובאלים](/doc/guide/topics.logging#logging-context-information)\r\n\r\n * נוספה תמיכה לעריכה של חוק קישור בודד על ידי הגדרת אפשרויות ה ''urlFormat'' ו ''caseSensitive'':\r\n     - [קישורים ידידותיים](/doc/guide/topics.url#user-friendly-urls)\r\n\r\n * נוספה תמיכה להצגת שגיאות מערכת על ידי מתודה בקונטרולר:\r\n     - [טיפול בשגיאות על ידי מתודות](/doc/guide/topics.error#handling-errors-using-an-action)\r\n\r\nגרסא 1.0.5\r\n-------------\r\n\r\n * נוספה תמיכה במרחבי שמות לרשומות הפעילות. ראה:\r\n     - [מרחיב שמות](/doc/guide/database.ar#named-scopes)\r\n     - [מרחבי שמות ברירת מחדל](/doc/guide/database.ar#default-named-scope)\r\n     - [שאילתת קישור עם מרחבי שמות](/doc/guide/database.arr#relational-query-with-named-scopes)\r\n\r\n\r\n * נוספה תמיכה בטעינה עצלה בשימוש עם אפשריות שאילתות דינאמיות ברשומות הפעילות. ראה:\r\n     - [אפשרויות דינאמיות לשאילתות מקושרות](/doc/guide/database.arr#dynamic-relational-query-options)\r\n\r\n * נוספה אפשרות ב [CUrlManager] כדי לתמוך בהוספת פרמטרים לחלקים בנתיב בחוקי הקישורים. ראה:\r\n     - [הוספת פרמטרים לחוקי קישורים](/doc/guide/topics.url#parameterizing-routes)\r\n\r\n<div class="revision">$Id: changes.txt 2172 2010-03-09 22:23:19Z qiang.xue $</div>', 'guide', 'he', 1276454986, 16825, 1, 0, 0);
INSERT INTO `documentations` VALUES(18, 'database.ar', 'database.ar', '', '﻿Active Record\r\n=============\r\n\r\nלמרות שה DAO של Yii יכול לטפל בכמעט כל פעולה הקשורה למסד הנתונים, רוב הסיכויים שאנו נבזבז 90% מהזמן שלנו בכתיבת שאילתות SQL אשר מבצעות את הפעולות הנפוצות במסד הנתונים CRUD (יצירה, קריאה, עדכון ומחיקה). גם קשה לנהל את הקוד שאנו כותבים כשהוא מעורבב עם שאילתות SQL שונות. כדי לפתור בעיות אלו אנו יכולים להשתמש ב Active Record.\r\n\r\nActive Record או בקיצור AR הינה שיטת ORM (Object-Relational Mapping) נפוצה. כל מחלקת AR מייצגת טבלה במסד הנתונים אשר התכונות שלה מאופיינות כמשתנים במחלקת ה AR, ואובייקט של המחלקה מייצג שורה אחת בטבלה. פעולות CRUD נפוצות מיושמות בתור מתודות במחלקת ה AR. כתוצאה מכך, אנו יכולים לגשת למידע במסד הנתונים בצורה יותר מונחית-עצמים. לדוגמא, אנו יכולים להשתמש בקוד הבא כדי להכניס שורה חדשה בטבלה `tbl_post`:\r\n\r\n~~~\r\n[php]\r\n$post=new Post;\r\n$post->title=''כותרת לדוגמא'';\r\n$post->content=''תוכן הודעה לדוגמא'';\r\n$post->save();\r\n~~~\r\n\r\nבמסמך זה אנו נתאר כיצד להגדיר מחלקת AR ולהשתמש בה כדי לבצע פעולות CRUD. בחלק הבא אנו נציג כיצד להשתמש ב AR כדי לטפל בקשרים בין טבלאות במסד הנתונים. לנוחות, אנו נשתמש בטבלה הבאה למטרת הצגת הדוגמאות בחלק זה. הערה: במידה והינך עובד עם מסד נתונים מסוג MySQL, יש להחליף את `AUTOINCREMENT` ב `AUTO_INCREMENT` בשאילתה הבאה.\r\n\r\n~~~\r\n[sql]\r\nCREATE TABLE tbl_post (\r\n    id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\r\n    title VARCHAR(128) NOT NULL,\r\n    content TEXT NOT NULL,\r\n    create_time INTEGER NOT NULL\r\n);\r\n~~~\r\n\r\n> Note|הערה: שימוש ב-AR לא נועד כדי לפתור את כל הבעיות הקשורות למסדי הנתונים. השימוש הטוב ביותר בו נועד על מנת לבצע שאילות SQL פשוטות (CRUD) ושימוש בתור מודל באפליקציה. מומלץ לא להשתמש בו בעת ביצוע שאילתות SQL מורכבות. למטרה זו מומלץ להשתמש ב DAO.\r\n\r\n\r\nהתחברות למסד הנתונים\r\n--------------------------\r\n\r\nAR משתמך על חיבור למסד הנתונים כדי לבצע פעולות הקשורות אליו. כברירת מחדל, AR מניח שהרכיב `db` מספק אובייקט [CDbConnection] המאפשר התחברות למסד הנתונים. הגדרות האפליקציה הבאות מציגות דוגמא לשימוש:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''db''=>array(\r\n            ''class''=>''system.db.CDbConnection'',\r\n            ''connectionString''=>''sqlite:path/to/dbfile'',\r\n            // הפעלת מטמון להפחתת עומס\r\n            // ''schemaCachingDuration''=>3600,\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\n> Tip|טיפ: מאחר וה AR מסתמך על ה metadata של הטבלאות כדי להחליט לגבי סוגי העמודות בטבלאות, לוקח זמן לקרוא מידע זה אודות הטבלאות ולנתח אותו. במידה ותרשים טבלאות מסדי הנתונים שלך לא משתנה, מומלץ להפעיל את המטמון לגבי הנתונים אודות הטבלאות על ידי הגדרת המאפיין [CDbConnection::schemaCachingDuration] לערך הגדול מ-0.\r\n\r\nתמיכה ב AR מוגבלת על פי DBMS. נכון לעכשיו, ה-DBMS הבאים נתמכים:\r\n\r\n- [MySQL 4.1 או יותר](http://www.mysql.com)\r\n \r\n- [PostgreSQL 7.3 או יותר](http://www.postgres.com)\r\n\r\n- [Microsoft SQL Server 2000 או יותר](http://www.microsoft.com/sqlserver/)\r\n\r\n- [Oracle](http://www.oracle.com)\r\n\r\n\r\n> Note|הערה: התמיכה ב SQLServer  קיימת מגרסאות 1.0.4 ומעלה. והתמיכה של Oracle קיימת מגרסאות 1.0.5 ומעלה.\r\n\r\nאם ברצונך להשתמש ברכיב אפליקציה שהוא לא `db`, או אם ברצונך לעבוד עם כמה מסדי נתונים בעזרת ה AR, רצוי שתדרוס את [CActiveRecord::getDbConnection]. המחלקה [CActiveRecord] הינה מחלקת הבסיס של כל מחלקות ה AR.\r\n\r\n> Tip|טיפ: ישנם שני דרכים לעבוד עם כמה מסדי נתונים תוך שימוש ב-AR . אם תרשים מסדי הנתונים הוא שונה, תוכל ליצור מחלקת AR בסיסית שונה אשר בתוכה יהיה צורך לדרוס את [getDbConnection|CActiveRecord::getDbConnection] בצורה שונה. דרך נוספת תיהיה לשנות את המשתנה הסטטי [CActiveRecord::db] בצורה דינאמית בעת הצורך.\r\n\r\nהגדרת מחלקת AR\r\n-----------------\r\n\r\nכדי לגשת לטבלה במסד הנתונים, אנו קודם צריכים להגדיר מחלקת AR היורשת מ [CActiveRecord]. כל מחלקת AR מייצגת טבלה במסד הנתונים, ואובייקט של המחלקה מייצג רשומה באותה טבלה. הדוגמא הבאה מציגה את הקוד המינימלי הדרוש למחלקת ה AR המייצגת את הטבלה `tbl_post`.\r\n\r\n~~~\r\n[php]\r\nclass Post extends CActiveRecord\r\n{\r\n    public static function model($className=__CLASS__)\r\n    {\r\n        return parent::model($className);\r\n    }\r\n\r\n    public function tableName()\r\n    {\r\n        return ''tbl_post'';\r\n    }\r\n}\r\n~~~\r\n\r\n> Tip|טיפ: מאחר וניתן לקרוא למחלקות AR במקומות רבים, ניתן לייבא את כל התיקיה המכילה את מחלקת ה AR, במקום לייבא אותם אחד אחד. לדוגמא, אם כל מחלקות ה AR נמצאות תחת התיקיה `protected/models`, ניתן להגדיר את האפליקציה בצורה הבאה:\r\n> ~~~\r\n> [php]\r\n> return array(\r\n>     ''import''=>array(\r\n>         ''application.models.*'',\r\n>     ),\r\n> );\r\n> ~~~\r\n\r\nכברירת מחדל, שם מחלקת ה AR הוא זהה לשם של הטבלה במסד הנתונים. יש לדרוס את המתודה [tableName|CActiveRecord::tableName] במידה והם שונים אחד מהשני. המתודה [model|CActiveRecord::model] מוגדרת בצורה הזאת לכל מחלקת AR (הסבר בהמשך).\r\n\r\n> Info|מידע: כדי להשתמש באפשרות [קידומת טבלאות](/doc/guide/database.dao#using-table-prefix) הקיימת מגרסאות 1.1.0, המתודה [tableName|CActiveRecord::tableName] של מחלקת AR צריכה להדרס בצורה הבאה,\r\n> ~~~\r\n> [php]\r\n> public function tableName()\r\n> {\r\n>     return ''{{post}}'';\r\n> }\r\n> ~~~\r\nזאת, במקום להחזיר את שמה המלא של הטבלה, אנו מחזירים את שם הטבלה ללא הקידומת ועוטפים אותה בסוגריים מסולסלות כפולות.\r\n\r\nניתן לגשת לערכים בעמודות של טבלה כמאפיינים של מחלקת ה AR. לדוגמא, הקוד הבא מגדיר את העמודה (מאפיין) `title`:\r\n\r\n~~~\r\n[php]\r\n$post=new Post;\r\n$post->title=''הודעה לדוגמא'';\r\n~~~\r\n\r\nלמרות שאנו לא מגדירים ספציפית את המאפיין `title` במחלקת ה `Post`, אנו עדיין יכולים לגשת אליו בקוד המוצג למעלה. הסיבה לכך היא מכיוון ש `title` הינו עמודה בטבלה `tbl_post` , ומחלקת ה AR מאפשרת גישה אליו כמאפיין במחלקה בעזרת פונקצית ה `__get` ב PHP. תזרק שגיאה במידה ויהיה ניסיון לגשת לעמודה אשר לא קיימת בטבלה.\r\n\r\n> Info|מידע: במדריך זה, אנו משתמשים באותיות קטנות לכל שמות הטבלאות והעמודות. זאת מאחר וכל DBMS רגיש באופן שונה לאותיות גדולות-קטנות. לדוגמא, PostgreSQL לא רגיש לאותיות גדולות-קטנות לשמות עמודות בטבלאות כברירת מחדל, ואנו חייבים לתחום את שמות העמודות בתנאים בתוך השאילתה במידה ושם העמודה מכיל שילוב של אותיות גדולות וקטנות. שימוש באותיות קטנות בלבד בשמות פותר בעיה זו.\r\n\r\nמחלקת AR מסתמכת על מפתחות ראשיים המוגדרים בטבלאות. במידה וטבלה לא מכילה מפתח ראשי, יש צורך בהגדרת המפתח הראשי במחלקה על ידי דריסה של המתודה `primaryKey` כפי שמוצג בדוגמא הבאה,\r\n\r\n~~~\r\n[php]\r\npublic function primaryKey()\r\n{\r\n    return ''id'';\r\n    // בעבור מפתחות מורכבים, יש להחזיר מערך בצורה הבאה\r\n    // return array(''pk1'', ''pk2'');\r\n}\r\n~~~\r\n\r\n\r\nיצירת רשומה\r\n---------------\r\n\r\nבכדי להכניס רשומה חדשה לטבלה במסד הנתונים, אנו יוצרים אובייקט חדש של מחלקת ה AR, מגדירים את המאפיינים שלה בהתאם לעמודות בטבלה, וקוראים למתודה [save|CActiveRecord::save] כדי להשלים את תהליך ההוספה.\r\n\r\n~~~\r\n[php]\r\n$post=new Post;\r\n$post->title=''כותרת לדוגמא'';\r\n$post->content=''תוכן להודעה לדוגמא'';\r\n$post->create_time=time();\r\n$post->save();\r\n~~~\r\n\r\nבמידה והמפתח הראשי של הטבלה הינו ערך מספרי אשר עולה אוטומטית (מוגדר כ auto_increment), לאחר ההוספה לטבלה מחלקת ה AR תכיל מפתח ראשי מעודכן. בדוגמא למעלה, המאפיין `id` משקף את המפתח הראשי של ההודעה החדשה שנוצרה כרגע, למרות שאנו לא משנים אותו בצורה ספציפית.\r\n\r\nבמידה וישנו ערך ברירת מחדל לעמודה בטבלה (לדוגמא סטרינג או מספר), המאפיין במחלקת ה AR יכיל את אותו ערך ברירת מחדל לאחר יצירת הרשומה החדשה. דרך אחת לשנות ערך ברירת מחדל זה היא על ידי הגדרת המאפיין במחלקת ה AR עם ערך ברירת מחדל חדש:\r\n\r\n~~~\r\n[php]\r\nclass Post extends CActiveRecord\r\n{\r\n    public $title=''אנא הזן כותרת'';\r\n    ......\r\n}\r\n\r\n$post=new Post;\r\necho $post->title;  // זה יציג: אנא הזן כותרת\r\n~~~\r\n\r\nהחל מגרסא 1.0.2, ניתן להגדיר ערך של [CDbExpression] למאפיין כלשהו לפני שמירת הרשומה (בין אם זה יצירת רשומה חדשה או עדכון רשומה קיימת) במסד הנתונים. לדוגמא, בכדי לשמור את הזמן הנוכחי המוחזר באמצעות הפונקציה `()NOW` ב MySQL, אנו יכולים להשתמש בקוד הבא:\r\n\r\n~~~\r\n[php]\r\n$post=new Post;\r\n$post->create_time=new CDbExpression(''NOW()'');\r\n// $post->create_time=''NOW()''; לא יעבוד מאחר\r\n// ''NOW()'' יהיה כסטרינג ולא כפונקציה\r\n$post->save();\r\n~~~\r\n\r\n> Tip|טיפ: אף על פי ש AR מאפשר לנו לבצע פעולות הקשורות למסד הנתונים ללא צורך בכתיבה של שאילתות SQL מסובכות, אנו בדרך כלל נרצה לדעת אילו שאילתות SQL רצות מאחורי ה AR. ניתן לקבל מידע זה על ידי הפעלת אפשרות [התיעוד](/doc/guide/topics.logging) של Yii. לדוגמא, אנו יכולים להפעיל את [CWebLogRoute] בהגדרות האפליקציה, ואנו נראה את השאילתות שבוצעו בסוף כל עמוד. מגרסא 1.0.5, אנו יכולים להגדיר את המאפיין [CDbConnection::enableParamLogging] לערך השווה ל `true` בהגדרות האפליקציה כדי שהפרמטרים התחומים בשאילתה יוצגו גם הם בתיעוד.\r\n\r\nקריאת רשומה\r\n--------------\r\n\r\nבכדי לקרוא מידע מטבלה במסד הנתונים, אנו קוראים לאחת ממתודות ה `find` הבאות.\r\n\r\n~~~\r\n[php]\r\n// מצא את הרשומה הראשונה המשביע את התנאי שהועבר\r\n$post=Post::model()->find($condition,$params);\r\n// מצא את הרשומה עם המפתח הראשי שהועבר\r\n$post=Post::model()->findByPk($postID,$condition,$params);\r\n// מצא את הרשומה עם המאפיין שהועבר\r\n$post=Post::model()->findByAttributes($attributes,$condition,$params);\r\n// מצא את הרשומה הראשונה עם השאילתה שהועברה\r\n$post=Post::model()->findBySql($sql,$params);\r\n~~~\r\n\r\nבדוגמאות למעלה, אנו קוראים למתודות ה `find` בעזרת `()Post::model`. זכור שהמתודה הסטטית `()model` הינה הכרחית לכל מחלקת AR. המתודה מחזירה אובייקט AR אשר משתמשים בו לגשת למתודות בעלי הרשאה לאותה מחלקה בלבד (משהו דומה למתודות סטטיות במחלקה) באופן מונחה עצמים.\r\n\r\nאם המתודה `find` מוצאת רשומה המשביע את התנאים שהועברו, היא תחזיר אובייקט של `Post` כשהמאפיינים שלה מכילים את הערכים של העמודות של אותה רשומה בטבלה. לאחר מכן אנו יכולים לקרוא את הערכים שנטענו בצורה הרגילה בה אנו ניגשים למאפיינים של המחלקה, לדוגמא, `;echo $post->title`.\r\n\r\nמתודת ה `find` תחזיר null במידה ולא נמצא שום דבר במסד הנתונים התואם לתנאים שהועברו.\r\n\r\nבעת הקריאה ל `find`, אנו משתמשים ב `condition$` ו  `params$` כדי להגדיר את התנאים של השאילתה. כאן `condition$` יכול להוות סטרינג המייצג את הסעיף `WHERE` בשאילתת SQL, ו `params$` הינו מערך של פרמטרים שערכיהם צריכים להתחם במפתחות שהוגדרו מראש ב `condition$`. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n// מצא את הרשומה איפה ש postID = 10\r\n$post=Post::model()->find(''postID=:postID'', array('':postID''=>10));\r\n~~~\r\n\r\n> Note|הערה: בדוגמא למעלה, אנו נצטרך לבצע חיטוי לייחוס של העמודה `postID` בעבור DBMS מסויימים. לדוגמא, במידה ואנחנו משתמשים ב PostgreSQL, אנו נצטרך לכתוב את התנאי בצורה הבאה `postID"=:postID"`, מאחר ו PostgreSQL כברירת מחדל יתייחס לשמות העמודות ללא רגישות לאותיות גדולות-קטנות.\r\n\r\nכמו כן אנו יכולים להשתמש ב `condition$` כדי להגדיר תנאים מורכבים יותר. במקום סטרינג, אנו נותנים ל `condition$` להיות אובייקט של [CDbCriteria], המאפשר לנו להגדיר תנאים נוספים מלבד סעיף ה `WHERE`. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n$criteria=new CDbCriteria;\r\n$criteria->select=''title'';  // בחר רק את העמודה ''title''\r\n$criteria->condition=''postID=:postID'';\r\n$criteria->params=array('':postID''=>10);\r\n$post=Post::model()->find($criteria); // $params אינו נחוץ כאן\r\n~~~\r\n\r\nזכור, שבעת השימוש ב [CDbCriteria] בתור התנאי של השאילתה, הפרמטר `params$` אינו נחוץ מאחר וניתן להגדיר אותו בעזרת [CDbCriteria], כפי שמוצג למעלה.\r\n\r\nכמו כן, במקום שימוש ב [CDbCriteria] ניתן להעביר מערך למתודת ה-`find`.\r\nשמות המפתחות והערכים מתייחסות למאפיינים של התנאים וערכיהם, בהתאם. ניתן לשכתב את הדוגמא למעלה בקוד הבא,\r\n\r\n~~~\r\n[php]\r\n$post=Post::model()->find(array(\r\n    ''select''=>''title'',\r\n    ''condition''=>''postID=:postID'',\r\n    ''params''=>array('':postID''=>10),\r\n));\r\n~~~\r\n\r\n> Info|מידע: כשהתנאי של השאילתה עוסק בהתאמת עמודות והערכים שהוגדרו, אנו יכולים להשתמש ב [findByAttributes()|CActiveRecord::findByAttributes].\r\nאנו נותנים לפרמטר `attributes$` להיות מערך של שמות העמודות בתור המפתחות וערך כל מפתח הינו הערך שאותו אנו רוצים להתאמים בשאילתה. בכמה פריימוורקים (Frameworks), פעולה זו ניתנת לביצוע על ידי קריאה למתודות כמו `findByNameAndTitle`. למרות שגישה זו נראית מושכת, היא גורמת ברוב המקרים לבלבול, קונפליקטים ובעיות של רגישות לאותיות גדולות-קטנות בשמות העמודות.\r\n\r\nכשישנם מספר רב של רשומות התואמות לתנאים שהוצבו בשאילתה, אנו יכולים להביא את כולם יחדיו על ידי שימוש במתודות `findAll` הבאות, לכל אחת מהם ישנה מתודת `find` תואמת, כפי שכבר הסברנו.\r\n\r\n~~~\r\n[php]\r\n// מצא את כל הרשומות התואמות לתנאי שהועבר\r\n$posts=Post::model()->findAll($condition,$params);\r\n// מצא את כל הרשומות בעלות המפתח הראשי שהועבר\r\n$posts=Post::model()->findAllByPk($postIDs,$condition,$params);\r\n// מצא את כל הרשומות התואמות למאפיינים שהועברו\r\n$posts=Post::model()->findAllByAttributes($attributes,$condition,$params);\r\n// מצא את כל הרשומות אשר תואמות לשאילתה שהועברה\r\n$posts=Post::model()->findAllBySql($sql,$params);\r\n~~~\r\n\r\nבמידה ולא נמצאו התאמות לתנאים שהוצבו בשאילתה, `findAll` תחזיר מערך ריק. זה שונה מהערך שיוחזור ממתודות `find` המחזירות null במידה ולא נמצאו רשומות.\r\n\r\nמלבד המתודות `find` ו `findAll` המתוארות למעלה, לנוחות השימוש ניתן להשתמש במתודות הבאות גם כן:\r\n\r\n~~~\r\n[php]\r\n// קבל את מספר הרשומות התואמות לתנאי שהועבר\r\n$n=Post::model()->count($condition,$params);\r\n// קבל את מספר הרשומות התואמות לשאילתה שהועברה\r\n$n=Post::model()->countBySql($sql,$params);\r\n// בדוק אם קיימת לפחות רשומה אחת התואמת לתנאי שהועבר\r\n$exists=Post::model()->exists($condition,$params);\r\n~~~\r\n\r\nעדכון רשומה\r\n---------------\r\n\r\nלאחר שאובייקט AR עם ערכים לעמודות, ניתן לשנותם ולשמור אותם בחזרה לטבלה במסד.\r\n\r\n~~~\r\n[php]\r\n$post=Post::model()->findByPk(10);\r\n$post->title=''כותרת חדש'';\r\n$post->save(); // שמור את השינויים במסד\r\n~~~\r\n\r\nכפי שניתן לראות, אנו משתמשים באותה מתודה [save()|CActiveRecord::save] כדי לבצע פעולות הוספה ועדכון. במידה ואובייקט ה AR נוצר כאובייקט חדש בעזרת שימוש באופרטור `new`, קריאה ל [save()|CActiveRecord::save] תוסיף רשומה חדשה לטבלה במסד הנתונים; במידה ואובייקט ה AR נוצר כתוצאה משימוש במתודה כמו `find` או `findAll`, קריאה ל [save()|CActiveRecord::save] תעדכן את הרשומה הקיימת בטבלה. למעשה, אנו יכולים להשתמש ב [CActiveRecord::isNewRecord] כדי להבחין במידה אובייקט ה AR הינו חדש או לא.\r\n\r\nניתן לעדכן רשומה אחת או יותר בטבלה במסד הנתונים ללא צורך בטעינתם מראש. AR מספקת את המתודות הבאות לנוחות השימוש:\r\n\r\n~~~\r\n[php]\r\n// עדכן את הרשומות התואמות לתנאי שהועבר\r\nPost::model()->updateAll($attributes,$condition,$params);\r\n// עדכן את הרשומות התואמות לתנאי שהועבר ולמפתחות הראשיים שהועברו\r\nPost::model()->updateByPk($pk,$attributes,$condition,$params);\r\n// עדכן את עמודות הספירה ברשומות התואמות לתנאי שהועבר\r\nPost::model()->updateCounters($counters,$condition,$params);\r\n~~~\r\n\r\nבדוגמא למעלה, `attributes$` הינו מערך של שמות העמודות וערכיהם; `counter$` הינו מערך של שמות העמודות וערכיהם הינו מספר עולה; ו `condition$` ו `params$` כפי שהוסבר בחלק הקודם.\r\n\r\nמחיקת רשומה\r\n---------------\r\n\r\nאנו יכולים למחוק רשומה במידה ואובייקט ה AR  נוצר על ידי קבלת המידע מהטבלה במסד הנתונים.\r\n\r\n~~~\r\n[php]\r\n$post=Post::model()->findByPk(10); // נניח וישנה הודעה עם המספר 10\r\n$post->delete(); // מחק את הרשומה מהטבלה במסד הנתונים\r\n~~~\r\n\r\nהערה, לאחר המחיקה, אובייקט ה AR נשאר ללא שינוי, אבל אותה שורה בטבלה במסד הנתונים נמחקה.\r\n\r\nלנוחות ניתן להעזר במתודות הבאות כדי למחוק רשומות ללא צורך בטעינה מראש שלהם:\r\n\r\n~~~\r\n[php]\r\n// מחק את הרשומות התואמות לתנאי שהועבר\r\nPost::model()->deleteAll($condition,$params);\r\n// מחק את הרשומות התואמות לתנאי שהועבר ולמפתחות שהועברו\r\nPost::model()->deleteByPk($pk,$condition,$params);\r\n~~~\r\n\r\nאימות נתונים\r\n---------------\r\n\r\nכשמוסיפים או מעדכנים רשומה, אנו בדרך כלל צריכים לבדוק במידה והערכים שהוצבו עונים על חוקים מסויימים. זה בהחלט הכרחי במידה והערכים שמוצבים מוגדרים על ידי משתמשי קצה. בדרך כלל, אנו לא יכולים לסמוך על שום דבר המגיע מצד הלקוח.\r\n\r\nAR מבצע אימות נתונים אוטומטית בעת הקריאה ל [()save|CActiveRecord::save]. האימות מבוסס על החוקים שהוגדרו במתודת [()rules|CModel::rules] במחלקת ה AR. למידע נוסף אודות הגדרת חוקי אימות נתונים, יש לקרוא את החלק אודות [הגדרת חוקי אימות נתונים](/doc/guide/form.model#declaring-validation-rules). למטה מוצג קוד בסיסי הנחוץ לשמירה של רשומה:\r\n\r\n~~~\r\n[php]\r\nif($post->save())\r\n{\r\n    // נתונים אומתו והרשומה נוספה/עודכנה\r\n}\r\nelse\r\n{\r\n    // נתונים לא תקינים. יש לקרוא למתודה ה getErrors() לקבלת השגיאות שחזרו\r\n}\r\n~~~\r\n\r\nכשהמידע לעדכון או הוספה של רשומה מתקבל על ידי משתמשי קצה בעזרת טופס HTML , אנו צריכים להציב אותם למאפיינים התואמים במחלקת ה AR. ניתן לבצע זאת בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\n$post->title=$_POST[''title''];\r\n$post->content=$_POST[''content''];\r\n$post->save();\r\n~~~\r\n\r\nבמידה וישנם עמודות רבים, אנו נראה רשימה ארוכה של הצבות כאלו. בכדי להקל על תהליך ההצבה ניתן להעזר במאפיין [attributes|CActiveRecord::attributes] כפי שמוצג בדוגמא למטה.\r\nמידע נוסף ניתן למצוא בחלק [אבטחת הצבת מאפיינים](/doc/guide/form.model#securing-attribute-assignments) ובחלק [יצירת פעולה](/doc/guide/form.action) .\r\n\r\n~~~\r\n[php]\r\n// נניח ש $_POST[''Post''] הינו מערך ששמות המפתחות הינם שמות העמודות בטבלה והערכים שלהם בהתאם\r\n$post->attributes=$_POST[''Post''];\r\n$post->save();\r\n~~~\r\n\r\n\r\nהשוואת רשומות\r\n-----------------\r\n\r\nבדומה לשורות בטבלה, אובייקטים של AR מזוהים בצורה יחודית על ידי הערך במפתח הראשי שלהם. לכן, בכדי להשוות בין שני אובייקטים של AR, כל מה אנו צריכים לעשות זה להשוות בין את ערכי המפתחות הראשיים שלהם, בהנחה שהם שייכים לאותה מחלקת AR. למרות, שיהיה יותר קל לקרוא פשוט למתודה [()CActiveRecord::equals].\r\n\r\n> Info|מידע: בניגוד ליישום ושימוש של AR בפריימוורקס (Frameworks) שונים אחרים, Yii תומכת במפתחות ראשיים מורכבים במחלקות ה AR שלה. מפתח ראשי מורכב מכיל שני עמודות או יותר. מפתח ראשי מורכב מיוצג על ידי מערך ב Yii, בהתאמה. המאפיין [primaryKey|CActiveRecord::primaryKey] מספק את ערך המפתח הראשי של אובייקט AR.\r\n\r\nהתאמה אישית\r\n-------------\r\n\r\n[CActiveRecord] מספקת כמה מתודות שניתנים לדריסה על ידי תתי המחלקות שלה כדי לשנות את רצף העבודה שלהם וההתנהלות.\r\n\r\n- [beforeValidate|CModel::beforeValidate] ו [afterValidate|CModel::afterValidate]: מתודות אלו נקראות לפני ואחרי ביצוע אימות הנתונים.\r\n\r\n- [beforeSave|CActiveRecord::beforeSave] ו [afterSave|CActiveRecord::afterSave]: מתודות אלו נקראות לפני ואחרי שמירת אובייקט AR.\r\n\r\n- [beforeDelete|CActiveRecord::beforeDelete] ו [afterDelete|CActiveRecord::afterDelete]: מתודות אלו נקראות לפני ואחרי מחיקת אובייקט AR.\r\n\r\n- [afterConstruct|CActiveRecord::afterConstruct]: מתודה זו רצה בכל פעם שאובייקט AR חדש נוצר בעזרת האופרטור `new`.\r\n\r\n- [beforeFind|CActiveRecord::beforeFind]: מתודה זו רצה לפני שימוש באחד ממתודות ה `find` (לדוגמא `find`, `findAll`). אפשרות זו קיימת מגרסאות 1.0.9 ומעלה.\r\n\r\n- [afterFind|CActiveRecord::afterFind]: מתודה זו רצה לאחר יצירת אובייקט AR כתוצאה מביצוע שאילתה.\r\n\r\n\r\nשימוש בטרנזקציה בעזרת AR\r\n-------------------------\r\n\r\nכל אובייקט AR מכיל מאפיין בשם [dbConnection|CActiveRecord::dbConnection] אשר מייצג אובייקט של [CDbConnection]. לכן אנו יכולים להשתמש באפשרות של [טרנזקציות](/doc/guide/database.dao#using-transactions) המסופקת על ידי ה-DAO של Yii בעת הצורך במהלך השימוש ב-AR:\r\n\r\n~~~\r\n[php]\r\n$model=Post::model();\r\n$transaction=$model->dbConnection->beginTransaction();\r\ntry\r\n{\r\n    // שימוש ב find ו save הינם שני שלבים אשר ניתן להתערב בהם על ידי בקשות נוספות\r\n    // לכן אנו משתמשים בטרנזקציה כדי לוודא המשכיות\r\n    $post=$model->findByPk(10);\r\n    $post->title=''כותרת חדשה'';\r\n    $post->save();\r\n    $transaction->commit();\r\n}\r\ncatch(Exception $e)\r\n{\r\n    $transaction->rollBack();\r\n}\r\n~~~\r\n\r\n\r\nמרחבים מוגדרים\r\n------------\r\n\r\n> Note|הערה: תמיכה במרחבים מוגדרים נוספה מגרסאות 1.0.5 ומעלה. הרעיון המקורי של מרחבים מוגדרים הגיע מ  Ruby on Rails.\r\n\r\n*מרחב מוגדר* מייצג *שם* של תנאי בשאילתה שניתן לאחד אותה ביחד עם עוד מרחבים מוגדרים ולצרף לשאילתה של AR.\r\n\r\nמרחבים מוגדרים בדרך כלל מוגדרים במתודה [CActiveRecord::scopes] בזוגות בפורמט של שם-תנאי. הקוד הבא מגדיר שני מרחבים מוגדרים, `published` ו `recently`, במחלקה של המודל `Post`:\r\n\r\n~~~\r\n[php]\r\nclass Post extends CActiveRecord\r\n{\r\n    ......\r\n    public function scopes()\r\n    {\r\n        return array(\r\n            ''published''=>array(\r\n                ''condition''=>''status=1'',\r\n            ),\r\n            ''recently''=>array(\r\n                ''order''=>''create_time DESC'',\r\n                ''limit''=>5,\r\n            ),\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nכל מרחב מוגדר בתור מערך שניתן לאתחל בעזרתו אובייקט של [CDbCriteria]. לדוגמא, המרחב `recently` מגדיר את המאפיין `order` בערך `create_time DESC` ואת המאפיין `limit` לערך 5, שמתורגם לתנאי בשאילתה שאמור להחזיר את חמשת ההודעות האחרונות.\r\n\r\nשימושם העיקרי של המרחבים המוגדרים הינו *שינוי והגדרה* של קריאה למתודות `find` שונות. ניתן לשרשר כמה מרחבים מוגדרים וכתוצאה מכך לבצע שאילתה הרבה יותר מוגבלת הכוללת יותר תנאים. לדוגמא, בכדי למצוא את ההודעות שפורסמו לאחרונה, אנו יכולים להשתמש בקוד הבא:\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->published()->recently()->findAll();\r\n~~~\r\n\r\nבדרך כלל, מרחב מוגדר צריך להיות מוגדר מצד שמאל (לבוא לפני) של המתודה `find`. כל אחד מהם מספק תנאי לשאילתה, אשר בסופו של דבר מתאחד עם תנאים אחרים, כולל את התנאי שהועבר למתודת `find`, ויוצר תנאי אחד גדול. התוצאה הסופית דומה להוספת רשימה של פילטרים לשאילתה.\r\n\r\nהחל מגרסא 1.0.6, ניתן להשתמש במרחבים מוגדרים במתודות `update` ו `delete`. לדוגמא, הקוד הבא ימחק את כל ההודעות שנוספו לאחרונה:\r\n\r\n~~~\r\n[php]\r\nPost::model()->published()->recently()->delete();\r\n~~~\r\n\r\n> Note|הערה: ניתן להשתמש במרחבים מוגדרים על מתודות במחלקה הנוכחית. זאת אומרת, המתודה צריכה להקרא על ידי `()ClassName::model`.\r\n\r\n### מרחבים מוגדרים עם פרמטרים\r\n\r\nניתן להוסיף פרמטרים (סממנים) למרחבים מוגדרים. לדוגמא, אנו נרצה לשנות את הערך של ההודעות במרחב המוגדר בשם `recently`. בכדי לעשות זאת, במקום להגדיר את שם המרחב במתודה [CActiveRecord::scopes], אנו צריכים להגדיר מתודה ששמה הוא זהה לשם המרחב בו אנו משתמשים:\r\n\r\n~~~\r\n[php]\r\npublic function recently($limit=5)\r\n{\r\n    $this->getDbCriteria()->mergeWith(array(\r\n        ''order''=>''create_time DESC'',\r\n        ''limit''=>$limit,\r\n    ));\r\n    return $this;\r\n}\r\n~~~\r\n\r\nלאחר מכן, אנו משתמשים בביטוי הבא בכדי לקבל את שלושת ההודעות שפורסמו לאחרונה:\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->published()->recently(3)->findAll();\r\n~~~\r\n\r\nבמידה ולא נעביר את הספרה 3 כפרמטר במתודה `recently` בקוד למעלה, אנו נקבל את חמשת ההודעות שפורסמו לאחרונה כברירת מחדל.\r\n\r\n### מרחבים מוגדרים כברירת מחדל\r\n\r\nבמחלקה של מודל ניתן להגדיר מרחב מוגדר אשר יתווסף לכל השאילתות שאנו מריצים בעזרת המחלקה (כולל קישורים לטבלאות אחרות). לדוגמא, אתר התומך בכמה שפות ירצה להציג תוכן באותה שפה שהמשתמש כרגע צופה בה. מאחר וישנם שאילתות רבות בנוגע לתוכן האתר, אנו יכולים להגדיר מרחב מוגדר ברירת מחדל בכדי לפתור בעיה זו. בכדי לבצע זאת, אנו נצטרך לדרוס את המתודה [CActiveRecord::defaultScope] בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\nclass Content extends CActiveRecord\r\n{\r\n    public function defaultScope()\r\n    {\r\n        return array(\r\n            ''condition''=>"language=''".Yii::app()->language."''",\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nכעת, הביטוי הבא אוטומטית משתמש בתנאי כפי שהוגדר למעלה:\r\n\r\n~~~\r\n[php]\r\n$contents=Content::model()->findAll();\r\n~~~\r\n\r\nיש לזכור ששימוש במרחבים מוגדרים כברירת מחדל תקף רק לשאילתות מסוג `SELECT`. הוא אינו תקף לגבי `INSERT`, `UPDATE` ו `DELETE` ופשוט יתעלם מהם.\r\n\r\n<div class="revision">$Id: database.ar.txt 1681 2010-01-08 03:04:35Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(19, 'database.arr', 'database.arr', '', '﻿Relational Active Record\r\n========================\r\n\r\nכבר ראינו ולמדנו כיצב להשתמש ב Active Record (AR) כדי לשלוף מידע מטבלה במסד הנתונים. בחלק זה, אנו נסביר כיצד להשתמש ב AR כדי לאחד כמה טבלאות המקושרות אחת לשנייה ולהחזיר את סט הנתונים המאוחד.\r\n\r\nבכדי להשתמש בקישור AR, מומלץ להגדיר את המפתחות הראשיים של הטבלאות העומדות להיות מאוחדות עם טבלאות אחרות כבר מראש. הגדרתם תעזור לשמירת ההמשכיות והאחדות של המידע המקושר.\r\n\r\nכדי לפשט את ההסבר, אנו נשתמש בתרשים מסד הנתונים המוצג בדיאגרמה הבאה בכדי להדגים את הדוגמאות בחלק זה.\r\n\r\n![דיאגרמה](er.png)\r\n\r\n> Info|מידע: תמיכה במפתחות ראשיים חיצוניים תלויה ב DBMS בו משתמשים. SQLite < 3.6.19 אינו תומך במפתחות ראשיים חיצוניים, אך עדיין ניתן להגדיר את המפתחות החיצוניים בעת יצירת הטבלה.\r\n\r\nהצהרת קישורי טבלאות\r\n----------------------\r\n\r\nלפני שנשתמש ב AR בכדי לבצע שאילתה מקושרת, אנו צריכים ליידע את ה AR כיצד מחלקת AR אחת מקושרת עם אחרת.\r\n\r\nהקישור בין שני מחלקות AR משתייך ישירות לקישורים בין הטבלאות המיוצגות על ידי מחלקות ה AR. מנקודת מבט של מסד נתונים, קישור בין שני טבלאות A ו B ניתן להגדרה על ידי שלושה סוגים: יחיד-ל-רבים (`one-to-many` לדוגמא `tbl_user` ו `tbl_post`), יחיד-ל-יחיד ( `one-to-one` לדוגמא `tbl_user` ו `tbl_profile`) ו רבים-ל-רבים (`many-to-many` לדוגמא `tbl_category` ו `tbl_post`). ב AR ישנם ארבע סוגים של קישורים:\r\n\r\n- `BELONGS_TO`: במידה והקישור בין טבלה א'' לבין טבלה ב'' הינה יחיד-ל-רבים, אז ב'' שייך ל א'' (לדוגמא `Post` שייך ל `User`);\r\n\r\n- `HAS_MANY`: במידה והקישור בין טבלה א'' לבין טבלה ב'' הינה יחיד-ל-רבים, אז א'' מכיל הרבה מ ב'' (לדוגמא `User` מכיל הרבה `Post`);\r\n\r\n- `HAS_ONE`: זהו מקרה מיוחד של `HAS_MANY` איפה א'' מכיל לכל היותר ב'' אחד (לדוגמא `User` מכיל לכל היותר `Profile` אחד);\r\n\r\n- `MANY_MANY`: זה מתייחס לקישור של רבים-ל-רבים במסד נתונים. טבלה אסוציאטיבית נחוצה בכדי לחלק את הקישור רבים-ל-רבים לקישור יחיד-ל-רבים, מאחר ומרבית ה DBMS אינם תומכים בקישור מסוג רבים-ל-רבים כברירת מחדל. בדוגמא של תרשים מסד הנתונים, הטבלה `tbl_post_category` משרתת מטרה זו. בטרמינולוגיה של AR אנו יכולים להסביר את `MANY_MANY` כקומבינציה של `BELONGS_TO` ו `HAS_MANY`. לדוגמא, `Post` שייך לכמה `Category` ו `Category` מכיל הרבה `Post`.\r\n\r\nהגדרת קישורים ב AR כרוכה בדריסה של המתודה [relations|CActiveRecord::relations] של המחלקה [CActiveRecord]. המתודה מחזירה מערך של הגדרות קישורים. כל אלמנט במערך קישור בודד בפורמט הבא:\r\n\r\n~~~\r\n[php]\r\n''VarName''=>array(''RelationType'', ''ClassName'', ''ForeignKey'', ...additional options)\r\n~~~\r\n\r\n`varName` מייצג את שם הקישור; `RelationType` מייצג את סוג הקישור, הוא יכול להיות אחד מהערכים: `self::BELONGS_TO`, `self::HAS_ONE`, `self::HAS_MANY` ו\r\n`self::MANY_MANY`; `ClassName` הינו שם מחלקת ה AR הקשור למחלקת ה AR הנוכחית; ו `ForeignKey` מייצג את המפתח(ות) הראשיים השייכים לקישור זה. אפשרויות נוספות ניתנות להגדרה בסוף האלמנט לכל קישור (הסבר בהמשך).\r\n\r\nהקוד הבא מדגים כיצד אנו מצהירים על הקישורים בין המחלקות `Post` ו `User`.\r\n\r\n~~~\r\n[php]\r\nclass Post extends CActiveRecord\r\n{\r\n    ......\r\n\r\n    public function relations()\r\n    {\r\n        return array(\r\n            ''author''=>array(self::BELONGS_TO, ''User'', ''author_id''),\r\n            ''categories''=>array(self::MANY_MANY, ''Category'',\r\n                ''tbl_post_category(post_id, category_id)''),\r\n        );\r\n    }\r\n}\r\n\r\nclass User extends CActiveRecord\r\n{\r\n    ......\r\n\r\n    public function relations()\r\n    {\r\n        return array(\r\n            ''posts''=>array(self::HAS_MANY, ''Post'', ''author_id''),\r\n            ''profile''=>array(self::HAS_ONE, ''Profile'', ''owner_id''),\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\n> Info|מידע: מפתח ראשי יכול להיות מורכב, המכיל שני עמודות או יותר. במקרה זה, אנו צריכים לאחד את שמות העמודות ולהפריד אותם בעזרת פסיק או רווח. עבור סוג קישור `MANY_MANY`, שם הטבלה המקושרת צריכה להיות מוגדרת במפתח החיצוני. לדוגמא, הקישור `categories` ב `Post` מוגדרת באמצעות המפתח החיצוני `tbl_post_category(post_id, category_id)`.\r\n\r\nההצהרה של קישורים במחלקת ה AR מוסיפה בצורה עקיפה מאפיינים למחלקה אשר מהווים ייצוג של הקישורים עצמם. לאחר ביצוע שאילתה המקשרת בין טבלאות, המאפיין הנלמד יאוכלס על ידי הקישור של מחלקת ה AR. לדוגמא, אם `author$` מייצג אובייקט AR של `User`, אנו נוכל להשתמש ב `author->posts$` בכדי לגשת לקישור של אובייקט ה `Post`.\r\n\r\nביצוע שאילתות מקושרות\r\n---------------------------\r\n\r\nהדרך הפשוטה ביותר לביצוע שאילתה מקושרת היא על ידי קריאת מאפיין הקישור של אובייקט AR. במידה והמאפיין לא נקרא קודם לכן, תתבצע שאילתה מקושרת, המאחדת את שני הטבלאות המקושרות ומסננת בעזרת המפתח הראשי של אובייקט ה AR הנוכחי. תוצאת השאילתה תשמר במאפיין כאובייקט(ים) של מחלקת ה AR המקושרת. שיטה זו ידועה בשמה כ *טעינה עצלה* (lazy loading), כלומר, השאילתה המקושרת מתבצעת רק במידה וזמן שניגשים לאבוייקטים המקושרים (זאת אומרת קוראים את המאפיינים של הקישורים בין הטבלאות). הדוגמא הבאה מציגה כיצד להשתמש בשיטה זו:\r\n\r\n~~~\r\n[php]\r\n// קבלת ההודעה עם id = 10\r\n$post=Post::model()->findByPk(10);\r\n// קבלת מידע אודות מפרסם ההודעה, כאן תתבצע שאילתה מקושרת\r\n$author=$post->author;\r\n~~~\r\n\r\n> Info|מידע: במידה ולא קיים אובייקט לקישור מסויים, אותו מאפיין במחלקת ה AR המקשרת יכול להיות null או מערך ריק. בעבור קישורי טבלאות מסוג `BELONGS_TO` ו `HAS_ONE`, התוצאה תיהיה null; בעבור קישורי טבלאות מסוג `HAS_MANY` ו `MANY_MANY`, התוצאה תיהיה מערך ריק.\r\nזכור שקישורי הטבלאות מסוג `HAS_MANY` ו `MANY_MANY` מחזירים מערך של אובייקטים, תצטרכו לרוץ על כל התוצאות לפני שיהיה ניתן לגשת לכל אחד כאובייקט, אחרת, תזרק שגיאה של ניסיון לקריאה של מאפיינים לאובייקט שלא קיים.\r\n\r\nגישת ה*טעינה עצלה* נוחה מאוד לשימוש, אך היא לא יעילה במקרים מסויימים. לדוגמא, במידה ואנו רוצים לגשת למידע אודות המפרסם של `N` הודעות, שימוש ב*טעינה עצלה* תבצע `N` שאילתות מקשרות. אנו נצטרך לנקוט בגישה של *טעינה נלהבת* (eager loading) במקרים כאלו.\r\n\r\nגישת  ה*טעינה נלהבת* מחזיר את האובייקטים המקושרים לאובייקט AR הראשי. ניתן לבצע זאת על ידי שימוש במתודה [with()|CActiveRecord::with] בשילוב של אחת מפקודות ה [find|CActiveRecord::find] או [findAll|CActiveRecord::findAll] במחלקת AR. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->with(''author'')->findAll();\r\n~~~\r\n\r\nהקוד למעלה יחזיר מערך של אובייקטים של `Post`. בניגוד לגישה של טעינה עצלה, המאפיין `author` בכל אובייקט של `Post` כבר מאוכלס וקיים בשילוב של האובייקט של `User` לפני שאנו אפילו ניגשים לקרוא את המאפיין.\r\nבמקום לבצע שאילתה מקשרת לכל הודעה, גישת הטעינה הנלהבת מחזירה את כל ההודעות ביחד עם המידע אודות המפרסם שלה בשאילתה אחת!\r\n\r\nניתן להגדיר מספר רב של שמות קישורים במתודה [with|CActiveRecord::with] וגישת הטעינה הנלהבת תחזיר את כולם במכה אחת. לדוגמא, הקוד הבא מחזיר הודעות ביחד עם המידע אודות המפרסם שלהם והקטגוריה בה הם פורסמו:\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->with(''author'',''categories'')->findAll();\r\n~~~\r\n\r\nכמו כן, אנו יכולים לקנן בין קישורים בעזרת הטעינה הנלהבת. במקום רשימה של שמות קישורים, אנו מעבירים רפרזנטציה היררכית של שמות הקישורים למתודה [with|CActiveRecord::with], כפי שמוצג בדוגמא הבאה,\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->with(\r\n    ''author.profile'',\r\n    ''author.posts'',\r\n    ''categories'')->findAll();\r\n~~~\r\n\r\nהדוגמא למעלה תחזיר את כל ההודעות ביחד עם המידע אודות המפרסם והקטגוריות בהם הם פורסמו. בנוסף היא תחזיר את המידע אודות הפרופיל של המשתמש וההודעות שלו.\r\n\r\nהחל מגרסא 1.1.0, ניתן להשתמש בגישת הטעינה הנלהבת בעזרת הגדרת המאפיין [CDbCriteria::with], כפי שמוצג בדוגמא:\r\n\r\n~~~\r\n[php]\r\n$criteria=new CDbCriteria;\r\n$criteria->with=array(\r\n    ''author.profile'',\r\n    ''author.posts'',\r\n    ''categories'',\r\n);\r\n$posts=Post::model()->findAll($criteria);\r\n~~~\r\n\r\nאו\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->findAll(array(\r\n    ''with''=>array(\r\n        ''author.profile'',\r\n        ''author.posts'',\r\n        ''categories'',\r\n    )\r\n);\r\n~~~\r\n\r\n\r\nאפשרויות שאילתות מקושרות\r\n------------------------\r\n\r\nציינו שניתן להגדיר אפשרויות נוספות בהגדרה של קישורים. אפשרויות אלו, המוגדרות כזוגות של שמות מפתחות וערכים, מוגדרות כדי לשנות את השאילתה המקושרת. סיכום של אפשרויות אלו נמצא למטה.\r\n\r\n- `select`: רשימה של עמודות שאותם צריכים לשלוף ממחלקת ה AR המקושרת. ברירת המחדל הינה ''*'', שזה אומר כל העמודות, שמות העמודות באפשרות זו צריכות להיות יחודיות.\r\n\r\n- `condition`: סעיף ה `WHERE`. כברירת מחדל הוא ריק. שמות העמודות באפשרות זו צריכות להיות יחודיות.\r\n\r\n- `params`: הפרמטרים שצריכים להיות תחומים לשאילתת ה SQL שתווצר. אפשרות זו צריכה להיות מוגדרת כמערך של מפתחות וערכים. אפשרות זו קיימת מגרסאות 1.0.3 ומעלה.\r\n\r\n- `on`: סעיף ה `ON`. התנאי המוגדר כאן יצורף לתנאי של הקישור בעזרת האופרטור `AND`. שמות העמודות באפשרות זו צריכות להיות יחודיות. אפשרות זו לא תקפה לסוג קישור `MANY_MANY`. אפשרות זו קיימת מגרסאות 1.0.2 ומעלה.\r\n\r\n- `order`: סעיף ה `ORDER BY`. כברירת מחדל הוא ריק. שמות העמודות באפשרות זו צריכות להיות יחודיות.\r\n\r\n- `with`: רשימה של אובייקטים המקושרים לאובייקט זה ושיש צורך בלטעון אותם ביחד עם אובייקט זה. דע לך ששימוש לא נכון באפשרות זו יכול לגרום ללולאה אין סופית.\r\n\r\n- `jointType`: סוג האיחוד לקישור זה. כברירת מחדל הוא מוגדר ל `LEFT OUTER JOIN`.\r\n\r\n- `alias`: שם קיצור לטבלה הקשורה לקישור זה. אפשרות זו קיימת מגרסא 1.0.1. כברירת מחדל היא מוגדרת ל null, שאומר שהקיצור לטבלה הוא זהה לשם הקישור עצמו.\r\n\r\n- `together`: במידה והטבלה המקושרת עם קישור זה מאולצת לאיחוד ביחד עם הטבלה הראשית ושאר הטבלאות. אפשרות זו תקפה רק לקישורים מסוג HAS_MANY ו MANY_MANY. במידה ואפשרות זו מוגדרת ל false, הטבלה המקושרת ל HAS_MANY או MANY_MANY תאוחד עם הטבלה הראשית בשאילתה נפרדת, אשר יכול לשפר את הביצועים הכוללים של השאילתה מאחר ופחות נתונים כפולים יוחזרו. כברירת מחדל האפשרות מוגדרת ל true.\r\nלמידע נוסף קרא את החלק "ביצועי שאילתה מקושרת". אפשרות זו קיימת מגרסא 1.0.3 ומעלה.\r\n\r\n- `group`: סעיף ה `GROUP BY`. כברירת מחדל הוא ריק. שמות העמודות באפשרות זו צריכות להיות יחודיות. אפשרות זו קיימת מגרסא 1.0.1 ומעלה.\r\n\r\n- `having`: סעיף ה `HAVING`. כברירת מחדל הוא ריק. שמות העמודות באפשרות זו צריכות להיות יחודיות. אפשרות זו קיימת מגרסא 1.0.1 ומעלה.\r\n\r\n- `index`: שמות העמודות שערכיהם צריכות להיות משומשות כמפתחות למערך המאחסן את האובייקטים המקושרים. ללא הגדרת אפשרות זו, אובייקט מקושר ישתמש במפתחות מספריים מ-0 למערך של האובייקטים המקושרים. אפשרות זו ניתנת להגדרה רק על קישורים מסוג `HAS_MANY` ו `MANY_MANY`. אפשרות זו קיימת מגרסא 1.0.7 ומעלה.\r\n\r\nבנוסף, האפשרויות הבאות קיימות גם כן לקישורים מסויימים במהלך טעינה עצלה:\r\n\r\n- `limit`: הגבלת מספר השורות לבחירה. אפשרות זו לא תקפה לקישור מסוג `BELONGS_TO`.\r\n\r\n- `offset`: מאיזה שורה להתחיל לשלוף את הנתונים. אפשרות זו לא תקפה לקישור מסוג `BELONGS_TO`.\r\n\r\nלמטה אנו עורכים את הגדרת הקישור של `posts` במחלקה של `User` על ידי הוספת כמה מהאפשרויות למעלה:\r\n\r\n~~~\r\n[php]\r\nclass User extends CActiveRecord\r\n{\r\n    public function relations()\r\n    {\r\n        return array(\r\n            ''posts''=>array(self::HAS_MANY, ''Post'', ''author_id'',\r\n                            ''order''=>''posts.create_time DESC'',\r\n                            ''with''=>''categories''),\r\n            ''profile''=>array(self::HAS_ONE, ''Profile'', ''owner_id''),\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nכעת, ברגע שניגש ל `author->posts$`, אנו נקבל את ההודעות של המפרסם מסודרים לפי תאריך הפרסום שלהם בסדר יורד. כל אובייקט של הודעה מכיל גם את הקטגוריות טעונות בתוכו.\r\n\r\nשמות יחודיים לעמודות\r\n---------------------------\r\n\r\nכששם העמודות מופיע בשני טבלאות או יותר אשר מקושרות ביחד, יש צורך בלזהות אותם צבורה יחודית. זה נעשה על ידי מתן קידומת לעמודה עם השם המקוצר של הטבלה בה היא נמצאת.\r\n\r\nבשאילתת AR מקושרת, השם המקוצר לטבלה הראשית הינו מוגדר מראש בתור ''t'' בזמן ששם המקוצר לטבלה המקושרת כברירת מחדל הוא זהה לשמו של הקישור שהוגדר. לדוגמא, בביטוי הבא, השמות המקוצרים לטבלאות `Post` ו `Comment` הינו `t` ו  `comments`, בהתאמה:\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->with(''comments'')->findAll();\r\n~~~\r\n\r\nכעת, נניח שישנה עמודה בשם `create_time` בשני הטבלאות של `Post` ו `Comment` המייצג את הזמן פרסום ההודעה וזמן פרסום התגובה, ואנו נרצה לשלוף את ההודעות ביחד עם התגובות שלהם וסידור ההודעות על פי תאריך הפרסום שלהם קודם ולאחר מכן סידור התגובות על פי תאריך הפרסום שלהם. אנו נצטרך לתת שם יחודי לעמודה `create_time` בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->with(''comments'')->findAll(array(\r\n    ''order''=>''t.create_time, comments.create_time''\r\n));\r\n~~~\r\n\r\n> Note|הערה: ההתנהגות של שמות עמודות יחודיים השתנתה החל מגרסא 1.1.0. קודם לכן בגרסאות *.1.0, כברירת מחדל Yii אוטומטית יצרה שם מקוצר לכל טבלה מקושרת, ואנו היינו צריכים להשתמש בקידומת של `.??` כדי להתייחס לשם המקוצר שנוצר אוטומטית. בנוסף, בגרסאות *.1.0, השם המקוצר שם הטבלה הראשית הוא שם הטבלה עצמה.\r\n\r\nאפשרויות דינאמיות לשאילתות מקושרות\r\n--------------------------------\r\n\r\nהחל מגרסא 1.0.2, אנו יכולים להשתמש באפשרויות דינאמיות לשאילתות מקושרות במתודה [with|CActiveRecord::with] וגם על ידי שימוש באפשרות `with`. האפשרויות הדינאמיות ידרוס את האפשרויות הקיימות שהוגדרו במתודה [relations|CActiveRecord::relations]. לדוגמא, בעזרת המודל `User` המצויין למעלה, במידה ואנו נרצה להשתמש בגישה של טעינה נלהבת כדי להחזיר את ההודעות השייכות למפרסם *בסדר עולה* (אפשרות ה `order` בהגדרות של הקישור מוגדרת בסדר יורד), אנו יכולים לבצע את הפעולה הבאה:\r\n\r\n~~~\r\n[php]\r\nUser::model()->with(array(\r\n    ''posts''=>array(''order''=>''posts.create_time ASC''),\r\n    ''profile'',\r\n))->findAll();\r\n~~~\r\n\r\nהחל מגרסא 1.0.5, אפשרויות דינאמיות של שאילתות מקושרות ניתנות לשימוש בעת שימוש בגישה של טעינה עצלה בכדי לבצע שאילתה מקושרת. בכדי לעשות זאת, אנו נקרא למתודה ששמה הוא זהה לשם של הקישור ונעביר את האפשרויות הדינאמיות למתודה כפרמטר. לדוגמא, הקוד הבא מחזיר את הודעות המשתמש שהסטטוס שלהם הוא 1, `status` שווה ל 1:\r\n\r\n~~~\r\n[php]\r\n$user=User::model()->findByPk(1);\r\n$posts=$user->posts(array(''condition''=>''status=1''));\r\n~~~\r\n\r\n\r\nביצועי שאילתה מקושרת\r\n----------------------------\r\n\r\nבפי שתארנו כבר למעלה, השימוש בטעינה נלהבת בעיקר הוא במקרה שאנו צריכים לגשת לאובייקטים מקושרים רבים. הוא יוצר שאילתת SQL גדולה ומורכבת על ידי חיבור כל הטבלאות המקושרות. שאילתת SQL גדולה עדיפה בהרבה מקרים מאחר והיא מפשטת את השינון בהתבסס על העמודות בטבלה מקושרת. למרות, שהיא לא כל כך יעילה במקרים מסויימים.\r\n\r\nנקח כדוגמא מקרה בו אנו צריכים למצוא את ההודעות האחרונות ביחד עם התגובות שלהם. בהנחה שלכל הודעה יש 10 תגובות, שימוש בשאילתת SQL אחת גדולה, יחזיר בחזרה הרבה מידע מיותר מאחר וכל הודעה תחזור על עצמה על כל תגובה שפורסמה בה. עכשיו ננסה גישה אחרת: קודם אנו מבצעים שאילתה לקבלת ההודעות האחרונות, ולאחר מכן אנו מכן שאילתה לקבלת התגובות בתוכה. בגישה חדשה זו, אנו צריכים לבצע שני שאילתות. היתרון הוא שאנו לא מקבלים מידע מיותר בתוצאות השאילתה.\r\n\r\nאז איזה גישה יותר יעילה? אין תשובה מוחלטת. הרצת שאילתה אחת גדולה יכול להיות יותר יעיל מאחר והיא צורכת פחות משאבים ב DBMS על מנת לנתח ולהריץ את שאילתת ה SQL. מצד שני, שימוש בשאילתת SQL אחת, אנו מקבלים בסופו של דבר הרבה תוכן מיותר שדורש יותר זמן בקריאה ועיבוד שלו.\r\n\r\nמסיבה זו, Yii מספקת את האפשרות של `together` בשאילתות כדי שנוכל לבחור בין הגישות השונות לפי הצורך. כברירת מחדל, Yii מאמצת את הגישה הראשונה, כלומר, ביצוע שאילתה אחת גדולה בכדי לבצע טעינה נלהבת. אנו יכולים להגדיר את האפשרות של `together` לערך false בהגדרות של הקישור בכדי שכמה טבלאות יאוחדו בשאילתה נפרדת. לדוגמא, בכדי להשתמש בגישה השנייה כדי לבצע שאילתה שתחזיר את ההודעות האחרונות ביחד עם התגובות שלהם, אנו יכולים להגדיר את הקישור של `comments` במחלקה של `Post` בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\npublic function relations()\r\n{\r\n    return array(\r\n        ''comments'' => array(self::HAS_MANY, ''Comment'', ''post_id'', ''together''=>false),\r\n    );\r\n}\r\n~~~\r\n\r\nכמו כן אנו יכולים להגדיר אפשרות זו בצורה דינאמית בזמן שאנו מבצעים את הטעינה הנלהבת:\r\n\r\n~~~\r\n[php]\r\n$posts = Post::model()->with(array(''comments''=>array(''together''=>false)))->findAll();\r\n~~~\r\n\r\n> Note|הערה: בגרסאות 1.0, התנהגות ברירת המחדל של Yii תייצר ותריץ `N+1` שאילתות SQL אם ישנם `N` , שאילתות מקושרות מסוג `HAS_MANY` או `MANY_MANY`. כל קישור מסוג `HAS_MANY` או `MANY_MANY` מריץ שאילתה נפרדת. על ידי קריאה למתודה `()together` אחרי `()with`, אנו יכולים לאלץ יצירה והרצה של שאילתת SQL אחת בלבד. לדוגמא,\r\n> ~~~\r\n> [php]\r\n> $posts=Post::model()->with(\r\n>     ''author.profile'',\r\n>     ''author.posts'',\r\n>     ''categories'')->together()->findAll();\r\n> ~~~\r\n>\r\n\r\n\r\nשאילתות סטטיסטיות\r\n-----------------\r\n\r\n> Note|הערה: שאילתות סטטיסטיות נתמכות מגרסאות 1.0.4 ומעלה.\r\n\r\nמלבד השאילתות המקושרות המתוארות למעלה, Yii תומכת במה שנקרא שאילתות סטטיסטיות (או שאילתות מצטברות). זה מתייחס לקבלת המידע המצטבר בנוגע לאובייקט המקושר, כמו מספר התגובות לכל הודעה, ממוצע דירוג לכל מוצר, וכדומה. שאילתות סטטיסטיות ניתנות לביצוע על אובייקטים המקושרים בעזרת `HAS_MANY` (לדוגמא, הודעה מכילה הרבה תגובות) או `MANY_MANY` (לדוגמא, הודעה שייכת לכמה קטגוריות וקטגוריה מכילה כמה הודעות).\r\n\r\nביצוע שאילתות סטטיסטיות דומה מאוד לביצוע שאילתה מקושרת כפי שתארנו קודם לכן. ראשית עלינו להגדיר את השאילתה הסטטיסטית במתודה [()relations|CActiveRecord::relations]  של המחלקה [CActiveRecord] כפי שאנו עושים בשאילתות מקושרות.\r\n\r\n~~~\r\n[php]\r\nclass Post extends CActiveRecord\r\n{\r\n    public function relations()\r\n    {\r\n        return array(\r\n            ''commentCount''=>array(self::STAT, ''Comment'', ''post_id''),\r\n            ''categoryCount''=>array(self::STAT, ''Category'', ''post_category(post_id, category_id)''),\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nבדוגמא למעלה, אנו מגדירים שני שאילתות סטטיסטיות: `commentCount` המחשב את מספר התגובות השייכות להודעה, ו `categoryCount` המחשב את מספר הקטגוריות שהודעה שייכת אליו. זכור שהקישור בין `Post` ו `Comment` הוא `HAS_MANY`, בזמן שהקישור בין `Post` לבין `Category` הוא `MANY_MANY` (עם הטבלה המאחדת `post_category`). כפי שניתן לראות, ההגדרה דומה מאוד לזו של הקישורים שהסברנו לגביהם בחלקים הקודמים. ההבדל היחידי במקרה הזה הוא שסוג הקישור הינו `STAT`.\r\n\r\nבעזרת ההגדרה למעלה, אנו יכולים לקבל את מספר התגובות לכל הודעה בעזרת הביטוי הבא `post->commentCount$`. כשניגש למאפיין זה בפעם הראשונה, תתבצע שאילתת SQL במיוחד לקבלת הנתון הזה. כפי שאנו כבר יודעים, גישה זו נקראת *טעינה עצלה*. אנו יכולים להשתמש *בטעינה נלהבת* במידה ואנו רוצים לדעת את כמות התגובות לכמה הודעות:\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->with(''commentCount'', ''categoryCount'')->findAll();\r\n~~~\r\n\r\nהקוד למעלה יבצע 3 שאילתות בכדי לקבל את כל ההודעות ביחד עם מספר התגובות שלהם ומספר הקטגוריות. שימוש בגישה של טעינה עצלה, אנו נבצע `1+N*2` שאילתות SQL אם ישנם `N` הודעות.\r\n\r\nכברירת מחדל, שאילתה סטטיסטית תבצע את הביטוי  `COUNT` (ולכן תתקבל מספר התגובות ומספר הקטגוריות בדוגמא למעלה). אנו יכולים לשנות זאת על ידי הגדרת אפשרויות נוספות בזמן שאנו מצהירים זאת במתודה [()relations|CActiveRecord::relations]. האפשרויות הזמינות מסוכמות למטה.\r\n\r\n- `select` : הביטוי הסטטיסטי. כברירת מחדל הוא מוגדר כ `COUNT(*)`, האומר ספירה של תתי אובייקטים.\r\n\r\n- `defaultValue` : הערך שיש להגדיר לרשומות שלא מקבלות תוצאה מהשאילתה.\r\n\r\n- `condition`: סעיף ה `WHERE`. ברירת מחדל הוא ריק.\r\n\r\n- `params`: הפרמטרים שצריכים להתחם לשאילתת ה SQL. יש להגדיר אפשרות זו כמערך של מפתחות וערכים.\r\n\r\n- `order` : סעיף ה `ORDER BY`. כברירת מחדל הוא ריק.\r\n\r\n- `group`: סעיף ה `GROUP BY`. כברירת מחדל הוא ריק.\r\n\r\n- `having`: סעיף ה `HAVING`. כברירת מחדל הוא ריק.\r\n\r\n\r\nשאילתות מקושרות עם מרחבים מוגדרים\r\n----------------------------------\r\n\r\n> Note|הערה: תמיכה במרחבים מוגדרים קיימת החל מגרסאות 1.0.5 ומעלה.\r\n\r\nשאילתה מקושרת ניתנת לביצוע גם בצירוף של [מרחבים מוגדרים](/doc/guide/database.ar#named-scopes). היא מגיעה בשני מצבים. במצב הראשון, מרחבים מוגדרים מצורפים למודל הראשי. במצב השני, מרחבים מוגדרים מצורפים למודלים המקושרים.\r\n\r\nהקוד הבא מציג כיצד לצרף מרחב מוגדר למודל הראשי.\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->published()->recently()->with(''comments'')->findAll();\r\n~~~\r\n\r\nזה דומה מאוד לשאילתות לא מקושרות. ההבדל היחידי הוא שישנו קריאה למתודה `()with` מיד לאחר השרשור של המרחב המוגדר. השאילתה למעלה תחזיר את ההודעות שפורסמו לאחרונה ביחד עם התגובות שלהם.\r\n\r\nוהקוד הבא מציג כיצד לצרף מרחב מוגדר למודל מקושר.\r\n\r\n~~~\r\n[php]\r\n$posts=Post::model()->with(''comments:recently:approved'')->findAll();\r\n~~~\r\n\r\nהשאילתה למעלה תחזיר את כל ההודעות ביחד עם התוגובת שאושרו. זכור ש `comments` מתייחס לשם הקישור, בזמן ש `recently` ו `approved` מתייחס למרחב מוגדר שקיים במחלקת המודל של `Comment`. שם הקישור והמרחבים המוגדרים צריכים להיות מופרדים בעזרת נקודותיים ( : ).\r\n\r\nניתן לצרף מרחבים מוגדרים גם באפשרות של `with` בהגדרת הקישור במתודה [CActiveRecord::relations()]. בדוגמא הבאה, ברגע שאנו ניגשים למאפיין `user->posts$`, הוא מחזיר את כל התגובות *המאושרות* של ההודעות.\r\n\r\n~~~\r\n[php]\r\nclass User extends CActiveRecord\r\n{\r\n    public function relations()\r\n    {\r\n        return array(\r\n            ''posts''=>array(self::HAS_MANY, ''Post'', ''author_id'',\r\n                ''with''=>''comments:approved''),\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\n> Note|הערה: מרחבים מוגדרים המצורפים למודלים מקושרים צריכים להיות מוגדרים ב [CActiveRecord::scopes]. כתוצאה מכך לא ניתן להגדיר להם פרמטרים.\r\n\r\n<div class="revision">$Id: database.arr.txt 2069 2010-01-08 05:08:29Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(20, 'database.dao', 'database.dao', '', '﻿Data Access Objects (DAO)\r\n=========================\r\n\r\nה DAO מספק גישת API כללית למידע המאוחסן בסוגי מסדים שונים (DBMS). כתוצאה מכך, ה DBMS היושב מתחת ניתן לשינוי לאחד אחר ללא צורך בשינוי הקוד המשתמש ב DAO בכדי לגשת למידע.\r\n\r\nה DAO של Yii בנוי על בסיס התוסף של PHP בשם (PDO)](http://php.net/manual/en/book.pdo.php) המספק אפשרויות אחידות לגישה למסדי DBMS נפוצים, כמו MySQL, PostgreSQL. לכן, בכדי להשתמש ב DAO של Yii יש צורך בלהתקין ולהפעיל את התוסף של PDO בשרת, וכמו כן להפעיל את התוספים הספציפים למסד הנתונים בו יהיה שימוש (לדוגמא `PDO_MYSQL`).\r\n\r\nה DAO של Yii בנוי ברובו על בסיס ארבעת המחלקות הבאות:\r\n\r\n   - [CDbConnection]: מייצג התחברות למסד נתונים.\r\n   - [CDbCommand]: מייצג שאילתת SQL שצריך להריץ מול מסד נתונים.\r\n   - [CDbDataReader]: מייצג תוצאות שאילתת SQL מול מסד נתונים.\r\n   - [CDbTransaction]: מייצג טרנזקציה.\r\n\r\nבחלק זה, אנו נציג כיצד להשתמש ב DAO במקרים שונים.\r\n\r\nיצירת התחברות למסד הנתונים\r\n--------------------------------\r\n\r\nבכדי ליצר התחברות למסד הנתונים, יש ליצור אובייקט של [CDbConnection] ולהפעיל אותו. יש להגדיר DSN שמהווה בעצם הסטרינג המכיל את המידע הדרוש להתחברות למסד נתונים. כמו כן יהיה צורך בהגדרת שם משתמש וסיסמא להתחברות למסד הנתונים. תזרק שגיאה במידה ותיהיה בעיה בזמן ניסיון החיבור למסד הנתונים (במידה וה DSN לא תקין או שם משתמש וסיסמא לא נכונים).\r\n\r\n~~~\r\n[php]\r\n$connection=new CDbConnection($dsn,$username,$password);\r\n// יצירת התחברות רצוי לתחום את זה ב try ... catch\r\n$connection->active=true;\r\n......\r\n$connection->active=false;  // סגירת התחברות\r\n~~~\r\n\r\nהפורמט של ה DSN תלוי בדרייבר של מסד הנתונים ב PDO שמשתמשים בו. בכללי, DSN מכיל את שם הדרייבר ב PDO, לאחריו נקודותיים ( : ), ולאחריו תחביר ההתחברות המדוייק לכל דרייבר. יש לעיין [דוקומנטציה](http://www.php.net/manual/en/pdo.construct.php) למידע מלא. למטה רשימה של DNS נפוצים:\r\n\r\n- SQLite: `sqlite:/path/to/dbfile`\r\n- MySQL: `mysql:host=localhost;dbname=testdb`\r\n- PostgreSQL: `pgsql:host=localhost;port=5432;dbname=testdb`\r\n- SQL Server: `mssql:host=localhost;dbname=testdb`\r\n- Oracle: `oci:dbname=//localhost:1521/testdb`\r\n\r\nמאחר ו [CDbConnection] יורשת מהמחלקה [CApplicationComponent], ניתן להשתמש בו גם [כרכיב](/doc/guide/basics.application#application-component). בכדי לעשות זאת, יש להגדיר רכיב [בהגדרות האפליקציה](/doc/guide/basics.application#application-configuration) בשם `db` (או כל שם אחר) בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''components''=>array(\r\n        ......\r\n        ''db''=>array(\r\n            ''class''=>''CDbConnection'',\r\n            ''connectionString''=>''mysql:host=localhost;dbname=testdb'',\r\n            ''username''=>''root'',\r\n            ''password''=>''password'',\r\n            ''emulatePrepare''=>true,  // יש צורך בהגדרה זו להתקנות MySQL מסויימות\r\n        ),\r\n    ),\r\n)\r\n~~~\r\n\r\nלאחר מכן אנו נוכל לגשת לחיבור ה DB בעזרת `Yii::app()->db` שכבר הופעלה בצורה אוטומטית. אלה אם כן אנו נגדיר באופן ספציפי את המאפיין [CDbConnection::autoConnect] ל false. שימוש בגישה זו, ההתחברות הזו ניתנת לשימוש במקומות שונים בקוד.\r\n\r\nהרצת שאילתות SQL\r\n------------------------\r\n\r\nלאחר יצירת התחברות למסד הנתונים, ניתן להריץ שאילתות SQL על ידי שימוש ב [CDbCommand]. ניתן לייצר אובייקט של [CDbCommand] על ידי קריאה ל [()CDbConnection::createCommand] עם השאילתה הבאה:\r\n\r\n~~~\r\n[php]\r\n$command=$connection->createCommand($sql);\r\n// במידה וצריך ניתן לעדכן את שאילתת ה SQL בצורה הבאה:\r\n// $command->text=$newSQL;\r\n~~~\r\n\r\nשאילתת SQL מתבצעת בעזרת [CDbCommand] באחת מהדרכים הבאות:\r\n\r\n- [()execute|CDbCommand::execute]: מבצעת שאילתת SQL אשר לא מחזירה מידע לקריאה, כמו `INSERT`, `UPDATE`, `DELETE`. במידה והיא בוצעה בהצלחה היא תחזיר את מספר השורות שעודכנו.\r\n\r\n- [()query|CDbCommand::query]: מבצעת שאילתת SQL אשר מחזירה שורות של מידע, כמו `SELECT`. במידה והיא בוצעה בהצלחה, היא מחזירה אובייקט של [CDbDataReader] שבעזרתו ניתן יהיה לרוץ עליו לקבלת המידע שורה שורה. לנוחות, ישנם סט של מתודות `()queryXXX` אשר כלולות שבעזרתם ניתן לקבל את התוצאה ישירות.\r\n\r\nתזרק שגיאה במידה והייתה בעיה בהרצת השאילתה.\r\n\r\n~~~\r\n[php]\r\n$rowCount=$command->execute();   // ביצוע שאילתה שלא מחזירה מידע לקריאה\r\n$dataReader=$command->query();   // הרצת שאילתת SQL\r\n$rows=$command->queryAll();      // הרצת שאילתה והחזרת כל השורות של התוצאה\r\n$row=$command->queryRow();       // הרצת שאילתה והחזרת השורה הראשונה בתוצאה\r\n$column=$command->queryColumn(); // הרצת שאילתה והחזרה העמודה הראשונה של התוצאה\r\n$value=$command->queryScalar();  // הרצת שאילתה והחזרת העמודה הראשונה בשורה הראשונה\r\n~~~\r\n\r\nשליפת תוצאות שאילתה\r\n----------------------\r\n\r\nלאחר שהמתודה [()CDbCommand::query] יוצרת את האובייקט של [CDbDataReader], ניתן לקבל את השורות מהמידע שהוחזר על ידי קריאה ל [()CDbDataReader::read] שוב ושוב. ניתן גם להשתמש ב [CDbDataReader] בתוך לולאה `foreach` של PHP בכדי לקבל שורה אחרי שורה.\r\n\r\n~~~\r\n[php]\r\n$dataReader=$command->query();\r\n// קריאה ל read שוב ושוב עד שהוא מחזיר false\r\nwhile(($row=$dataReader->read())!==false) { ... }\r\n// שימוש בלולאה על כל התוצאות\r\nforeach($dataReader as $row) { ... }\r\n// קבלת כל התוצאות במכה אחת כמערך\r\n$rows=$dataReader->readAll();\r\n~~~\r\n\r\n> Note|הערה: בניגוד ל [()query|CDbCommand::query], כל המתודות של `queryXXX` מחזירות מידע בצורה ישירה. לדוגמא, [()queryRow|CDbCommand::queryRow] מחזירה מערך המייצג את השורה הראשונה של תוצאת השאילתה.\r\n\r\nשימוש בטרנזקציות\r\n------------------\r\n\r\nכשאפליקציה מריצה כמה שאילתות, כל אחת קוראת ו/או כותבת מידע למסד הנתונים, חשוב לדעת ולהיות בטוחים שהמסד נתונים מבצע ומריץ את כל השאילתות ולא מפספס אף אחת. טרנזקציה, המיוצגת כאובייקט של [CDbTransaction] ב Yii , ניתנת לשימוש במקרה כזה:\r\n\r\n- התחלת הטרנזקציה.\r\n- הרצת השאילתות אחת אחרי השנייה. כל העדכונים למסד לא מוצגים לעולם החיצון.\r\n- ביצוע הטרנזקציה. כעת ניתן לראות את העדכונים במידה והטרנזקציה הסתיימה בהצלחה.\r\n- במידה ואחת מהשאילתות נכשלת בזמן הרצה, כל הטרנזקציה חוזרת אחורה.\r\n\r\nרצף העבודה המוצג למעלה ניתן ליישום בעזרת הקוד הבא:\r\n\r\n~~~\r\n[php]\r\n$transaction=$connection->beginTransaction();\r\ntry\r\n{\r\n    $connection->createCommand($sql1)->execute();\r\n    $connection->createCommand($sql2)->execute();\r\n    //.... other SQL executions\r\n    $transaction->commit();\r\n}\r\ncatch(Exception $e) // תתבצע שגיאה במידה וישנה בעיה\r\n{\r\n    $transaction->rollBack();\r\n}\r\n~~~\r\n\r\nתיחום פרמטרים\r\n------------------\r\n\r\nבכדי להמנע מהתקפות בעזרת [הזרקות SQL](http://en.wikipedia.org/wiki/SQL_injection) ובכדי לשפר את הביצועים של שאילתות SQL החוזרות על עצמם, ניתן ''להכין'' שאילתת SQL עם מקומות שמורים לפרמטרים אשר יתחלפו עם הפרמטרים המקוריים בזמן תהליך תיחום הפרמטרים.\r\n\r\nהמקומות השמורים לפרמטרים יכולים להיות מוגדרים עם שם יחודי (מאופיינים כמילות מפתח יחודיות) או ללא שם (מאופיינים בעזרת סימני שאלה). יש לקרוא ל [()CDbCommand::bindParam] או [()CDbCommand::bindValue] בכדי להחליף את הפרמטר עם הערך שהוגדר לו. אין צורך לעטוף את הפרמטרים בעזרת מרכאות: מסד הנתונים בו אתה משתמש יעשה זאת אוטומטית. יש לתחום את הפרמטרים לפני קריאה למתודה המבצעת את השאילתה.\r\n\r\n~~~\r\n[php]\r\n// שאילתת SQL עם שני מפתחות יחודיים לפרמטרים :username או :email\r\n$sql="INSERT INTO tbl_user (username, email) VALUES(:username,:email)";\r\n$command=$connection->createCommand($sql);\r\n// החלף את המפתח :username עם ערך שהוגדר לו\r\n$command->bindParam(":username",$username,PDO::PARAM_STR);\r\n// החלף את המפתח :email עם הערך שהוגדר לו\r\n$command->bindParam(":email",$email,PDO::PARAM_STR);\r\n$command->execute();\r\n// הוסף שורה חדשה עם סט חדש של ערכים\r\n$command->bindParam(":username",$username2,PDO::PARAM_STR);\r\n$command->bindParam(":email",$email2,PDO::PARAM_STR);\r\n$command->execute();\r\n~~~\r\n\r\nהמתודות [()bindParam|CDbCommand::bindParam] ו [()bindValue|CDbCommand::bindValue] הם דומות מאוד. ההבדל היחידי היא שהראשון תוחם פרמטר בעזרת משתנה ב PHP והשני תוחם פרמטר בעזרת ערך. עבור פרמטרים המייצגים בלוקים גדולים של מידע, הראשון הוא עדיף מבחינת ביצועים.\r\n\r\nלמידע נוסף אודות תיחום פרמטרים, יש לקרוא [בדוקומנטציה של PHP](http://www.php.net/manual/en/pdostatement.bindparam.php).\r\n\r\nתיחום עמודות\r\n---------------\r\n\r\nבזמן שליפת תוצאות השאילתה, ניתן לתחום עמודות בעזרת משתנים ב PHP כדי שהם יאוכלסו אוטומטית עם הנתונים האחרונים בכל פעם ששורה חדשה נשלפה ממסד הנתונים בעזרת השאילתה, וניתן יהיה לגשת אליהם.\r\n\r\n~~~\r\n[php]\r\n$sql="SELECT username, email FROM tbl_user";\r\n$dataReader=$connection->createCommand($sql)->query();\r\n// תיחום העמודה הראשונה (username) עם המשתנה $username\r\n$dataReader->bindColumn(1,$username);\r\n// תיחום העמודה השנייה (email) עם המשתנה $email\r\n$dataReader->bindColumn(2,$email);\r\nwhile($dataReader->read()!==false)\r\n{\r\n    // כעת ניתן להשתמש ב $username ו $email אשר מכילים את המידע מהשורה האחרונה שהגיע ממסד הנתונים.\r\n}\r\n~~~\r\n\r\nשימוש בקידומת לטבלאות\r\n------------------\r\n\r\nהחל מגרסא 1.1.0, Yii מאפשרת תמיכה מובנית לשימוש בקידומת לטבלאות במסד הנתונים. משמעות הקידומת הינה סטרינג אשר מחובר לתחילת שמות הטבלאות במסד בו כרגע משתמשים. בדרך כלל משתמשים באפשרות זו בשרתים שיתופיים אשר מריצים כמה אפליקציות על אותו המסד ומשתמשים בקידומת שונה לטבלאות לכל אפליקציה כדי להבדיל ביניהם. לדוגמא, אפליקציה אחת יכולה להשתמש בקידומת `_tbl` בזמן שאפליקציה נוספת תשתמש בקידומת `_yii`.\r\n\r\nבכדי להשתמש בקידומת לטבלאות, יש להגדיר את המאפיין [CDbConnection::tablePrefix] עם הקידומת הרצויה לשימוש. לאחר מכן, בשאילתות ה SQL יש להשתמש ב `{{שם הטבלה}}` בכדי להתייחס לשמות הטבלאות, כש `שם הטבלה` מתייחס לשם הטבלה במסד ללא הקידומת. לדוגמא, אם המסד נתונים מכיל טבלה בשם `tbl_user` כש `_tbl` מוגדר כקידומת לטבלאות, אז נוכל להשתמש בקוד הבא בכדי לשלוף נתונים מהטבלה הזו:\r\n\r\n~~~\r\n[php]\r\n$sql=''SELECT * FROM {{user}}'';\r\n$users=$connection->createCommand($sql)->queryAll();\r\n~~~\r\n\r\n<div class="revision">$Id: database.dao.txt 1764 2010-02-01 00:09:12Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(21, 'database.overview', 'database.overview', '', '﻿עבודה עם מסד נתונים\r\n=====================\r\n\r\nYii מספקת תמיכה נרחבת לתכנות ועבודה מול מסדי נתונים. Yii Data Access Objects (DAO) הבנויה על גבי התוסף של PHP הנקרא PHP Data Objects (PDO), מאפשרת גישה לסוגי מסדי נתונים שונים (DBMS) בממשק אחיד ונוח. אפליקציות המפותחות בעזרת ה DAO של Yii יכולות לעבוד בקלות עם DMBS אחרת ללא צורך בעריכת הקוד אשר ניגש למידע. Active Record (AR) אשר קיים ב Yii, מיושם באמצעות השיטה הנפוצה של Object-Relational Mapping (ORM), אשר מפשטת אף יותר את התכנות בעזרת מסד נתונים. ייצוג טבלה כמחלקה ושורה בטבלה כאובייקט, Yii AR מסירה את המשימה החוזרת על עצמה של כתיבת שאילתות SQL אשר ברוב המקרים מבצעות את אותו הדבר שהם פעלות CRUD (create, read, update, delete - יצירה, קריאה, עדכון ומחיקה) למיניהם.\r\n\r\nלמרות שמחלקות ה DAO ו AR במערכת ה Yii מטפלות בכמעט כל הנושאים הקשורים למסדי נתונים, תוכל עדיין להשתמש בספריה שלך המנהלת את מסד הנתונים באפליקציה. למעשה, Yii בנויה בצורה שתוכל לעבוד במקביל עם ספריות צד-שלישי נוספות.\r\n\r\n<div class="revision">$Id: database.overview.txt 163 2008-11-05 12:51:48Z weizhuo $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(22, 'extension.create', 'extension.create', '', '﻿יצירת הרחבות\r\n===================\r\n\r\nמאחר והרחבות נועדו לשימוש על ידי מפתחים אחרים, יצירה שלהם דורשת מאמץ נוסף. להלן כמה הנחיות כלליות:\r\n\r\n* הרחבה צריכה להיות נפרדת. כלומר, התלות החיצונית שלה צריכה להיות מינימלית. זה יהיה כאב ראש למשתמשים אם הרחבה תדרוש התקנה של חבילות נוספות, מחלקות או קבצים.\r\n* קבצים הקשורים להרחבה צריכים להיות מסודרים תחת אותה תיקיה ששמה הוא שם ההרחבה.\r\n* שמות המחלקות בהרחבה צריכות להיות מוגדרת עם קידומת כלשהי בכדי להבדיל אותם ממחלקות של הרחבות נוספות.\r\n* הרחבה צריכה להגיע ולהכיל מידע אודות ההתקנה ושימוש בהרחבה (דוקומנטציה). זה יחסוך זמן ומאמץ של מפתחים אחרים שצריכים להשתמש בהרחבה.\r\n* הרחבה צריכה לכלול רישיון מתאים. במידה והינך רוצה שיהיה ניתן להשתמש בהרחבה בפרוייקטים פתוחים וסגורים, יש לשקול שימוש ברישיון מסוג BSD, MIT וכדומה, לא GPL מאחר והוא דורש שהקוד שמריץ אותו יהיה פתוח גם כן.\r\n\r\nבחלק זה, אנו מסבירים כיצד ניתן ליצור הרחבות חדשות, לפי הקטגוריות המתוארות [סקירה](/doc/guide/extension.overview).\r\nתיאורים אלו תקפים גם לרכיבים שהינך יוצר לפרוייקטים שלך בלבד.\r\n\r\nרכיב אפליקציה\r\n---------------------\r\n\r\n[רכיב אפליקציה](/doc/guide/basics.application#application-component) צריך ליישם את הממשק [IApplicationComponent] או להיות תת-מחלקה (לירוש) של [CApplicationComponent]. המתודה העיקרית שצריך ליישם הינה [IApplicationComponent::init] שבה הרכיב מבצע עבודות אתחול. מתודה זו רצה לאחר היצור של הרכיב והמאפיינים ההתחלתיים (המוגדרים [בהגדרות האפליקציה](/doc/guide/basics.application#application-configuration)) מצורפים.\r\n\r\nכברירת מחדל, רכיב אפליקציה נוצר ומאותחל רק ברגע שניגשים אליו בפעם הראשונה בזמן ניהול הבקשה. במידה ויש ליצור רכיב אפליקציה לאחר יצירת האובייקט של האפליקציה, מומלץ לדרוש מהמשתמש להגדיר את המזהה היחודי שלו במאפיין [CApplication::preload].\r\n\r\nהתנהגות\r\n--------\r\n\r\nבכדי ליצור התנהגות, יש ליישם את הממשק [IBehavior]. לנוחות, Yii מספקת מחלקת בסיס [CBehavior] אשר כבר מיישמת את הממשק הנחוץ ומספקת כמה מתודות שימושיות נוספות. תת-מחלקות צריכות ליישם את המתודות הנוספות שעומדות להיות זמינות לרכיבים אליהם הם יצורפו.\r\n\r\nכשמפתחים התנהגות עבור [CModel] ו [CActiveRecord], ניתן להרחיב מהמחלקות [CModelBehavior] ו [CActiveRecordBehavior], בהתאמה. מחלקות בסיס אלו מציעות אפשרויות נוספות שמיועדות ספציפית ל [CModel] ו [CActiveRecord]. לדוגמא, המחלקה [CActiveRecordBehavior] מיישמת סט של מתודות המגיבות לאירועים אשר מתבצעים במחלקת ActiveRecord.\r\n\r\nהקוד הבא מציג דוגמא להתנהגות של ActiveRecord. כשההתנהגות מצורפת לאובייקט של  AR וכשהאובייקט AR נשמר על ידי קריאה למתודה `save()`, הוא אוטומטית יגדיר את המאפיינים `create_time` ו `update_time` עם הזמן הנוכחי בשרת.\r\n\r\n~~~\r\n[php]\r\nclass TimestampBehavior extends CActiveRecordBehavior\r\n{\r\n    public function beforeSave($event)\r\n    {\r\n        if($this->owner->isNewRecord)\r\n            $this->owner->create_time=time();\r\n        else\r\n            $this->owner->update_time=time();\r\n    }\r\n}\r\n~~~\r\n\r\n\r\nוידג''ט\r\n------\r\n\r\n[וידג''ט](/doc/guide/basics.view#widget) צריך להיות תת מחלקה של [CWidget] או מחלקות היורשות ממנה.\r\n\r\nהדרך הקלה ביותר ליצור וידג''ט היא על ידי הרחבת וידג''ט קיים, דריסה של מתודות הנמצאות בו והגדרת המאפיינים הראשיים שלו. לדוגמא, במידה והינך רוצה לעבוד עם סגנון CSS שונה עבור [CTabView], ניתן להגדיר את המאפיין שלו [CTabView::cssFile] בזמן השימוש בוידג''ט. כמו כן ניתן להרחיב את המחלקה שלו [CTabView] בצורה הבאה בכדי שלא תצטרך להגדיר מאפיין זה בכל פעם שהינך משתמש בוידג''ט.\r\n\r\n~~~\r\n[php]\r\nclass MyTabView extends CTabView\r\n{\r\n    public function init()\r\n    {\r\n        if($this->cssFile===null)\r\n        {\r\n            $file=dirname(__FILE__).DIRECTORY_SEPARATOR.''tabview.css'';\r\n            $this->cssFile=Yii::app()->getAssetManager()->publish($file);\r\n        }\r\n        parent::init();\r\n    }\r\n}\r\n~~~\r\n\r\nבקוד למעלה, אנו דורסים את המתודה [CWidget::init] ומציבים למאפיין [CTabView::cssFile] את סגנון CSS ברירת המחדל במידה והוא לא הוגדר ספציפית. אנו מוסיפים את קובץ הסגנון תחת התיקיה הנוכחית בה נמצאת המחלקה `MyTabView` בכדי שיהיה ניתן לאחד אותם כהרחבה. מאחר וקובץ הסגנון הוא לא נגיש לווב יהיה צורך בלפרסם אותו בקובץ נכס.\r\n\r\nבכדי ליצור וידג''ט חדש מהתחלה, אנו בעיקר צריכים ליישם שני מתודות: [CWidget::init] ו [CWidget::run]. הראשונה רצה כשאנו משתמשים ב `this->beginWidget$` בכדי להוסיף את הוידג''ט לתצוגה, והשני רץ ברגע שאנו קוראים ל `this->endWidget$`.\r\nבמידה ואנו רוצים לתפוס את התוכן הנמצא בין שני המתודות הללו, אנו יכולים להתחיל [בפקודת תפסית תצוגה](http://us3.php.net/manual/en/book.outcontrol.php) במתודה [CWidget::init] ולקבל את התוכן שנתפס על ידי [CWidget::run] להמשך העיבוד.\r\n\r\nבדרך כלל וידג''ט דורש הוספה של קבצי CSS, JS וקבצים נוספים בעמוד אשר הוידג''ט משתמש בהם. אנו קוראים לקבצים אלו *נכסים* מאחר והם נשארים ביחד עם המחלקה של הוידג''ט ובדרך כלל לא ניתן לגשת אליהם דרך ממשק הווב. בכדי לאפשר גישה לקבצים אלו דרך הווב, אנו צריכים לפרסם אותם לתיקיה בה יש גישה לווב בעזרת [CWebApplication::assetManager], כפי שמוצג בקוד למעלה. חוץ מזה, שבמידה ואנו רוצים לפרסם קובץ CSS או JS אנו צריכים לרשום אותו על ידי שימוש במחלקה [CClientScript].\r\n\r\n~~~\r\n[php]\r\nclass MyWidget extends CWidget\r\n{\r\n    protected function registerClientScript()\r\n    {\r\n        // ..פרסום קבצי CSS ו JS כאן...\r\n        $cs=Yii::app()->clientScript;\r\n        $cs->registerCssFile($cssFile);\r\n        $cs->registerScriptFile($jsFile);\r\n    }\r\n}\r\n~~~\r\n\r\nוידג''ט יכול להכיל קבצי תצוגה משלו. במקרה זה, יש ליצור תיקיה בשם `views` תחת התיקיה המכילה את קובץ המחלקה של הוידג''ט, ויש לשמור את כל קבצי התצוגה של הוידג''ט בתיקיה זו. במחלקה של וידג''ט, בכדי לטעון קובץ תצוגה של הוידג''ט, יש להשתמש ב `$this->render(''viewName'')`, בדומה למה שעושים בקונטרולר.\r\n\r\nפעולה\r\n------\r\n\r\nמחלקת [פעולה](/doc/guide/basics.controller#action) צריכה להיות תת-מחלקה של [CAction] או מחלקות היורשות ממנה. המתודה העיקרית שצריך ליישם לפעולה הינה [IAction::run].\r\n\r\nפילטר\r\n------\r\n\r\n[פילטר](/doc/guide/basics.controller#filter) צריך להיות תת מחלקה של [CFilter] או מחלקות היורשות ממנה. המתודות העיקריות שצריך ליישם לפילטר הם [CFilter::preFilter] ו [CFilter::postFilter]. הראשון רץ לפני שהפעולה בקונטרולר מתבצעת בזמן שהשני לאחר הפעולה.\r\n\r\n~~~\r\n[php]\r\nclass MyFilter extends CFilter\r\n{\r\n    protected function preFilter($filterChain)\r\n    {\r\n        // לוגיקה שרצה לפני שהפעולה בקונטרולר רצה\r\n        return true; // יש להחזיר false במידה ורוצים לבטל את הרצת הפעולה\r\n    }\r\n\r\n    protected function postFilter($filterChain)\r\n    {\r\n        // לוגיקה שרצה לאחר הרצת הפעולה בקונטרולר\r\n    }\r\n}\r\n~~~\r\n\r\nהפרמטר `filterChain$` הוא אובייקט של [CFilterChain] המכיל מידע אודות הפעולה בקונטרולר שכרגע עוברת בתוך הפילטר.\r\n\r\nקונטרולר\r\n----------\r\n\r\n[קונטרולר](/doc/guide/basics.controller) המופץ בתור הרחבה המחלקה שלו צריכה להיות תת של [CExtController], במקום [CController]. הסיבה העיקרית הינה ש [CController] מניח שקבצי התצוגה של הקונטרולר נמצאים תחת `application.views.controllerID`, בזמן ש [CExtController] מניח שקבצי התצוגה של הקונטרולר נמצאים תחת התיקיה `views` שהינה תת תיקיה של התיקיה בה נמצא קובץ המחלקה של הקונטרולר. לכן, קל יותר להפיץ את הקונטרולר מאחר וקבצי התצוגה שלו נשארים ביחד עם קובץ המחלקה של הקונטרולר.\r\n\r\nולידטור (אימות נתונים)\r\n---------\r\n\r\nולידטור צריך להיות תת-מחלקה של [CValidator] וליישם את המתודה [CValidator::validateAttribute].\r\n\r\n~~~\r\n[php]\r\nclass MyValidator extends CValidator\r\n{\r\n    protected function validateAttribute($model,$attribute)\r\n    {\r\n        $value=$model->$attribute;\r\n        if($value has error)\r\n            $model->addError($attribute,$errorMessage);\r\n    }\r\n}\r\n~~~\r\n\r\nמסוף פקודות\r\n---------------\r\n\r\n[פקודת מסוף](/doc/guide/topics.console) צריכה לירוש מהמחלקה [CConsoleCommand] וליישם את המתודה [CConsoleCommand::run]. בנוסף, ניתן לדרוס את המתודה [CConsoleCommand::getHelp] בכדי לספק מידע אודות השימוש בפקודה.\r\n\r\n~~~\r\n[php]\r\nclass MyCommand extends CConsoleCommand\r\n{\r\n    public function run($args)\r\n    {\r\n        // הפרמטר היחידה בפונקציה זו מחזיר מערך עם המידע שהוזן לפקודה\r\n    }\r\n\r\n    public function getHelp()\r\n    {\r\n        return ''הסבר כיצד להריץ פקודה זו'';\r\n    }\r\n}\r\n~~~\r\n\r\nמודול\r\n------\r\n\r\nאנא קרא את החלק אודות מודולים המסביר כיצד לייצר מודול.\r\n\r\nהנחייה כללית לפיתוח מודול הינה שהמודול צריך להיות חלק בפני עצמו. קבצי משאבים (כמו קבצי JS, CSS ותמונות) אשר המודול משתמש בהם צריכים להגיע ביחד עם המודול. והמודול צריך לפרסם אותם כדי שיהיה ניתן לגשת אליהם דרך הווב (עמוד האינטרנט).\r\n\r\nרכיב כללי\r\n-----------------\r\n\r\nפיתוח הרחבה שהינה רכיב כללי זה כמו לכתוב מחלקה. שוב, הרכיב צריך לעמוד בפני עצמו בכדי שמפתחים אחרים יוכלו להשתמש בו.\r\n\r\n<div class="revision">$Id: extension.create.txt 1423 2009-09-28 01:54:38Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(23, 'extension.integration', 'extension.integration', '', '﻿שימוש בספריות צד שלישי\r\n=========================\r\n\r\nYii בנויה בצורה כזו שניתן להשתמש בספריות צד שלישי בקלות בכדי להרחיב את הפונקציונליות של Yii אף יותר. כשמשתמשים בספריות צד שלישי בפרוייקט, מפתחים בדרך כלל נתקלים בבעיות של שמות מחלקות והוספת קבצים.\r\nמאחר וכל מחלקות הבסיס של Yii מתחילות באות ''C'' , הסיכוי שתווצר בעיה עקב שמות מחלקות זהות הוא קטן; ומאחר ו Yii מסתמך על [טעינה אוטומטית בעזרת SPL](http://us3.php.net/manual/en/function.spl-autoload.php) בכדי לבצע את ההוספות של קבצי המחלקות, היא יכולה לשתף פעולה בצורה טובה עם ספריות נוספת אם הם משתמשים באפשרות PHP של טעינה אוטומטית או משתמשים בנתיב הוספת קבצים של PHP בכדי להוסיף קבצי מחלקות.\r\n\r\nלמטה אנו מציגים דוגמא כיצד להשתמש ברכיב [Zend_Search_Lucene](http://www.zendframework.com/manual/en/zend.search.lucene.html) מהפריימוורק [Zend](http://www.zendframework.com) בתוך אפליקצית Yii.\r\n\r\nקודם, אנו מחלצים את כל המחלקות של Zend לתיקיה תחת התיקיה `Protected/vendors`, בהנחה ש `protected` הינה [התיקיה הראשית של האפליקציה](/doc/guide/basics.application#application-base-directory).\r\nיש לוודא שהקובץ `protected/vendors/Zend/Search/Lucene.php` קיים.\r\n\r\nשנית, בתחילת קובץ מחלקת קונטרולר, יש להכניס את השורות הבאות:\r\n\r\n~~~\r\n[php]\r\nYii::import(''application.vendors.*'');\r\nrequire_once(''Zend/Search/Lucene.php'');\r\n~~~\r\n\r\nהקוד למעלה מצרף את קובץ המחלקה `Lucene.php`. מאחר ואנו משתמשים בנתיב רלטיבי, אנו צריכים לשנות את תיקית הקבצים הראשית של PHP בכדי שניתן יהיה לטעון את הקובץ בצורה נכונה. זה נעשה על ידי קריאה ל `Yii::import` לפני הקריאה ל `require_once`.\r\n\r\nלאחר שההתקנה למעלה מוכנה, אנו יכולים להשתמש במחלקה `Lucene` בתוך פעולה בקונטרולר, כמו בדוגמא הבאה:\r\n\r\n~~~\r\n[php]\r\n$lucene=new Zend_Search_Lucene($pathOfIndex);\r\n$hits=$lucene->find(strtolower($keyword));\r\n~~~\r\n\r\n\r\n<div class="revision">$Id: extension.integration.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(24, 'extension.overview', 'extension.overview', '', '﻿סקירה\r\n========\r\n\r\nהרחבת Yii היא פעילות נפוצה בזמן הפיתוח. לדוגמא, בזמן כתיבת קונטרולר חדש, הינך מרחיב את Yii על ידי הורשה של מחלקת [CController]; בזמן כתיבת וידג''ט חדש, הינך יורש מהמחלקה [CWidget] או מחלקה של וידג''ט קיים. אם הקוד שהורחב נועד לשימוש חוזר על ידי מפתחי צד-שלישי, אנו קוראים לו *הרחבה*.\r\n\r\nהרחבה בדרך כלל משמשת למטרה אחת. במונחים של Yii, ניתן לסווג אותה בתור,\r\n\r\n * [רכיב באפליקציה](/doc/guide/basics.application#application-component)\r\n * [התנהלות/התנהגות](/doc/guide/basics.component#component-behavior)\r\n * [וידג''ט](/doc/guide/basics.view#widget)\r\n * [קונטרולר](/doc/guide/basics.controller)\r\n * [פעולה](/doc/guide/basics.controller#action)\r\n * [פילטר](/doc/guide/basics.controller#filter)\r\n * [מסוף פקודות](/doc/guide/topics.console)\r\n * ולידטור: ולידטור הינו רכיב היורש מהמחלקה [CValidator] הנועד למטרת אימות נתונים.\r\n * מסייע: מסייע הינו מחלקה עם מתודות סטטיות בלבד. בדומה לפונקציות גלובליות אשר משתמשים בשם המחלקה כמרחב השם לגישה למתודות בשתוכו.\r\n\r\n * [מודול](/doc/guide/basics.module): מודול הינו תת-אפליקציה הבנוי מ: [מודלים](/doc/guide/basics.model), [תצוגה](/doc/guide/basics.view), [קונטרולרים](/doc/guide/basics.controller) ורכיבים נתמכים נוספים. במובנים רבים, מודול מחקה את התכנון של [אפליקציה](/doc/guide/basics.application). ההבדל היחידי הוא שמודול נמצא בתוך אפליקציה. לדוגמא, יש לנו מודול שמטפל בכל הנושא של ניהול משתמשים.\r\n\r\n\r\nהרחבה יכולה להיות גם רכיב שלא נופל באף אחת מהקטגוריות למעלה. למעשה, Yii בנויה בצורה כזו ככה שכמעט כל חתיכת קוד ניתנת להרחבה והתאמה אישית בכדי להתאים אותה לצרכים אישיים.\r\n\r\n<div class="revision">$Id: extension.overview.txt 1398 2009-09-06 01:15:01Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(25, 'extension.use', 'extension.use', '', '﻿שימוש בהרחבות\r\n================\r\n\r\nשימוש בהרחבה בדרך כלל כולל את שלושת השלבים הבאים:\r\n\r\n1. הורדת ההרחבה [מספרית ההרחבות](http://www.yiiframework.com/extensions/) של Yii.\r\n2. חילוץ קבצי ההרחבה תחת התיקיה `extensions/xyz` הנמצאת בתיקיה [ראשית](/doc/guide/basics.application#application-base-directory) של האפליקציה, כש `xyz`הינו שם ההרחבה.\r\n3. ייבוא, הגדרה ושימוש בהרחבה.\r\n\r\nלכל הרחבה יש שם המייחד אותה משאר ההרחבות. בהתחשב שיש לנו הרחבה בשם `xyz`, אנו תמיד יכולים להשתמש בנתיב המקוצר `ext.xyz` בכדי לאתר את התיקיה הראשית שלה המכילה את כל הקבצים של `xyz`.\r\n\r\n> Note|הערה: הנתיב המקוצר `ext` קיים מגרסא 1.0.8. קודם לכן, היה צורך להשתמש ב `application.extensions` בכדי להתייחס לתיקיה המכילה את כל ההרחבות. בתיאור הבא, אנו מניחים ש `ext` מוגדר. יהיה צורך בלהחליף אותו עם `application.extensions` במידה והינך משתמש בגרסא 1.0.7 ומטה.\r\n\r\nהרחבות שונות כוללות דרישות שונות בנוגע לייבוא שלהם, הגדרות ושימוש. בחלק הבא, אנו מסכמים מקרים נפוצים של שימוש בהרחבות, לפי הקטגוריות שלהם המתוארות [סקירה](/doc/guide/extension.overview).\r\n\r\n\r\nהרחבות Zii\r\n--------------\r\n\r\nלפני שנתחיל להסביר בנוגע לשימוש הרחבות צד-שלישי, אנו נרצה קודם להציג את ספרית ה Zii, שמפותחת על ידי צוות הפיתוח של Yii וכלולה בכל הגרסאות של Yii החל מגרסא 1.1.0. ספרית ה Zii מאוחסנת כפרוייקט גוגל בשם [zii](http://code.google.com/p/zii/).\r\n\r\nבעת שימוש בהרחבה מספרית Zii, יש צורך להתייחס למחקה על ידי שימוש בנתיב מקוצר בפורמטר של `zii.path.to.ClassName`. במקרה הזה, הנתיב הראשי `zii` כבר הוגדר מראש על ידי Yii. נתיב זה מתייחס לתיקיה הראשית של ספריית ה Zii. לדוגמא, כדי להשתמש ב [CGridView], אנו נשתמש בקוד הבא בתוך קובץ תצוגה כשאנו מתייחסים להרחבה:\r\n\r\n~~~\r\n[php]\r\n$this->widget(''zii.widgets.grid.CGridView'', array(\r\n    ''dataProvider''=>$dataProvider,\r\n));\r\n~~~\r\n\r\n\r\nרכיב באפליקציה\r\n---------------------\r\n\r\nבכדי להשתמש [ברכיב אפליקציה](/doc/guide/basics.application#application-component), אנו קודם צריכים לשנות את [הגדרות האפליקציה](/doc/guide/basics.application#application-configuration) על ידי הוספת רשומה (אלמנט) חדשה למאפיין של `components`, כפי שמוצג בדוגמא הבאה:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    // ''preload''=>array(''xyz'',...),\r\n    ''components''=>array(\r\n        ''xyz''=>array(\r\n            ''class''=>''ext.xyz.XyzClass'',\r\n            ''property1''=>''value1'',\r\n            ''property2''=>''value2'',\r\n        ),\r\n        // הגדרות רכיבים נוספים\r\n    ),\r\n);\r\n~~~\r\n\r\nלאחר מכן, אנו יכולים לגשת לרכיב בכל מקום על ידי `Yii::app()->xyz`. הרכיב יווצר בצורה עצלה (זאת אומרת יווצר כשהוא נקרא בפעם הראשונה), אלה אם כן אנו נרשום את שמו במאפיין של `preload` בהגדרות האפליקציה.\r\n\r\nהתנהלות/התנהגות\r\n--------\r\n\r\n[התנהלות/התנהגות](/doc/guide/basics.component#component-behavior) ניתנת לשימוש בכל מיני רכיבים. השימוש בהם כרוך בשני שלבים. בשלב הראשון, ההתנהלות מצורפת לרכיב כלשהו. בשלב השני, מתודת התנהלות נקראת על ידי הרכיב אליו היא צורפה. לדוגמא:\r\n\r\n~~~\r\n[php]\r\n// הפרמטר הראשון הוא יחודי ומשמש לצורך זיהוי ההתנהלות\r\n$component->attachBehavior($name,$behavior);\r\n// המתודה test נמצאת במחלקה של $behavior\r\n$component->test();\r\n~~~\r\n\r\nבדרך כלל, התנהלות מצורפת לרכיב דרך הגדרות ולא על ידי קריאה למתודה `attachBehavior`. לדוגמא, בכדי לצרף התנהלות [רכיב](/doc/guide/basics.application#application-component) באפליקציה, אנו נשתמש [בהגדרות](/doc/guide/basics.application#application-configuration) האפליקציה הבאות:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''db''=>array(\r\n            ''class''=>''CDbConnection'',\r\n            ''behaviors''=>array(\r\n                ''xyz''=>array(\r\n                    ''class''=>''ext.xyz.XyzBehavior'',\r\n                    ''property1''=>''value1'',\r\n                    ''property2''=>''value2'',\r\n                ),\r\n            ),\r\n        ),\r\n        //....\r\n    ),\r\n);\r\n~~~\r\n\r\nהקוד למעלה, מצרף את ההתנהלות `xyz` לרכיב האפליקציה `db`. אנו עושים זאת מאחר והמחלקה [CApplicationComponent] מגדירה מאפיין בשם `behaviors`. על ידי הגדרת מאפיין זה עם רשימה של הגדרות התנהלות, הרכיב יצרף את ההתנהלויות הללו בזמן האתחול שלו.\r\n\r\nעבור המחלקות [CController], [CFormModel] ו [CActiveRecord] שבדרך כלל דורשות הרחבה, צירוף התנהלויות נעשית על ידי דריסה של המתודה `()behaviors`. המחלקה תצרף אוטומטית את ההתנהלויות המוגדרות במתודה זו בזמן אתחול. לדוגמא,\r\n\r\n~~~\r\n[php]\r\npublic function behaviors()\r\n{\r\n    return array(\r\n        ''xyz''=>array(\r\n            ''class''=>''ext.xyz.XyzBehavior'',\r\n            ''property1''=>''value1'',\r\n            ''property2''=>''value2'',\r\n        ),\r\n    );\r\n}\r\n~~~\r\n\r\n\r\nוידג''ט\r\n------\r\n\r\nשימוש [בוידג''טים](/doc/guide/basics.view#widget) בדרך כלל נעשה בקבצי [תצוגה](/doc/guide/basics.view). נניח ומחלקת הוידג''ט `XyzClass` שייכת להרחבה `xyz`, אנו יכולים להשתמש בו בתוך קובץ תצוגה בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\n// וידג''ט שאינו דורש תוכן\r\n<?php $this->widget(''ext.xyz.XyzClass'', array(\r\n    ''property1''=>''value1'',\r\n    ''property2''=>''value2'')); ?>\r\n\r\n// וידג''ט שדורש תוכן\r\n<?php $this->beginWidget(''ext.xyz.XyzClass'', array(\r\n    ''property1''=>''value1'',\r\n    ''property2''=>''value2'')); ?>\r\n\r\n...תוכן הוידג''ט....\r\n\r\n<?php $this->endWidget(); ?>\r\n~~~\r\n\r\nפעולה\r\n------\r\n\r\nשימוש [בפעולות](/doc/guide/basics.controller#action) נעשה על ידי [הקונטרולרים](/doc/guide/basics.controller) בכדי לענות על בקשות משתמש ספציפיות. נניח ומחלקת הפעולה `XyzClass` השייכת להרחבה בשם `xyz`, אנו יכולים להשתמש בה על ידי דריסה של המתודה [CController::actions] במחלקה של הקונטרולר:\r\n\r\n~~~\r\n[php]\r\nclass TestController extends CController\r\n{\r\n    public function actions()\r\n    {\r\n        return array(\r\n            ''xyz''=>array(\r\n                ''class''=>''ext.xyz.XyzClass'',\r\n                ''property1''=>''value1'',\r\n                ''property2''=>''value2'',\r\n            ),\r\n            // פעולות נוספות\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nלאחר מכן, ניתן לגשת לפעולה על ידי [הניתוב](/doc/guide/basics.controller#route) `test/xyz`.\r\n\r\nפילטר\r\n------\r\n\r\nשימוש [פילטרים](/doc/guide/basics.controller#filter) נעשה גם כן על ידי [הקונטרולרים](/doc/guide/basics.controller). המטרה העיקרית שלהם היא הרצתם לפני ואחרי [פעולות](/doc/guide/basics.controller#action) מסויימות בכדי לבצע בדיקות או שינויים אחרים. נניח ומחלקת הפילטר בשם `XyzClass` השייכת להרחבה בשם `xzy`, אנו יכולים להשתמש בו על ידי דריסה של המתודה [CController::filters] במחלקת הקונטרולר:\r\n\r\n~~~\r\n[php]\r\nclass TestController extends CController\r\n{\r\n    public function filters()\r\n    {\r\n        return array(\r\n            array(\r\n                ''ext.xyz.XyzClass'',\r\n                ''property1''=>''value1'',\r\n                ''property2''=>''value2'',\r\n            ),\r\n            // פילטרים נוספים\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nבדוגמא למעלה, אנו יכולים להשתמש באופרטורים +, - באלמנט הראשון במערך בכדי לצרף את הפילטר למספר פעולות בלבד. למידע נוסף יש לקרוא את הדוקומנטציה אודות [CController].\r\n\r\nקונטרולר\r\n----------\r\n\r\n[קונטרולר](/doc/guide/basics.controller) מספק סט של פעולות שניתנות לבקשה על ידי המשתמשים. בכדי להשתמש בהרחבה לקונטרולר, אנו צריכים להגדיר את המאפיין [CWebApplication::controllerMap] בקובץ [הגדרות האפליקציה](/doc/guide/basics.application#application-configuration):\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''controllerMap''=>array(\r\n        ''xyz''=>array(\r\n            ''class''=>''ext.xyz.XyzClass'',\r\n            ''property1''=>''value1'',\r\n            ''property2''=>''value2'',\r\n        ),\r\n        // קונטרולרים נוספים\r\n    ),\r\n);\r\n~~~\r\n\r\nלאחר מכן, הפעולה `a` ניתנת לגישה על ידי [ניתוב](/doc/guide/basics.controller#route) `xyz/a`.\r\n\r\nולידטור (אימות נתונים)\r\n---------\r\n\r\nולידטור בדרך כלל משומש בתוך מחלקת [מודל](/doc/guide/basics.model) (אחת שיורשת מהמחלקה [CFormModel] או [CActiveRecord]).\r\nנניח וישנה מחלקת ולידטור בשם `XyzClass` השייכת להרחבה בשם `xyz`, אנו יכולים להשתמש בה על ידי דריסה של המתודה [CModel::rules] במחלקת המודל שלנו:\r\n\r\n~~~\r\n[php]\r\nclass MyModel extends CActiveRecord // or CFormModel\r\n{\r\n    public function rules()\r\n    {\r\n        return array(\r\n            array(\r\n                ''attr1, attr2'',\r\n                ''ext.xyz.XyzClass'',\r\n                ''property1''=>''value1'',\r\n                ''property2''=>''value2'',\r\n            ),\r\n            // חוקי אימות נתונים נוספים\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nמסוף פקודות\r\n---------------\r\n\r\nהרחבות [מסוף הפקודות](/doc/guide/topics.console) בדרך כלל משפרת את הכלי `yiic` בפקודה נוספת. נניח שיש לנו מחלקה לפקודה `XyzClass` השייכת להרחבה `xyz`, אנו יכולים להשתמש בה על ידי הגדרת ההגדרות למסוף הפקודות באפליקציה:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''commandMap''=>array(\r\n        ''xyz''=>array(\r\n            ''class''=>''ext.xyz.XyzClass'',\r\n            ''property1''=>''value1'',\r\n            ''property2''=>''value2'',\r\n        ),\r\n        // פקודות נוספות\r\n    ),\r\n);\r\n~~~\r\n\r\nלאחר מכן, אנו יכולים להשתמש בכלי `yiic` המכיל פקודה חדשה בשם `xyz`.\r\n\r\n> Note|הערה: קובץ הגדרות של מסוף הפקודות הוא שונה מקובץ ההגדרות של אפליקצית ווב. במידה ואפליקציה נוצרה בעזרת פקודת `yiic webapp`, קובץ ההגדרות של מסוף הפקודות `protected/yiic` הינו `protected/config/console.php`, בזמן שקובץ ההגדרות לאפליקצית ווב הינו `protected/config/main.php`.\r\n\r\n\r\nמודול\r\n------\r\n\r\nאנא קרא את החלק אודות [מודולים](/doc/guide/basics.module#using-module) וכיצד לעבוד עמם.\r\n\r\nרכיב כללי\r\n-----------------\r\n\r\nבכדי להשתמש [רכיב](/doc/guide/basics.component) כללי, אנו קודם צריכים להוסיף את קובץ המחלקה שלו על ידי שימוש ב\r\n\r\n~~~\r\nYii::import(''ext.xyz.XyzClass'');\r\n~~~\r\n\r\nלאחר מכן, אנו יכולים ליצור אובייקט של המחלקה, להגדיר את המאפיינים שלו, ולקרוא למתודות אשר נמצאות בו. כמו כן אנו יכולים להרחיב אותו כדי ליצור תת מחלקה חדשה.\r\n\r\n\r\n<div class="revision">$Id: extension.use.txt 1780 2010-02-01 20:32:50Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(26, 'form.action', 'form.action', '', '﻿יצירת פעולה\r\n===============\r\n\r\nלאחר שיש ברשותנו מודל, אנו יכולים להתחיל לכתוב לוגיקה שיכולה לתפעל את המודל. אנו כותבים את הלוגיקה הזו בתוך פעולה בקונטרולר. עבור דוגמאת טופס ההתחברות, הקוד הבא הכרחי:\r\n\r\n~~~\r\n[php]\r\npublic function actionLogin()\r\n{\r\n    $model=new LoginForm;\r\n    if(isset($_POST[''LoginForm'']))\r\n    {\r\n        // אוסף את הקלט של המשתמש\r\n        $model->attributes=$_POST[''LoginForm''];\r\n        // מאמת את הקלט של המשתמש במידה והכל עבר בהצלחה המשתמש יועבר לעמוד הקודם\r\n        if($model->validate())\r\n            $this->redirect(Yii::app()->user->returnUrl);\r\n    }\r\n    // הצג את טופס ההתחברות\r\n    $this->render(''login'',array(''model''=>$model));\r\n}\r\n~~~\r\n\r\nבקוד למעלה, אנו קודם יוצרים אובייקט של המודל `LoginForm`; במידה והבקשה הינה בקשת POST (שבעצם אומר שהטופס נשלח), אנו מאכלסים את `model$` עם הנתונים שהגיעו דרך\r\n\r\n~~~\r\n\r\n$_POST[''LoginForm'']\r\n\r\n~~~\r\n\r\nלאחר מכן אנו מאמתים את הנתונים ובמידה והכל עבר בהצלחה, מעבירים את המשתמש לעמוד הקודם בו הוא היה צריך להתחבר. במידה וההתחברות נכשלת, או המשתמש רואה את הטופס בפעם הראשונה, אנו מציגים לו את קובץ התצוגה `login` שתוכנו יתואר בחלק הבא.\r\n\r\n> Tip|טיפ: בפעולת ה `login`, אנו משתמשים ב `Yii::app()->user->returnUrl` בכדי לקבל את הקישור של העמוד הקודם בו המשתמש היה צריך להתחבר. הרכיב `Yii::app()->user` הוא מסוג [CWebUser] (או מחלקות היורשות ממנו) המייצג מידע אודות המשתמש (לדוגמא שם משתמש, סטטוס). למידע נוסף יש לקרוא אודות [אימות משתמשים וניהול גישות](/doc/guide/topics.auth).\r\n\r\nבו נתייחס לביטוי הבא המופיע בפעולת ה `login` למעלה:\r\n\r\n~~~\r\n[php]\r\n$model->attributes=$_POST[''LoginForm''];\r\n~~~\r\n\r\nכפי שכבר הסברנו [באבטחת הצבת מאפיינים](/doc/guide/form.model#securing-attribute-assignments), שורת קוד זו מאכלסת את המודל עם הקלט שהגיע מהמשתמש. המאפיין `attributes` מוגדר על ידי [CModel] המצפה למערך של מפתחות וערכים, ומגדירה כל אחד מהערכים למאפיין המתאים לו במודל. לכן\r\n\r\n~~~\r\n$_POST[''LoginForm'']\r\n~~~\r\n\r\nמספק לנו מערך זה, הקוד למעלה יכול להיות זהה לקוד הארוך הבא (בהנחה שכל מאפיין נוכח במערך):\r\n\r\n~~~\r\n[php]\r\n$model->username=$_POST[''LoginForm''][''username''];\r\n$model->password=$_POST[''LoginForm''][''password''];\r\n$model->rememberMe=$_POST[''LoginForm''][''rememberMe''];\r\n~~~\r\n\r\n> Note|הערה: בכדי לאפשר ל\r\n\r\n\r\n> ~~~\r\n> $_POST[''LoginForm'']\r\n> ~~~ \r\n\r\n> לספק לנו מערך במקום סטרינג, אנו דבקים במוסכמות של מתן שמות מתאימים למאפיינים של מודל בטופס. במיוחד, עבור שדה טקסט בשם המאופיין בעזרת המאפיין `a` של המחלקה `C`, אנו נקרא לו `C[a]`. לדוגמא, אנו נשתמש ב `LoginForm[username]` בכדי לתת שם לשדה טקסט המקושר למאפיין `username` במודל.\r\n\r\nכל מה שנותר לעשות הוא ליצור את קובץ התצוגה `login` שאמור להכיל טופס HTML עם שדות הקלט הדרושים.\r\n\r\n<div class="revision">$Id: form.action.txt 1837 2010-02-24 22:49:51Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(27, 'form.builder', 'form.builder', '', '﻿שימוש במערכת יצירת הטפסים\r\n==================\r\n\r\nבעת יצירת טפסי HTML, אנו בדרך כלל רואים שאנו כותבים הרבה קוד תצוגה שחוזר על עצמו שקשה להשתמש בו שוב פעם בפרוייקט נוסף. לדוגמא, לכל שדה טקסט, אנו צריכים לשייך אותו עם תוית טקסט ולהציג שגיאות אימות נתונים במידה והם קיימים.\r\nבכדי לשפר את השימוש החוזר בקודים אלו, אנו יכולים להשתמש במערכת יצירת הטפסים הקיימת במערכת ה Yii מגרסא 1.1.0.\r\n\r\nתפיסה בסיסית\r\n--------------\r\n\r\nמערכת יצירת הטפסים משתמשת באובייקט של [CForm] כדי לייצג את המפרט הדרוש לייצוג טופס HTML, הכולל אילו מודלים קשורים לטופס, אילו שדות נתונים נמצאים בטופס, וכיצד להציג את כל הטופס.\r\nמפתחים בעיקר צריכים ליצור ולהגדיר את האובייקט [CForm], לאחר מכן לקרוא למתודת התצוגה שלו בכדי להציג את הטופס.\r\n\r\nמפרט שדות הטופס מסודרים במונחים של אלמנטים של אובייקט הטופס בהיררכיה. בראש ההיררכיה, נמצא האובייקט [CForm]. האובייקט הראשי מתחזק את התתים שבו בשני אוספים שונים: [CForm::buttons] ו [CForm::elements]. הראשון מכיל את האלמנטים המיוצגים ככפתורים (כמו כפתור שליחה, כפתור איפוס), בזמן שהשני מכיל את שדות הזנת הטקסט, טקסט סטטי, ותתי טפסים. תת-טופס הינו אובייקט של [CForm] הנמצא באוסף של האלמנטים ([CForm::elements]) בטופס אחר. הוא יכול להכיל מודל משלו, [CForm::buttons] ו [CForm::elements].\r\n\r\nכשמשתמשים שולחים טופס, הנתונים שהוזנו בכל השדות בכל ההיררכיה של הטופס נשלחים, כולל את השדות הנמצאים בתתי-טפסים. [CForm] מספק מתודות נוחות לשימוש שבעזרתן ניתן לצרף נתונים מסויימים למאפייני המודלים המתאימים ולבצע אימות נתונים על גביהם.\r\n\r\nיצירת טופס פשוט\r\n----------------------\r\n\r\nבדוגמא הבאה, אנו מציגים כיצד להשתמש במערכת יצירת הטפסים כדי ליצור טופס התחברות.\r\n\r\nקודם כל, אנו כותבים את הפעולה של ההתחברות:\r\n\r\n~~~\r\n[php]\r\npublic function actionLogin()\r\n{\r\n    $model = new LoginForm;\r\n    $form = new CForm(''application.views.site.loginForm'', $model);\r\n    if($form->submitted(''login'') && $form->validate())\r\n        $this->redirect(array(''site/index''));\r\n    else\r\n        $this->render(''login'', array(''form''=>$form));\r\n}\r\n~~~\r\n\r\nבקוד למעלה, אנו יוצרים אובייקט של [CForm] תוך כדי שימוש במפרט המצביע לנתיב `application.views.site.loginForm` (הסבר לגבי זה בהמשך).\r\nהאובייקט [CForm] מקושר עם המודל `LoginForm` כפי שתואר [ביצירת מודל](/doc/guide/form.model).\r\n\r\nכפי שמוצג בקוד, במידה והטופס נשלח וכל השדות אומתו ללא שגיאות, אנו נעביר את המשתמש לעמוד `site/index`. אחרת, אנו נציג שוב פעם את קובץ התצוגה `login` ביחד עם הטופס.\r\n\r\nהנתיב `application.views.site.loginForm` מתייחס לקובץ PHP הנמצא תחת התיקיה `protected/views/site/loginForm.php`. הקובץ צריך להחזיר מערך המכיל את הגדרות הנחוצות עבור [CForm], כפי שמוצג בקוד הבא:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''title''=>''Please provide your login credential'',\r\n\r\n    ''elements''=>array(\r\n        ''username''=>array(\r\n            ''type''=>''text'',\r\n            ''maxlength''=>32,\r\n        ),\r\n        ''password''=>array(\r\n            ''type''=>''password'',\r\n            ''maxlength''=>32,\r\n        ),\r\n        ''rememberMe''=>array(\r\n            ''type''=>''checkbox'',\r\n        )\r\n    ),\r\n\r\n    ''buttons''=>array(\r\n        ''login''=>array(\r\n            ''type''=>''submit'',\r\n            ''label''=>''Login'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nההגדרות הינם מערך המכיל מפתחות וערכים המוגדרים למאפיינים של המחלקה [CForm]. המאפיינים החשובים ביותר להגדרה, כפי שכבר הזכרנו, [CForm::elements] ו [CForm::buttons]. כל אחד מהם מקבל מערך המגדיר רשימה של אלמנטים בטופס. אנו נסביר בהרחבה כיצד יש להגדיר אלמנטים של טופס בחלק הבא.\r\n\r\nלבסוף, אנו כותבים את קובץ התצוגה `login`, שיכול להיות פשוט כפי שמוצג בקוד הבא,\r\n\r\n~~~\r\n[php]\r\n<h1>Login</h1>\r\n\r\n<div class="form">\r\n<?php echo $form; ?>\r\n</div>\r\n~~~\r\n\r\n> Tip|טיפ: הקוד למעלה, `;echo $render` הוא זהה לקוד `;()echo $form->render`. וזאת מכיוון שהאובייקט [CForm] מיישם את המתודה `toString__` אשר קוראת למתודה `()render` ומחזירה את התצוגה כסטרינג המייצג את אובייקט הטופס.\r\n\r\n\r\nהגדרת אלמנטים בטופס\r\n------------------------\r\n\r\nבשימוש במערכת יצירת הטפסים, רוב העבודה שלנו משתנה מכתיבת קוד בקבצי התצוגה להגדרת אלמנטים בטופס. בחלק זה, אנו נתאר כיצד להגדיר את האלמנטים מאפיין [CForm::elements]. אנו לא נתאר אודות [CForm::buttons] מאחר והגדרותיו הם כמעט זהות ל [CForm::elements].\r\n\r\nהמאפיין [CForm::elements] מקבל מערך. כל אלמנט במערך מייצג אלמנט אחד בטופס שיכול להיות שדה נתונים, טקסט סטטי, או תת-טופס.\r\n\r\n### הגדרת אלמנטים כשדות נתונים\r\n\r\nאלמנט שדה נתונים בעיקר מכיל תוית, שדה נתונים, שדה עזרה ותצוגת שגיאה.\r\nהוא חייב להיות מקושר למאפיין במודל מסויים. המפרט של אלמנט שדה נתונים מיוצג כאובייקט של [CFormInputElement]. הקוד הבא במערך [CForm::elements] מגדיר אלמנט שדה נתונים אחד:\r\n\r\n~~~\r\n[php]\r\n''username''=>array(\r\n    ''type''=>''text'',\r\n    ''maxlength''=>32,\r\n),\r\n~~~\r\n\r\nקוד זה מציין שהמאפיין של המודל בשם `username`, ושדה הנתונים הוא מסוג `text` ושאורכו - `maxlength`  הוא 32. אנו יכולים לציין אפשרויות נוספות במערך למעלה כל עוד שהם מאפיינים שניתנים לכתיבה במחלקה [CFormInputElement]. לדוגמא, אנו יכולים להגדיר את האפשרות [hint|CFormInputElement::hint] המציגה טקסט עזרה עבור שדה זה, או שניתן להגדיר את האפשרות [items|CFormInputElement::items] במידה והשדה הוא תיבת בחירה, תיבת בחירה מרובה, רשימת כפתורי בחירה, רשימת כפתורי רדיו.\r\n\r\nהאפשרות [type|CFormInputElement::type] דורשת יותר תשומת לב מהשאר. אפשרות זו מגדירה את סוג שדה הנתונים לתצוגה. לדוגמא, הסוג `text` מעיד על כך שיש צורך להציג שדה טקסט רגיל; הסוג `password` אומר שיש צורך להציג שדה סיסמא. [CFormInputElement] מזהה את הסוגים המובנים הבאים:\r\n\r\n\r\n - text: שדה טקסט\r\n - hidden: שדה מוסתר\r\n - password: שדה סיסמא\r\n - textarea: תיבת טקסט\r\n - file: שדה קובץ\r\n - radio: שדה כפתור רדיו\r\n - checkbox: שדה כפתור בחירה\r\n - listbox: שדה בחירה מרובה\r\n - dropdownlist: שדה תיבת בחירה\r\n - checkboxlist: שדה רשימת כפתורי בחירה\r\n - radiolist: שדה רשימת כפתורי רדיו\r\n\r\n\r\nמלבד הסוגים המובנים, האפשרות [type|CFormInputElement::type] יכולה לקבל שם של מחלקת וידג''ט או נתיב מקוצר עד אל הוידג''ט. המחלקה של הוידג''ט צריכה לירוש מהמחלקה [CInputWidget]. בעת התצוגה של האלמנט, אובייקט של הוידג''ט של השדה הנוכחי יווצר ויוצג. הוידג''ט יוגדר בהתבסס על המפרט הקיים באלמנט.\r\n\r\n### הגדרת טקסט סטטי\r\n\r\nבהרבה מקרים, מלבד שדות נתונים טופס מכיל קוד HTML שנועד לעיצוב הטופס. לדוגמא, יהיה צורך בקו אופקי בכדי להפריד בין חלקים בטופס; יש צורך בתמונה במקום מסויים בטופס בכדי לשפר את המראה החיצוני של הטופס. אנו יכולים להגדיר את קוד ה HTML הזה כטקסט סטטי באוסף האלמנטים של [CForm::elements]. בכדי לבצע זאת, אנו מגדירים אלמנט בתוך המאפיין [CForm::elements] בתור טקסט סטטי במיקום בו אנו רוצים להציג אותו בטופס. לדוגמא,\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''elements''=>array(\r\n        ......\r\n        ''password''=>array(\r\n            ''type''=>''password'',\r\n            ''maxlength''=>32,\r\n        ),\r\n\r\n        ''<hr />'',\r\n\r\n        ''rememberMe''=>array(\r\n            ''type''=>''checkbox'',\r\n        )\r\n    ),\r\n    ......\r\n);\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו מוסיפים קו אופקי בין השדה של הסיסמא - `password` לבין השדה של זכור אותי - `rememberMe`.\r\n\r\nהשימוש בטקסט סטטי הוא כשהטקסט המיקום שלו אינם רגילים. אם לכל שדה בטופס יהיה צורך בעיצוב באופן פרטני, יהיה צורך בלשנות את אופן התצוגה של הטופס, הסבר לפעולה זו יופיע בהמשך.\r\n\r\n### הגדרת תתי-טפסים\r\n\r\nתתי-טפסים נועדו בכדי לחלק טופס ארוך לכמה טפסים חלקים הקשורים אחד לשני לוגית. לדוגמא, אנו יכולים לחלק את טופס ההרשמה לשני תת-טפסים: פרטי התחברות ופרטי פרופיל.\r\nכל תת-טופס חייב/לא חייב להיות משוייך למודל. בדוגמא של טופס ההרשמה, אם אנו שומרים את פרטי ההתחברות של המשתמש ואת פרטי הפרופיל של המשתמש בשני טבלאות שונות (ולכן שני מודלים נפרדים), לכן כל תת טופס יהיה משוייך למודל שלו. במידה ואנו שומרים את כל הפרטים באותה הטבלה, לכן לאף אחד מתתי-הטפסים לא יהיה מודל מאחר והם משותפים עם המודל של הטופס הראשי.\r\n\r\nתת-טופס מיוצג כאובייקט של [CForm]. בכדי להגדיר תת-טופס, אנו צריכים להגדיר את המאפיין [CForm::elements] עם אלמנט שסוגו הוא `form`:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''elements''=>array(\r\n        ......\r\n        ''user''=>array(\r\n            ''type''=>''form'',\r\n            ''title''=>''Login Credential'',\r\n            ''elements''=>array(\r\n                ''username''=>array(\r\n                    ''type''=>''text'',\r\n                ),\r\n                ''password''=>array(\r\n                    ''type''=>''password'',\r\n                ),\r\n                ''email''=>array(\r\n                    ''type''=>''text'',\r\n                ),\r\n            ),\r\n        ),\r\n\r\n        ''profile''=>array(\r\n            ''type''=>''form'',\r\n            ......\r\n        ),\r\n        ......\r\n    ),\r\n    ......\r\n);\r\n~~~\r\n\r\nכמו בהגדרת הטופס הראשי, אנו בעיקר צריכים להגדיר את המאפיין [CForm::elements] של תתי-הטפסים.\r\nבמידה ותת הטופס צריך להיות משוייך עם מודל, ניתן להגדיר את המאפיין [CForm::model] שלו גם כן.\r\n\r\nלפעמים, אנו נרצה לייצג טופס המשתמש במחלקה אחרת ולא ברירת המחדל [CForm]. לדוגמא, כפי שנציג בעוד רגע בחלק זה, אנו יכולים להרחיב את המחלקה [CForm] בכדי להתאים אישית את אופן הצגת הטופס.\r\nעל ידי הגדרת סוג האלמנט כ `form`, תת הטופס אוטומטית מיוצג כאובייקט שהמחלקה שלו היא זהה למחלקה של טופס האב. אם נגדיר את סוג האלמנט למשהו כמו `XyzForm` (סטרינג המסתיים ב `Form`), אז תת-הטופס יהיה מיוצג על ידי האובייקט של המחלקה `XyzForm`.\r\n\r\nגישה לאלמנטים בטופס\r\n-----------------------\r\n\r\nגישה לאלמנטים בטופס הינה פשוטה כגישה לאלמנטים מערך. המאפיין [CForm::elements] מחזיר אובייקט של [CFormElementCollection], היורש מהמחלקה [CMap] ומאפשר גישה לאלמנטים שבו כמערך רגיל. לדוגמא, בכדי לגשת לאלמנט `username` בדוגמא של טופס ההתחברות שהוצג, אנו יכולים להשתמש בקוד הבא:\r\n\r\n~~~\r\n[php]\r\n$username = $form->elements[''username''];\r\n~~~\r\n\r\nובכדי לגשת לאלמנט של `email` בדוגמא של טופס ההרשמה, אנו יכולים להשתמש ב\r\n\r\n~~~\r\n[php]\r\n$email = $form->elements[''user'']->elements[''email''];\r\n~~~\r\n\r\nמאחר ו [CForm] מיישם את הממשק של `array access` עבור המאפיין [CForm::elements], ניתן לפשט את הקוד למעלה בצורה הבאה:\r\n \r\n~~~\r\n[php]\r\n$username = $form[''username''];\r\n$email = $form[''user''][''email''];\r\n~~~\r\n\r\n\r\nיצירת שרשור טפסים\r\n----------------------\r\n\r\nכבר הצגנו את התתי-טפסים. אנו קוראים לטופס עם תתי-טפסים טופס משורשר. בחלק זה, אנו משתמשים בטופס של הרשמת משתמשים בכדי להציג כיצד ליצור טופס משורשר המקושר לכמה מודלים.\r\nאנו מניחים שפרטי המשתמשים מאוחסנים במודל `User`, בזמן שמידע אודות פרופיל המשתמש נמצא תחת המודל `Profile`.\r\n\r\nאנו קודם יוצרים את פעולת ההרשמה `register` בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\npublic function actionRegister()\r\n{\r\n    $form = new CForm(''application.views.user.registerForm'');\r\n    $form[''user'']->model = new User;\r\n    $form[''profile'']->model = new Profile;\r\n    if($form->submitted(''register'') && $form->validate())\r\n    {\r\n        $user = $form[''user'']->model;\r\n        $profile = $form[''profile'']->model;\r\n        if($user->save(false))\r\n        {\r\n            $profile->userID = $user->id;\r\n            $profile->save(false);\r\n            $this->redirect(array(''site/index''));\r\n        }\r\n    }\r\n\r\n    $this->render(''register'', array(''form''=>$form));\r\n}\r\n~~~\r\n\r\nבקוד למעלה, אנו יוצרים את הטופס בעזרת שימוש בהגדרות הנמצאות ב `application.views.user.registerForm`.\r\nלאחר השליחה של הטופס ואימות הנתונים עבר בהצלחה, אנו מנסים לשמור את המודלים של `User` ו `Profile`.\r\nאנו שולפים את המודלים של המשתמש והפרופיל על ידי גישה למאפיין `model` תחת האובייקט של תת הטופס.\r\n\r\nמאחר ואימות הנתונים נעשה כבר, אנו קוראים ל `$user->save(false)` בכדי לדלג על האימות. אנו עושים את אותו הדבר עם המודל של הפרופיל.\r\n\r\n\r\nלאחר מכן, אנו כותבים את קובץ הגדרות הטופס תחת הנתיב `protected/views/user/registerForm.php`:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''elements''=>array(\r\n        ''user''=>array(\r\n            ''type''=>''form'',\r\n            ''title''=>''Login information'',\r\n            ''elements''=>array(\r\n                ''username''=>array(\r\n                    ''type''=>''text'',\r\n                ),\r\n                ''password''=>array(\r\n                    ''type''=>''password'',\r\n                ),\r\n                ''email''=>array(\r\n                    ''type''=>''text'',\r\n                )\r\n            ),\r\n        ),\r\n\r\n        ''profile''=>array(\r\n            ''type''=>''form'',\r\n            ''title''=>''Profile information'',\r\n            ''elements''=>array(\r\n                ''firstName''=>array(\r\n                    ''type''=>''text'',\r\n                ),\r\n                ''lastName''=>array(\r\n                    ''type''=>''text'',\r\n                ),\r\n            ),\r\n        ),\r\n    ),\r\n\r\n    ''buttons''=>array(\r\n        ''register''=>array(\r\n            ''type''=>''submit'',\r\n            ''label''=>''Register'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nבקוד המוצג למעלה, בעת הגדרת כל תת-טופס, אנו מגדירים את המאפיין [CForm::title] השייך לו.\r\nלוגיקת התצוגה ברירת המחדל של הטופס תעטוף כל תת-טופס בתוך מעטפת אשר תשתמש במאפיין זה בכדי להציג את הכותרת של הטופס.\r\n\r\nלבסוף, אנו כותבים את קובץ התצוגה הפשוט של ההרשמה `register`:\r\n\r\n~~~\r\n[php]\r\n<h1>הרשמה</h1>\r\n\r\n<div class="form">\r\n<?php echo $form; ?>\r\n</div>\r\n~~~\r\n\r\n\r\nהתאמה אישית של תצוגה הטופס\r\n------------------------\r\n\r\nהיתרון בשימוש של מערכת יצירת הטפסים היא ההפרדה מהלוגיקה (הגדרות הטופס נמצאות בקובץ נפרד) והתצוגה (מתודת [CForm::render]). כתוצאה מכך, אנו יכולים להתאים את התצוגה של הטופס באופן אישי על ידי דריסה של המתודה [CForm::render] או לספק קובץ תצוגה חלקי אשר מציג את הטופס. בשני האפשרויות ניתן להשאיר את הגדרות הטופס ללא שינוי ולהשתמש באותו הקוד בצורה קלה.\r\n\r\nכשדורסים את המתודה [CForm::render], יש לרוץ על גבי האלמנטים של [CForm::elements] ו [CForm::buttons] ולקרוא למתודה [CFormElement::render] עבור כל כל אלמנט. לדוגמא,\r\n\r\n~~~\r\n[php]\r\nclass MyForm extends CForm\r\n{\r\n    public function render()\r\n    {\r\n        $output = $this->renderBegin();\r\n\r\n        foreach($this->getElements() as $element)\r\n            $output .= $element->render();\r\n\r\n        $output .= $this->renderEnd();\r\n\r\n        return $output;\r\n    }\r\n}\r\n~~~\r\n\r\nכמו כן אנו יכולים ליצור קובץ תצוגה `form_` בכדי להציג את הטופס:\r\n\r\n~~~\r\n[php]\r\n<?php\r\necho $form->renderBegin();\r\n\r\nforeach($form->getElements() as $element)\r\n    echo $element->render();\r\n\r\necho $form->renderEnd();\r\n~~~\r\n\r\nבכדי להשתמש בקובץ התצוגה, ניתן פשוט לקרוא:\r\n\r\n~~~\r\n[php]\r\n<div class="form">\r\n$this->renderPartial(''_form'', array(''form''=>$form));\r\n</div>\r\n~~~\r\n\r\nבמידה ותצוגה כללית לא נראית טוב בטופס מסויים (לדוגמא, הטופס צריך דקורציה מיוחדת ולא רגילה עבור אלמנטים מסויימים), אנו יכולים לבצע את הפעולות הבאות בקובץ תצוגה:\r\n\r\n~~~\r\n[php]\r\nאלמנטים של UI מורכבים כאן\r\n\r\n<?php echo $form[''username'']; ?>\r\n\r\nאלמנטים של UI מורכבים כאן\r\n\r\n<?php echo $form[''password'']; ?>\r\n\r\nאלמנטים של UI מורכבים כאן\r\n~~~\r\n\r\nבשיטה האחרונה,זה נראה שמערכת יצירת הטפסים לא מועילה לנו כל כך, אנו עדיין צריכים לכתוב כמות קוד דומה לטופס שאנו משתמשים בעת שימוש בקוד רגיל. למרות, שהטופס מוגדר בעזרת קובץ הגדרות בנפרד אשר עוזר למפתחים להתמקד יותר בלוגיקה.\r\n\r\n\r\n<div class="revision">$Id: form.builder.txt 1849 2010-03-01 15:54:34Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(28, 'form.model', 'form.model', '', '﻿יצירת מודל\r\n==============\r\n\r\nלפני כתיבת קוד ה HTML הנחוץ לטופס, אנו צריכים להחליט אילו נתונים אנו מצפים לקבל ממשתמשי הקצה ואילו חוקים אותם נתונים צריכים לעמוד בהם. ניתן להעזר במודל בישביל לתעד מידע זה. [מודל](/doc/guide/basics.model), כפי שהוגדר בחלק לגבי מודלים, הוא המקום המרכזי עבור שמירת נתונים ואימות הנתונים המגיעים מהמשתמשים.\r\n\r\nתלוי באופן השימוש שלנו בנתונים המגיעים מהמשתמשים, אנו יכולים ליצור שני סוגים של מודלים. אם המידע שהמשתמש מזין נאסף, משומש ואז נזרק, אנו ניצור [מודל טופס](/doc/guide/basics.model); אם המידע של המשתמש נאסף ונשמר במסד הנתונים, אנו ניצור מודל [AR](/doc/guide/database.ar) במקום. שני המחלקות יורשות מהמחלקה הבסיסית [CModel] שמגדירים את הממשק הכללי הדרוש בטופס.\r\n\r\n> Note|הערה: בדוגמאות בחלק זה אנו בעיקר משתמשים במודל טופס. למרות, שניתן להשתמש באותם דוגמאות על גבי מודל [AR](/doc/guide/database.ar).\r\n\r\nהגדרת מחלקת מודל\r\n--------------------\r\n\r\nלמטה אנו יוצרים מחלקת מודל בשם `LoginForm` שאנו נעזרים בה לאיסוף מידע שמשתמש מזין בעמוד ההתחברות. מאחר והמידע של ההתחברות נועד למטרת אימות בלבד ואין צורך לשמור אותו, אנו יוצרים את ה `LoginForm` כמודל טופס.\r\n\r\n~~~\r\n[php]\r\nclass LoginForm extends CFormModel\r\n{\r\n    public $username;\r\n    public $password;\r\n    public $rememberMe=false;\r\n}\r\n~~~\r\n\r\nשלושה משתנים מוגדרים ב `LoginForm`: המשתנים המוגדרים הם `username$`, `password$` ו `rememberMe$`. הם נועדו כדי לאפשר למשתמש להזין שם משתמש וסיסמא, ואפשרות לבחור במידה והוא רוצה לשמור את ההתחברות שלו לתקופה ממושכת. מאחר ולמשתנה `rememberMe$` ישנו ערך ברירת מחדל של `false`, כפתור הבחירה של המשתנה הנלמד יהיה לא מסומן כברירת מחדל בטופס.\r\n\r\n> Info|מידע: במקום לקרוא למשתנים הללו מאפיינים, אנו משתמשים במונח *משתנים* בכדי להבדיל אותם ממאפיינים רגילים. מאפיינים נועדו בעיקר לשמירת מידע המגיע מהמשתמש.\r\n\r\nהגדרת חוקי אימות נתונים\r\n--------------------------\r\n\r\nברגע שהמשתמש שולח את הנתונים שהוא הזין והמודל מאוכלס בנתונים אלו, אנו צריכים לוודא שהנתונים תקינים לפני שאנו משתמשים בהם. זה נעשה על ידי ביצוע אימות נתונים על גבי סט של חוקים. אנו מגדירים את חוקי אימות הנתונים במתודה `()rules` שצריכה להחזיר מערך של הגדרות.\r\n\r\n~~~\r\n[php]\r\nclass LoginForm extends CFormModel\r\n{\r\n    public $username;\r\n    public $password;\r\n    public $rememberMe=false;\r\n\r\n    private $_identity;\r\n\r\n    public function rules()\r\n    {\r\n        return array(\r\n            array(''username, password'', ''required''),\r\n            array(''rememberMe'', ''boolean''),\r\n            array(''password'', ''authenticate''),\r\n        );\r\n    }\r\n\r\n    public function authenticate($attribute,$params)\r\n    {\r\n        $this->_identity=new UserIdentity($this->username,$this->password);\r\n        if(!$this->_identity->authenticate())\r\n            $this->addError(''password'',''Incorrect username or password.'');\r\n    }\r\n}\r\n~~~\r\n\r\nהקוד למעלה מציין ש `username` ו `password` שניהם הם שדות חובה, `password` צריך להיות מאומת, ו `rememberMe` צריך להיות ערך בוליאני (boolean).\r\n\r\nכל חוק הנמצא במתודה `()rules` צריך להיות מוגדר בפורמט הבא:\r\n\r\n~~~\r\n[php]\r\narray(''AttributeList'', ''Validator'', ''on''=>''ScenarioList'', ...additional options)\r\n~~~\r\n\r\nכשהערך  `AttributeList` הינו סטרינג המופרד בפסיקים של שמות שצריך לאמת אותם מול החוק שהוגדר; `Validator` מגדיר את סוג הבדיקה שיש לבצע על גבי המשתנים שהוגדרו במשתנה קודם לכן; `on` הינו ערך אופציונלי המגדיר באילו תסריטים (מצבים) יש לבצע את האימות הנוכחי; ואפשרויות נוספות הינם זוגות של מפתח=>ערך שנועדו לאתחול של המאפיינים בחוק הנוכחי.\r\n\r\nישנם שלושה דרכים להגדרת `Validator` בחוק. אפשרות ראשונה, `Validator` יכול להיות שמה של מתודה במחלקת המודל הנוכחי, כמו `authenticate` בדוגמא למעלה. המתודה צריכה להראות בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\n/**\r\n * @param string the name of the attribute to be validated\r\n * @param array options specified in the validation rule\r\n */\r\npublic function ValidatorName($attribute,$params) { ... }\r\n~~~\r\n\r\nאפשרות שנייה, `Validator` יכול להיות שם של מחלקת אימות נתונים. כשהחוק יצורף, יווצר אובייקט של המחלקה אשר יבצע את הבדיקה. האפשרויות הנוספות בהגדרת החוק (כפי שתואר למעלה) נועדו כדי להגדיר את מאפייני המחלקה בעת יצירת האובייקט של המחלקה. מחלקת אימות נתונים צריכה להיות תת מחלקה של [CValidator].\r\n\r\n> Note|הערה: ברגע שמגדירים חוקים למודל AR, אנו יכולים להשתמש באפשרות מיוחדת בשם `on`. האפשרות יכולה להיות `insert` או `update` כדי שהחוק המדובר יצורף רק כשמוסיפים או מעדכנים רשומה, בהתאמה. במידה ולא הוגדר, החוק יצורף בשני המקרים בעת הקריאה ל `()save`.\r\n\r\nאפשרות שלישית, `Validator` יכול להוות שם מקוצר למחלקות אימות נתונים שהוגדרו מראש. בדוגמא למעלה, השם `required` הינו שם מקוצר למחלקה [CRequiredValidator] אשר מוודא שהערך של המשתנה הנבדק אינו ריק. למטה מוצגת הרשימה המלאה לשמות מקוצרים למחלקות בדיקות נתונים המוגדרות מראש:\r\n\r\n\r\n- `boolean`: שם מקוצר עבור המחלקה [CBooleanValidator], מוודא שהמשתנה מכיל ער של\r\n [CBooleanValidator::trueValue] או\r\n[CBooleanValidator::falseValue].\r\n\r\n- `captcha`: שם מקוצר עבור המחלקה [CCaptchaValidator], המוודא שהערך שהוזן זהה לערך שהוצג על ידי\r\n[CAPTCHA](http://en.wikipedia.org/wiki/Captcha).\r\n\r\n- `compare`: שם מקוצר עבור המחלקה [CCompareValidator], מוודא שהערך שנבדק זהה לערך הנוסף שהוגדר.\r\n\r\n- `email`: שם מקוצר עבור המחלקה [CEmailValidator], מוודא שהערך הנבדק הינו אימייל תקני.\r\n\r\n- `default`: שם מקוצר עבור המחלקה [CDefaultValueValidator], מגדיר ערכים ברירת מחדל עבור המשתנים הנבדקים.\r\n\r\n- `exist`: שם מקוצר עבור המחלקה [CExistValidator], מוודא שהערך הנבדק קיים בעמודה בטבלה הנוכחית.\r\n\r\n- `file`: שם מקוצר עבור המחלקה [CFileValidator], מוודא שהערך הנבדק מכיל את שם הקובץ שהועלה.\r\n\r\n- `filter`: שם מקוצר עבור המחלקה [CFilterValidator], המרת הערך הנבדק דרך פילטר שהוגדר.\r\n\r\n- `in`: שם מקוצר עבור המחלקה [CRangeValidator], מוודא שהערך הנבדק הוא בין רשימת הערכים שהוגדרו.\r\n\r\n- `length`: שם מקוצר עבור המחלקה [CStringValidator], מוודא שאורך הערך הנבדק הוא באורך מסויים.\r\n\r\n- `match`: שם מקוצר עבור המחלקה [CRegularExpressionValidator], מוודא שהערך תואם לביטוי רגולרי.\r\n\r\n- `numerical`: שם מקוצר עבור המחלקה [CNumberValidator], מוודא שהערך הנבדק הוא מספר.\r\n\r\n- `required`: שם מקוצר עבור המחלקה [CRequiredValidator], מוודא שהערך הנבדק אינו ריק.\r\n\r\n- `type`: שם מקוצר עבור המחלקה [CTypeValidator], מוודא שהערך הנבדק הוא מסוג מסויים.\r\n\r\n- `unique`: שם מקוצר עבור המחלקה [CUniqueValidator], מוודא שהערך הינו יחודי בעמודה בטבלה.\r\n\r\n- `url`: שם מקוצר עבור המחלקה [CUrlValidator], מוודא שהערך הנבדק הינו קישור תקני.\r\n\r\nלמטה מוצגים כמה דוגמאות לשימוש במחלקות אימות נתונים המוגדרים מראש:\r\n\r\n~~~\r\n[php]\r\n// שם משתמש הוא הכרחי\r\narray(''username'', ''required''),\r\n// שם משתמש חייב להיות בין 3 ל 12 תווים\r\narray(''username'', ''length'', ''min''=>3, ''max''=>12),\r\n// בזמן הרשמה הסיסמא צריכה להיות תואמת לאישור הסיסמא\r\narray(''password'', ''compare'', ''compareAttribute''=>''password2'', ''on''=>''register''),\r\n// בזמן התחברות הסיסמא צריכה להיות מאומתת\r\narray(''password'', ''authenticate'', ''on''=>''login''),\r\n~~~\r\n\r\n\r\nאבטחת הצבת מאפיינים\r\n------------------------------\r\n\r\nלאחר יצירת אובייקט של מודל, אנו בדרך כלל צריכים לאכלס את המאפיינים שלו על ידי המידע שהמשתמש הזין. ניתן לבצע זאת בצורה פשוטה ונוחה על ידי הצבה מאסיבית של מאפיינים:\r\n\r\n~~~\r\n[php]\r\n$model=new LoginForm;\r\nif(isset($_POST[''LoginForm'']))\r\n    $model->attributes=$_POST[''LoginForm''];\r\n~~~\r\n\r\nהפקודה האחרונה נקראת *הצבה מאסיבית* אשר מציבה את כל המאפיינים ב `$_POST[''LoginForm'']` למאפיינים המתאימים במודל. פקודה זו זהה לקוד הבא:\r\n\r\n~~~\r\n[php]\r\nforeach($_POST[''LoginForm''] as $name=>$value)\r\n{\r\n    if($name is a safe attribute)\r\n        $model->$name=$value;\r\n}\r\n~~~\r\n\r\nזה הכרחי להגדיר אילו מאפיינים הם מאובטחים. לדוגמא, במידה ונחשוף את העמודה השומרת את המפתח הראשי בטבלה ונגדיר אותו להיות מאפיין מאובטח, ניתן יהיה לשנות את המפתח הראשי של מידע מסויים ובכך לקבל גישה לנתונים שמשתמשים לא צריכים לראות.\r\n\r\nהתנאים בהגדרת מאפיינים בטוחים שונים בין הגרסאות 1.0 ו 1.1. בחלק הבא, אנו נסביר לגביהם בנפרד.\r\n\r\n### מאפיינים בטוחים ב 1.1\r\n\r\nבגרסא 1.1, מאפיין מוגדר כמאובטח אם הוא מופיע בחוקים לאימות הנתונים המוגדרים לעבוד עם התסריט הנוכחי. לדוגמא,\r\n\r\n~~~\r\n[php]\r\narray(''username, password'', ''required'', ''on''=>''login, register''),\r\narray(''email'', ''required'', ''on''=>''register''),\r\n~~~\r\n\r\nבקוד למעלה, המאפיינים `username` ו `password` הם שדו חובה בתסריט של `login`, בזמן שהמאפיינים `username`, `password` ו `email` הם שדות חובה בתסריט של `register`. כתוצאה מכך, אם נבצע הצבה מאסיבית של נתונים למאפיינים כשאנו נמצאים בתסריט של `login`, רק המאפיינים `username` ו `password` יוצבו בצורה מאסיבית מאחר ורק מאפיינים אלו מופיעים בחוקים עבור התסריט `login`.\r\nמצד שני, אם התסריט הוא `register`, כל שלושת המאפיינים יוצבו בצורה מאסיבית.\r\n\r\n~~~\r\n[php]\r\n// בתסריט התחברות\r\n$model=new User(''login'');\r\nif(isset($_POST[''User'']))\r\n    $model->attributes=$_POST[''User''];\r\n\r\n// בתסריט הרשמה\r\n$model=new User(''register'');\r\nif(isset($_POST[''User'']))\r\n    $model->attributes=$_POST[''User''];\r\n~~~\r\n\r\nאז למה אנחנו משתמשים במדיניות זו בכדי לקבוע אם מאפיין הוא בטוח או לא?\r\nהלוגיקה מאחורי זה היא אם מאפיין כבר מוגדר עם חוק אחד או יותר לאימות הנתונים בו, למה לנו לדאוג בנוגע אליו?\r\n\r\nחשוב לזכור שחוקי אימות הנתונים נועדו לאמת את הנתונים המגיעים מהמשתמש ולא את הנתונים שאנו יוצרים בקוד (לדוגמא זמן נוכחי, ערך המפתח הראשי שנוצר אוטומטית).\r\nלכן, אין להוסיף חוקים לאימות הנתונים לנתונים שלא מגיעים מהמשתמשים.\r\n\r\nלפעמים, אנחנו מגדירים מאפיין בטוח, למרות שאין לנו חוק מסויים עבורו. לדוגמא מאפיין של תוכן מאמר שיכול להכיל כל תוכן שהמשתמש מזין. אנו יכולים להשתמש בחוק מיוחד בשם `safe` בכדי להשיג מטרה זו:\r\n\r\n~~~\r\n[php]\r\narray(''content'', ''safe'')\r\n~~~\r\n\r\nלצורך השלמת הקוד, ישנו חוק בשם `unsafe` שנועד להגדיר מאפיין כלא בטוח ולא להכליל אותו בנתונים:\r\n\r\n~~~\r\n[php]\r\narray(''permission'', ''unsafe'')\r\n~~~\r\n\r\nבדרך כלל אין שימוש בחוק `unsafe`, והוא ההפך ממה שדובר לגבי חוק ה `safe` עבור מאפיינים בטוחים.\r\n\r\n### מאפיינים בטוחים ב 1.0\r\n\r\nבגרסאות 1.0, ההחלטה בין אם מאפיין הוא בטוח או לא מבוססת על הערך המוחזר מהמתודה `safeAttributes` והתסריט המוגדר כרגע. כברירת מחדל, המתודה מחזירה את כל מאפייני המחלקה [CFormModel] כמאפיינים בטוחים, בזמן שהינה מחזירה את כל העמודות בטבלה מלבד העמודה של המפתח הראשי עבור המחלקה [CActiveRecord].\r\nאנו יכולים לדרוס מתודה זו בכדי להגביל את המאפיינים הבטוחים לפי התסריט המוגדר.\r\nלדוגמא, מודל משתמשים יכול להכיל מאפיינים רבים, אבל בזמן השימוש בתסריט `login` אנו נצטרך רק את המאפיינים של שם המשתמש והסיסמא, `username` ו  `password`.\r\nאנו יכולים להגדיר את ההגבלה בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\npublic function safeAttributes()\r\n{\r\n    return array(\r\n        parent::safeAttributes(),\r\n        ''login'' => ''username, password'',\r\n    );\r\n}\r\n~~~\r\n\r\nיותר מדוייק, הערך המוחזר מהמתודה `safeAttributes` צריך להראות כמו התבנית הבאה:\r\n\r\n~~~\r\n[php]\r\narray(\r\n   // מאפיינים אלו ניתנים להצבה מאסיבית בכל תסריט\r\n   // שלא הוגדר ספציפית כמו בדוגמאות למטה\r\n   ''attr1, attr2, ...'',\r\n     *\r\n   // מאפיינים אלו ניתנים להצבה מאסיבית רק בזמן השימוש בתסריט מספר 1\r\n   ''scenario1'' => ''attr2, attr3, ...'',\r\n     *\r\n   // מאפיינים אלו ניתנים להצבה מאסיבית רק בזמן השימוש בתסריט מספר 2\r\n   ''scenario2'' => ''attr1, attr3, ...'',\r\n)\r\n~~~\r\n\r\nבמידה והמודל אינו רגיש כלפי תסריט (כלומר, משתמשים בו עם תסריט אחד בלבד, או כל התסריטים משתמשים באותם המאפיינים הבטוחים), ניתן לפשט את הערך המוחזר בסטרינג בודד:\r\n\r\n~~~\r\n[php]\r\n''attr1, attr2, ...''\r\n~~~\r\n\r\nעבור מאפיינים שהם לא בטוחים, אנו צריכים להגדיר אותם בצורה פרטנית בהתאם לערכים שהם אמורים להכיל, לדוגמא,\r\n\r\n~~~\r\n[php]\r\n$model->permission=''admin'';\r\n$model->id=1;\r\n~~~\r\n\r\n\r\nביצוע אימות הנתונים\r\n---------------------\r\n\r\nלאחר שהמודל מאוכלס עם הנתונים שהמשתמש הזין, אנו קוראים למתודה [()CModel::validate] בכדי להריץ את תהליך אימות הנתונים. המתודה מחזירה ערך המציין אם תהליך אימות הנתונים עבר בהצלחה או לא. עבור מודלים של [CActiveRecord], אימות הנתונים יתבצע בצורה אוטומטית ברגע שנקרא למתודה [()CActiveRecord::save].\r\n\r\nאנו יכולים לציין את התסריט הנוכחי על ידי הגדרת המאפיין [scenario|CModel::scenario] ועל ידי כך לציין אילו חוקים יצורפו לבדיקה זו.\r\n\r\nאימות הנתונים מתבצע על בסיס התסריט. המאפיין [scenario|CModel::scenario] מגדיר איזה תסריט המודל כרגע משתמש בו ובאילו חוקים יש להשתמש באימות הנתונים כרגע. לדוגמא, בתסריט של `login`, אנו נרצה רק לאמת את שם המשתמש והסיסמא - `username` ו `password` הנמצאים במודל של המשתמשים; בזמן שבתסריט `register`, אנו נצטרך לאמת יותר נתונים, כמו `email`, `address`, וכדומה.\r\nהדוגמא הבאה מציגה כיצד לבצע אימות נתונים תחת תסריט `register`:\r\n\r\n~~~\r\n[php]\r\n// יוצר מודל כשמצב התסריט מוגדר ל `register`. הקוד זהה ל:\r\n// $model=new User;\r\n// $model->scenario=''register'';\r\n$model=new User(''register'');\r\n\r\n// מאכלס את הנתונים שהגיע מהמשתמש אל המודל\r\n$model->attributes=$_POST[''User''];\r\n\r\n// מבצע את הבדיקה\r\nif($model->validate())   // במידה והנתונים תקינים\r\n    ...\r\nelse\r\n    ...\r\n~~~\r\n\r\nבכדי להגדיר חוקים מסויימים עבור תסריטים מסויימים יש להגדיר את המאפיין `on` בהגדרה של החוק עצמו. במידה והמאפיין `on` לא הוגדר, זה אומר שהחוק צריך להיות תקף בכל התסריטים האפשריים. לדוגמא,\r\n\r\n~~~\r\n[php]\r\npublic function rules()\r\n{\r\n    return array(\r\n        array(''username, password'', ''required''),\r\n        array(''password_repeat'', ''required'', ''on''=>''register''),\r\n        array(''password'', ''compare'', ''on''=>''register''),\r\n    );\r\n}\r\n~~~\r\n\r\nהחוק הראשון יצורף לכל התסריטים, בזמן ששני הבאים יצורפו רק לתסריט של `register`.\r\n\r\n\r\nקבלת שגיאות אימות נתונים\r\n----------------------------\r\n\r\nלאחר ביצוע האימות, כל השגיאות הקיימות יאוחסנו תחת האובייקט של המודל. אנו שולפים את הודעות השגיאות על ידי קריאה למתודה [()CModel::getErrors]\r\nאו [()CModel::getError]. ההבדל בין השניים הוא שהראשון יחזיר את *כל* השגיאות עבור מאפיין כלשהו במודל. בזמן שהשני מחזיר את השגיאה *הראשונה* עבור מאפיין כלשהו.\r\n\r\nתוויות מאפיינים\r\n----------------\r\n\r\nבעת עיצוב טופס, אנחנו בדרך כלל צריכים להציג תווית עבור כל שדה. התוית אומרת למשתמש איזה סוג מידע הוא צריך להזין לשדה. למרות שאנו יכולים להוסיף זאת ישירות בתוך קוד ה HTML, יש עדיפות להגדיר את התויות של השדות במחלקה של המודל בכדי לקבל יותר גמישות ולנוחות השימוש.\r\n\r\nכברירת מחדל, [CModel] יפשט את החזרת השם של מאפיין כלשהו המוגדר בו. ניתן להגדיר זאת על ידי דריסה של המתודה [()attributeLabels|CModel::attributeLabels]. כפי שאנו נראה בחלקים הבאים, הגדרת התויות של מאפיינים במודל יאפשר לנו ליצור טופס בצורה הרבה יותר מהירה ויעילה.\r\n\r\n\r\n<div class="revision">$Id: form.model.txt 1919 2010-03-15 17:25:48Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(29, 'form.overview', 'form.overview', '', '﻿עבודה עם טפסים\r\n=================\r\n\r\nאיסוף מידע מהמשתמש בעזרת טפסי HTML הוא אחד מהמטלות הגדולות בפיתוח אפליקציות ווב. מלבד עיצוב הטפסים, מפתחים צריכים להציג את הטופס עם מידע קיים או\r\nלהגדיר ערכים שיהוו בתור ערכי ברירת המחדל בטופס, לאמת את הקלט של המשתמש, הצגת שגיאות מותאמות לקלט לא תקני, ושמירת הנתונים למאגר נתונים קבוע כלשהו.\r\nYii מפשטת את כל התהליך הזה עם הארכיטקטורה שלה.\r\n\r\nהשלבים הבאים בדרך כלל נחוצים כדי לעבוד עם טפסים במערכת ה Yii:\r\n\r\n 1. יצירת מודל המייצג את המידע אשר נאסף מהטופס.\r\n 2. יצירת קונטרולר עם מתודה אשר מגיבה בעת שליחת הטופס.\r\n 3. יצירת טופס בסקריפט התצוגה אשר משותף למתודה בקונטרולר.\r\n \r\nבחלקים הבאים אנחנו מציגים כל שלב בפרטי פרטים.\r\n\r\n\r\n<div class="revision">$Id: form.overview.txt 163 2008-11-05 12:51:48Z weizhuo $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(30, 'form.table', 'form.table', '', '﻿איסוף קלט מאסיבי\r\n========================\r\n\r\nלפעמים אנו צריכים לאסוף את הקלט של המשתמש בצורה מאסיבית. זאת אומרת, המשתמש יכול להזין מידע עבור מספר רב של מודלים ולשלוח אותם בבת אחת. אנו קוראים לזה *קלט מאסיבי (טבלאי)* מאחר ושדות הקלט מוצגים בטבלת HTML בדרך כלל.\r\n\r\nבכדי לעבוד עם נתונים טבלאיים, אנו קודם צריכים ליצור או לאכלס מערך אובייקטים של מודלים, תלוי במידה ואנו רוצים להזין תוכן חדש או לעדכן תוכן קיים. לאחר מכן אנו שולפים את הקלט של המשתמש מהמשתנה `POST_$` ומגדירים אותו לכל מודל. הבדל קטן מקלט המתקבל ממודל אחד הוא שאנו שולפים את המידע על ידי שימוש ב\r\n\r\n~~~\r\n$_POST[''ModelClass''][$i]\r\n~~~\r\n\r\n\r\nבמקום ב `$_POST[''ModelClass'']`\r\n\r\n\r\n~~~\r\n[php] \r\npublic function actionBatchUpdate()\r\n{\r\n    // שליפת מידע בצורה מאסיבית\r\n    // בנחה שכל ערך הוא מודל של המחלקה `Item`\r\n    $items=$this->getItemsToUpdate();\r\n    if(isset($_POST[''Item'']))\r\n    {\r\n        $valid=true;\r\n        foreach($items as $i=>$item)\r\n        {\r\n            if(isset($_POST[''Item''][$i]))\r\n                $item->attributes=$_POST[''Item''][$i];\r\n            $valid=$valid && $item->validate();\r\n        }\r\n        if($valid)  // כל הערכים תקינים\r\n            // פעולות לביצוע\r\n    }\r\n    // הצג את הטופס\r\n    $this->render(''batchUpdate'',array(''items''=>$items));\r\n}\r\n~~~\r\n\r\nלאחר שיש לנו את הפעולה כתובה, אנו צריכים לעבוד על קובץ התצוגה `batchUpdate` המציג את השדות בטבלת HTML.\r\n\r\n\r\n~~~\r\n[php]\r\n<div class="form">\r\n<?php echo CHtml::beginForm(); ?>\r\n<table>\r\n<tr><th>Name</th><th>Price</th><th>Count</th><th>Description</th></tr>\r\n<?php foreach($items as $i=>$item): ?>\r\n<tr>\r\n<td><?php echo CHtml::activeTextField($item,"[$i]name"); ?></td>\r\n<td><?php echo CHtml::activeTextField($item,"[$i]price"); ?></td>\r\n<td><?php echo CHtml::activeTextField($item,"[$i]count"); ?></td>\r\n<td><?php echo CHtml::activeTextArea($item,"[$i]description"); ?></td>\r\n</tr>\r\n<?php endforeach; ?>\r\n</table>\r\n\r\n<?php echo CHtml::submitButton(''Save''); ?>\r\n<?php echo CHtml::endForm(); ?>\r\n</div><!-- form -->\r\n~~~\r\n\r\nיש לשים לב למעלה שאנו משתמשים ב\r\n\r\n~~~ \r\n"[$i]name"\r\n~~~\r\n\r\nבמקום ב `"name"` כפרמטר שני בעת הקריאה ל [CHtml::activeTextField].\r\n\r\nבמידה ויש שגיאה כלשהי באימות הנתונים, שדות הקלט המכילים את השגיאות יקבלו מחלקת CSS אוטומטית בכדי להציג שישנה שגיאה בשדה, בידיוק כמו בשימוש עם מודל אחד כפי שהוסבר קודם לכן.\r\n\r\n<div class="revision">$Id: form.table.txt 2161 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(31, 'form.view', 'form.view', '', '﻿יצירת טופס\r\n=============\r\n\r\nכתיבת קובץ התצוגה של ההתחברות הוא מאוד ברור וישיר. אנו מתחילים עם תג של פתיחת טופס `form` שהמאפיין `action` שלו צריך להיות הקישור של הפעולה של ההתחברות `login` שתוארה קודם לכן. לאחר מכן אנו מוסיפים תויות ושדות טקסט למאפיינים המוגדרים במחלקת המודל `LoginForm`. לבסוף אנו מוסיפים כפתור שליחה שניתן ללחיצה על ידי משתמשים בכדי לשלוח את הטופס. כל אלו ניתנים לביצוע על ידי קוד HTML פשוט.\r\n\r\nYii מספקת כמה מחלקות המסייעות לפשט את הרכבת התצוגה. לדוגמא, בכדי ליצור שדה טקסט, אנו יכולים לקרוא ל [()CHtml::textField]; בכדי ליצור שדה תיבת בחירה, אנו יכולים לקרוא ל [()CHtml::dropDownList].\r\n\r\n> Info|מידע: יש התוהים מה היתרון בשימוש במתודות אלו המסייעות לכתיבת התצוגה אם הם דורשות את אותו כמות קוד בהשוואה לכתיבת HTML טהור. התשובה לכך היא שהמתודות הללו מספקות יותר מסתם קוד HTML.\r\nלדוגמא, הקוד הבא יוצר שדה טקסט אשר יכול לגרום לשליחת הטופס אם הערך שלו השתנה על ידי המשתמש.\r\n> ~~~\r\n> [php]\r\n> CHtml::textField($name,$value,array(''submit''=>''''));\r\n> ~~~\r\n> במקרה אחר זה היה דורש לכתוב קוד JS בכל מקום בדף.\r\n\r\nבחלק הבא, אנו משתמשים ב בכדי ליצור טופס התחברות. אנו מניחים שהמשתנה `model$` מייצג אובייקט של המחלקה `LoginForm`.\r\n\r\n~~~\r\n[php]\r\n<div class="form">\r\n<?php echo CHtml::beginForm(); ?>\r\n\r\n    <?php echo CHtml::errorSummary($model); ?>\r\n\r\n    <div class="row">\r\n        <?php echo CHtml::activeLabel($model,''username''); ?>\r\n        <?php echo CHtml::activeTextField($model,''username'') ?>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <?php echo CHtml::activeLabel($model,''password''); ?>\r\n        <?php echo CHtml::activePasswordField($model,''password'') ?>\r\n    </div>\r\n\r\n    <div class="row rememberMe">\r\n        <?php echo CHtml::activeCheckBox($model,''rememberMe''); ?>\r\n        <?php echo CHtml::activeLabel($model,''rememberMe''); ?>\r\n    </div>\r\n\r\n    <div class="row submit">\r\n        <?php echo CHtml::submitButton(''Login''); ?>\r\n    </div>\r\n\r\n<?php echo CHtml::endForm(); ?>\r\n</div><!-- form -->\r\n~~~\r\n\r\nהקוד למעלה יוצר טופס דינאמי יותר. לדוגמא, [()CHtml::activeLabel] יוצר תוית המקושרת עם המאפיין בתוך המודל. במידה והמאפיין מכיל שגיאת קלט, מחלקת ה CSS של התוית תשתנה ל `error`, המשנה את מראה התוית עם סגנון עיצוב מתאים. בדומה, [()CHtml::activeTextField] יוצר שדה טקסט למאפיין במודל וגם כן משנה את מחלקת ה CSS של התוית במידה וישנה שגיאת קלט.\r\n\r\nבמידה ואנחנו משתמשים בקובץ הסגנונות `form.css` המגיע ביחד עם הסקריפט `yiic`, הטופס שנוצר יראה בדומה לדוגמא הבאה:\r\n\r\n![עמוד ההתחברות](login1.png)\r\n\r\n![עמוד ההתחברות עם שגיאות](login2.png)\r\n\r\nהחל מגרסא 1.1.1, ישנו וידג''ט חדש בשם [CActiveForm] המפשט את יצירת הטופס. הוידג''ט מסוגל לתמוך באימות נתונים רציף גם בצד הלקוח ובצד השרת. על ידי שימוש ב [CActiveForm], ניתן לכתוב את קוד התצוגה המוצג למעלה בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\n<div class="form">\r\n<?php $form=$this->beginWidget(''CActiveForm''); ?>\r\n\r\n    <?php echo $form->errorSummary($model); ?>\r\n\r\n    <div class="row">\r\n        <?php echo $form->label($model,''username''); ?>\r\n        <?php echo $form->textField($model,''username'') ?>\r\n    </div>\r\n\r\n    <div class="row">\r\n        <?php echo $form->label($model,''password''); ?>\r\n        <?php echo $form->passwordField($model,''password'') ?>\r\n    </div>\r\n\r\n    <div class="row rememberMe">\r\n        <?php echo $form->checkBox($model,''rememberMe''); ?>\r\n        <?php echo $form->label($model,''rememberMe''); ?>\r\n    </div>\r\n\r\n    <div class="row submit">\r\n        <?php echo CHtml::submitButton(''Login''); ?>\r\n    </div>\r\n\r\n<?php $this->endWidget(); ?>\r\n</div><!-- form -->\r\n~~~\r\n\r\n<div class="revision">$Id: form.view.txt 1751 2010-01-25 17:21:31Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(32, 'index', 'index', '', '﻿המדריך המלא - Yii\r\n================================================\r\n\r\n\r\nיש לזכור לקרוא את [תנאי השימוש](http://www.yiiframework.com/doc/terms/) במערכת זו לפני השימוש בה.\r\n\r\nמתרגמי המדריך הם\r\n\r\n--------------\r\n\r\n\r\n* ואדים גבריאל [בלוג](http://www.vadimg.com) | [תמיכה בעברית](http://he.yiiframework.co.il).\r\n\r\n2008-2010 &copy; Yii LLC.\r\n\r\n\r\n<div class="revision">$Id: index.txt 1679 2010-01-07 21:03:36Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(33, 'quickstart.first-app-yiic', 'quickstart.first-app-yiic', '', '﻿יישום פעולות CRUD בעזרת `yiic shell` (לא נתמך)\r\n==============================================\r\n\r\n> Note|הערה: יצירת הקוד בעזרת `yiic shell` יצא מכלל שימוש החל מגרסא 1.1.2. נא להשתמש ביוצר הקוד הנרחב והמבוסס ווב בשם [Gii](/doc/guide/topics.gii), במקום.\r\n\r\nיש לפתוח חלון פקודות, להריץ את הפקודות הרשומות מטה:\r\n\r\n~~~\r\n% cd WebRoot/testdrive\r\n% protected/yiic shell\r\nYii Interactive Tool v1.1\r\nPlease type ''help'' for help. Type ''exit'' to quit.\r\n>> model User tbl_user\r\n   generate models/User.php\r\n   generate fixtures/tbl_user.php\r\n   generate unit/UserTest.php\r\n\r\nThe following model classes are successfully generated:\r\n    User\r\n\r\nIf you have a ''db'' database connection, you can test these models now with:\r\n    $model=User::model()->find();\r\n    print_r($model);\r\n\r\n>> crud User\r\n   generate UserController.php\r\n   generate UserTest.php\r\n   mkdir D:/testdrive/protected/views/user\r\n   generate create.php\r\n   generate update.php\r\n   generate index.php\r\n   generate view.php\r\n   generate admin.php\r\n   generate _form.php\r\n   generate _view.php\r\n\r\nCrud ''user'' has been successfully created. You may access it via:\r\nhttp://hostname/path/to/index.php?r=user\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו משתמשים בפקודות `yiic shell` בכדי לתקשר עם האפליקציה שלנו. בחלון, אנו מריצים שני פקודות נוספות: `model User tbl_user` ו `crud User`. הראשון יוצר מחלקת מודל בשם `User` עבור הטבלה `tbl_user`, בזמן שהפקודה השנייה מנתחת את המודל `User` ויוצרת את הקוד המיישם את פעולות ה CRUD השונות.\r\n\r\n> Note|הערה: יתכן ותתקל בשגיאות כמו `could not find driver...`, למרות שבעת ביצוע בדיקות הדרישות של מערכת Yii מצויין שה-PDO פעיל. במידה וזה קורה, תוכל לנסות להריץ את הכלי `yiic` בצורה הבאה,\r\n> ~~~\r\n> % php -c path/to/php.ini protected/yiic.php shell\r\n> ~~~\r\n>\r\n> כש `path/to/php.ini` מייצג את קובץ הגדרות ה-PHP הנכון.\r\n\r\nכעת נוכל לראות את העבודה בפעולה שהרגע יצרנו:\r\n\r\n~~~\r\nhttp://hostname/testdrive/index.php?r=user\r\n~~~\r\n\r\nזה יציג רשימה של רשומות מטבלת `tbl_user`.\r\n\r\nלחץ על כפתור `Create User` בעמוד. אנו נגיע לעמוד ההתחברות אם עדיין לא התחברנו. לאחר ההתחברות, אנו נראה טופס המאפשר לנו להוסיף משתמש חדש. יש להשלים את הטופס וללחוץ על כפתור `Create`. במידה וישנם שגיאות בשדות, תופיע שגיאה שתמנע מאתנו לשלוח את הטופס. בחזרה לעמוד רשימת המשתמשים, כעת אנו נוכל לראות את המשתמש שהרגע הוספנו מופיע ברשימה.\r\n\r\nניתן לחזור על הפעולות למעלה בכדי להוסיף משתמשים נוספים. שים לב שעמוד תצוגת המשתמשים יציג עמודים באופן אוטומטי אם ישנם יותר מדי משתמשים לתצוגה בעמוד אחד.\r\n\r\nאם אנו נתחבר כמנהלים ראשיים בעזרת הפרטים `admin/admin`, אנו נוכל לצפות בעמוד ניהול המשתמשים בקישור הבא:\r\n\r\n~~~\r\nhttp://hostname/testdrive/index.php?r=user/admin\r\n~~~\r\n\r\nעמוד זה יציג לנו את רשימת המשתמשים בתצוגה טבלאית. אנו יכולים ללחוץ על אחד מהכותרות בטבלה בכדי למיין את הטבלה על פי אותה כותרת שלחצנו הרגע. אנו יכולים ללחוץ על כל אחד מהמידע בשורות בכדי לצפות, לעדכן או למחוק את המידע בשורה הנ"ל. אנו יכולים לדפדף בין עמודים. כמו כן, אנו יכולים לסנן ולחפש אחר המידע אותו אנו רוצים לראות.\r\n\r\nכל האפשרויות הללו מגיעות ללא שום צורך בכתיבת שורת קוד אחת.\r\n\r\n![עמוד ניהול משתמשים](first-app6.png)\r\n\r\n![עמוד הוספת משתמש חדש](first-app7.png)\r\n\r\n\r\n<div class="revision">$Id: quickstart.first-app-yiic.txt 2098 2010-04-11 03:54:25Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(34, 'quickstart.first-app', 'quickstart.first-app', '', '﻿יצירת אפליקצית Yii ראשונה\r\n==============================\r\n\r\nבכדי לקבל ניסיון התחלתי עם Yii, אנו מתארים בחלק זה כיצד ליצור את האפליקציה הראשונה שלנו ב Yii. אנו נשתמש בכלי `yiic` המאפשר יצירה אוטומטית של קוד בעבור משימות מסויימות. לנוחות, אנו מניחים ש `YiiRoot` הינה התיקיה בה Yii מותקן, ו `WebRoot` הינה התיקיה הראשית של שרת הווב שלנו.\r\n\r\nיש להריץ את `yiic` בשורת הפקודות בצורה הבאה:\r\n\r\n~~~\r\n% YiiRoot/framework/yiic webapp WebRoot/testdrive\r\n~~~\r\n\r\n> Note|הערה: בעת הרצת `yiic` על גבי מחשבים Mac OS, Linux או Unix, יהיה צורך בשינוי הרשאות של קובץ ה `yiic` בכדי שיהיה ניתן להריץ אותו. לחלופין, ניתן להריץ את הכלי בצורה הבאה,\r\n> ~~~\r\n> % cd WebRoot/testdrive\r\n> % php YiiRoot/framework/yiic.php webapp WebRoot/testdrive\r\n> ~~~\r\n\r\nזה יצור שלד לאפליקצית Yii תחת התיקיה `WebRoot/testdrive`. לאפליקציה יש מבנה של תקיות שנחוץ למרבית אפליקציות ה Yii.\r\n\r\nללא צורך בכתיבת שורת קוד אחת, אנו יכולים לנסות את האפליקציה שיצרנו כרגע על ידי כניסה לקישור הבא בדפדפן:\r\n\r\n~~~\r\nhttp://hostname/testdrive/index.php\r\n~~~\r\n\r\nכפי שניתן לראות, לאפליקציה יש ארבע עמודים: עמוד הבית, עמוד האודות, עמוד ההתחברות ועמוד היצירת קשר. עמוד יצירת הקשר מציג טופס יצירת קשר שמשתמש יכול להזין ולשלוח למנהל האתר, ועמוד ההתחברות מאפשר למשתמש לאמת את עצמו לפני שהוא ניגש לתוכן שהוא מוגבל לבעלי גישה בלבד.\r\n\r\n![עמוד הבית](first-app1.png)\r\n\r\n![עמוד יצירת הקשר](first-app2.png)\r\n\r\n![עמוד יצירת קשר עם שגיאות](first-app3.png)\r\n\r\n![עמוד יצירת קשר לאחר שליחת הטופס בהצלחה](first-app4.png)\r\n\r\n![עמוד התחברות](first-app5.png)\r\n\r\n\r\nהדיאגרמה הבאה מציגה את מבנה התיקיות של האפליקציה שלנו.\r\nאנא קרא אודות [מוסכמות](/doc/guide/basics.convention#directory) בכדי לקבל הסבר מדוייק למבנה זה.\r\n\r\n~~~\r\ntestdrive/\r\n   index.php                 קובץ הכניסה הראשי של האפליקציה\r\n   index-test.php            קובץ הכניסה הראשי למטרת בדיקות\r\n   assets/                   מכיל קבצי נכסים הנגישים למשתמשים\r\n   css/                      מכיל קבצי css\r\n   images/                   מכיל תמונות\r\n   themes/                   מכיל תבניות עיצוב לאפליקציה\r\n   protected/                מכיל קבצים מוגנים של האפליקציה\r\n      yiic                   קובץ פקודות עבור לינוקס ויוניקס\r\n      yiic.bat               קובץ פקודות עבור וינדווס\r\n      yiic.php               קובץ פקודות PHP\r\n      commands/              מכיל פקודות ''yiic'' מותאמים אישית\r\n         shell/              מכיל פקודות ''yiic shell'' מותאמים אישית\r\n      components/            מכיל רכיבים אשר משתמשים בהם שוב ושוב\r\n         Controller.php      מחלקת הבסיס לכל הקונטרולרים\r\n         Identity.php        מחלקת הזיהוי של משתמשים\r\n      config/                מכיל קבצי הגדרות\r\n         console.php         קובץ הגדרות לאפליקציה דרך מסוף\r\n         main.php            קובץ הגדרות לאפליקצית ווב\r\n         test.php            קובץ הגדרות לבדיקות פונקצנליות\r\n      controllers/           מכיל קבצי מחלקות קונטרולר\r\n         SiteController.php  קונטרולר ברירת המחדל\r\n      data/                  מכיל את מסדי הנתונים לדוגמא\r\n         schema.mysql.sql    תרשים מסד הנתונים של MySQL\r\n         schema.sqlite.sql   תרשים מסד נתונים של SQLite\r\n         testdrive.db        קובץ מסד הנתונים לדוגמא של SQLite\r\n      extensions/            מכיל הרחבות צד שלישי\r\n      messages/              מכיל קבצי תרגום\r\n      models/                מכיל קבצי מחלקות המודל\r\n         LoginForm.php       מודל הטופס לפעולה של התחברות\r\n         ContactForm.php     מודל הטופס לפעולה של יצירת קשר\r\n      runtime/               מכיל קבצים זמניים\r\n      tests/                 מכיל קבצי סקריפט לבדיקה\r\n      views/                 מכיל קבצי תצוגה ותבניות של קונטרולרים\r\n         layouts/            מכיל קבצי תבניות\r\n            main.php         התבנית הראשית אשר מופיע בכל העמודים\r\n            column1.php      תבנית לעמודים אשר משתמשים בעיצוב של עמודה אחת\r\n            column2.php      תבנית לעמודים אשר משתמשים בעיצוב של שני עמודות\r\n         site/               מכיל קבצי תצוגה לקונטרולר ''site''\r\n             pages/           מכיל עמודים סטטיים\r\n                about.php    קובץ התצוגה לעמוד אודות\r\n            contact.php     קובץ תצוגה לעמוד יצירת קשר\r\n            error.php        קובץ תצוגה להצגת שגיאות במידה ויש\r\n            index.php        קובץ תצוגה לפעולה ''index''\r\n            login.php        קובץ תצוגה לפעולה ''login''\r\n~~~\r\n\r\nהתחברות למסד נתונים\r\n----------------------\r\n\r\nמרבית אפליקציות הווב מגובות בעזרת מסד נתונים. אפליקצית הניסיון שלנו היא אחת מהם. בכדי להשתמש במסד נתונים, אנו צריכים להגדיר לאפליקציה כיצד להתחבר אליה. זה נעשה בקובץ הגדרות האפליקציה אשר ממוקם `WebRoot/testdrive/protected/config/main.php`, המובלט בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ......\r\n    ''components''=>array(\r\n        ......\r\n        ''db''=>array(\r\n            ''connectionString''=>''sqlite:protected/data/testdrive.db'',\r\n        ),\r\n    ),\r\n    ......\r\n);\r\n~~~\r\n\r\nהקוד למעלה מנחה את Yii  שהאפליקציה צריכה להתחבר למסד נתונים SQLite תחת `WebRoot/testdrive/protected/data/testdrive.db` בעת הצורך. מסד הנתונים SQLite כבר כלול בשלד האפליקציה שיצרנו זה עתה. מסד נתונים מכיל טבלה אחת בלבד בשם `tbl_user`:\r\n\r\n~~~\r\n[sql]\r\nCREATE TABLE tbl_user (\r\n    id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\r\n    username VARCHAR(128) NOT NULL,\r\n    password VARCHAR(128) NOT NULL,\r\n    email VARCHAR(128) NOT NULL\r\n);\r\n~~~\r\n\r\nבמידה והינך רוצה לעבוד עם מסד נתונים מסוג MySQL במקום, תוכל להשתמש בקובץ התרשים של MySQL המצורף הנמצא ב `WebRoot/testdrive/protected/data/schema.mysql.sql` בכדי ליצור את מסד הנתונים.\r\n\r\n> Note|הערה: בכדי להשתמש באפשריות מסדי הנתונים, אנו צריכים להתקין ולהפעיל את תוסף ה PHP בשם PDO ואת התוספים הספציפים לדרייברים בהם אנו נשתמש. בעבור אפליקצית הבדיקה הזו אנו צריכים להפעיל את התוספים `php_pdo` ו `php_pdo_sqlite`.\r\n\r\nיישום פעולו CRUD\r\n----------------------------\r\n\r\nעכשיו זה החלק המהנה. אנו נרצה ליישם את פעולות ה-CRUD שזה קיצור של יצירה, קריאה, עדכון, מחיקה (Create, Read, Update, Delete) עבור הטבלה `User` שהרגע יצרנו. אפשרות זו הכרחית עבור אפליקציות אשר תלויות במשתמשים במערכת. במקום לבזבז את הזמן לכתיבת הקוד עצמו, אנו נשתמש ב-Gii -- מחולל קוד מבוסס אינטרנט (ווב).\r\n\r\n> Info|מידע: Gii קיים החל מגרסא 1.1.2. עבור גרסאות ישנות יותר, אנו יכולים להשתמש בכלי `yiic` בכדי להשיג את אותה המטרה. למידע נוסף, אנא עיין במדריך ליצירת פעולות CRUD על ידי הכלי `yiic`. [יישום פעולות CRUD בעזרת yiic](/doc/guide/quickstart.first-app-yiic)\r\n\r\n### הגדרת Gii\r\n\r\nבכדי להשתמש ב Gii, אנו קודם צריכים לערוך את הקובץ `WebRoot/testdrive/protected/main.php`, הידוע בשמו כ-קובץ [הגדרות](/doc/guide/basics.application#application-configuration) האפליקציה.\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ......\r\n    ''import''=>array(\r\n        ''application.models.*'',\r\n        ''application.components.*'',\r\n    ),\r\n\r\n    ''modules''=>array(\r\n        ''gii''=>array(\r\n            ''class''=>''system.gii.GiiModule'',\r\n            ''password''=>''יש להזין סיסמא כאן'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nלאחר מכן, יש לגשת לקישור `http://hostname/testdrive/index.php?r=gii`. אנו נראה מסך המבקש מאתנו להזין סיסמא, אותה סיסמא שציינו בשלב הקודם בקוד המוצג למעלה.\r\n\r\n### יצירת מודל משתמשים\r\n\r\nלאחר ההתחברות, יש ללחוץ על הקישור `Model Generator`. זה יביא אותנו לעמוד יצירת מודל הבא,\r\n\r\n![יצירת מודל](gii-model.png)\r\n\r\nבשדה של `Table Name` יש להזין `tbl_user`. בשדה של `Model Class`, יש להזין `User`. לאחר מכן יש ללחוץ על כפתור `Preview`. זה יציג לנו את הקוד שיווצר. כעת יש ללחוץ על כפתור `Generate`. קובץ חדש בשם `User.php` יווצר תחת התיקיה `protected/models`. כפי שאנו נסביר במהלך המדריך הזה, מחלקת המודל `User` שהרגע יצרנו מאפשרת לנו לתקשר עם הטבלה `tbl_user` אשר נמצאת תחת המחלקה באופן מונחה עצמים.\r\n\r\n### יצירת קוד CRUD\r\n\r\nלאחר יצירת קובץ מחלקת המודל, אנו ניצור את הקוד אשר מיישם את פעולות ה CRUD עבור המשתמש. אנו בוחרים `במחולל ה-CRUD` במערכת ה-Gii, כפי שמוצג בתמונה למטה,\r\n\r\n![מחולל CRUD](gii-crud.png)\r\n\r\nבשדה `Model Class`, יש להזין `User`. בשדה `Controller ID`, יש להזין `user` (באותיות קטנות בלבד). עכשיו יש ללחוץ על כפתור התצוגה מקדימה - `Preview` ולאחר מכן על כפתור היצירה - `Generate`. סיימנו עם יצירת הקוד עבור פעולות ה-CRUD.\r\n\r\n### גישה לעמודים הנוצרו על ידי CRUD\r\n\r\nהבא ונראה את התוצאה הסופית של העבודה שנעשתה:\r\n\r\n~~~\r\nhttp://hostname/testdrive/index.php?r=user\r\n~~~\r\n\r\nעמוד זה יציג רשימה של רשומות משתמשים מהטבלה `tbl_user`.\r\n\r\nלחץ על כפתור ה `Create User` בעמוד. אנו נעבור לעמוד ההתחברות במידה ולא התחברנו עדיין. לאחר ההחברות, אנו נראה טופס שמאפשר לנו להוסיף משתמש חדש. מלא את הטופס ולחץ על כפתור `Create`.\r\nבמידה וישנם שגיאות כלשהם בטופס או בתוכן שהוזן, תוצג שגיאה שתמנע מאיתנו לשלוח את הטופס. בחזרה לעמוד רשימת המשתמשים, אנו אמורים לראות את המשתמשים החדשים אותם יצרנו ברשימה.\r\n\r\nחזור על השלבים למעלה כדי להוסיף עוד משתמשים. שים לב שעמוד רשימת המשתמשים יציג עמודים אוטומטית אם ישנם יותר מדי משתמשים המוצגים בעמוד אחד.\r\n\r\nאם נתחבר כמנהלים עם הפרטים `admin/admin`, אנו נוכל לצפות בעמוד ניהול המשתמשים בקישור הבא:\r\n\r\n~~~\r\nhttp://hostname/testdrive/index.php?r=user/admin\r\n~~~\r\n\r\nעמוד זה יציג את רשימת המשתמשים בפורמט טבלאי. אנו נוכל ללחוץ על כותרות העמודות בכדי למיין את הרשימה לפי אותה עמודה עליה לחצנו. נוכל ללחוץ על הכפתורים בכל רשומה בכדי לצפות, לערוך או למחוק את אותה רשומה.\r\nאנו יכולים לצפות בעמודים שונים. כמו כן אנו יכולים לסנן ולחפש אחר מידע אותו אנו מחפשים.\r\n\r\nכל האפשרויות הללו מגיעות ללא צורך בכתיבת שורת קוד אחת!\r\n\r\n![עמוד ניהול משתמשים](first-app6.png)\r\n\r\n![עמוד יצירת משתמש חדש](first-app7.png)\r\n\r\n\r\n\r\n<div class="revision">$Id: quickstart.first-app.txt 2041 2010-01-21 16:54:29Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(35, 'quickstart.installation', 'quickstart.installation', '', '﻿התקנה\r\n============\r\n\r\nהתקנת מערכת ה Yii כוללת את הצעדים הבאים:\r\n\r\n   1. הורדת המערכת מהאתר הרשמי [yiiframework.com](http://www.yiiframework.com/).\r\n   2. חלץ את קבצי המערכת אל תיקיה אשר נתן לגשת אליה דרך הדפדפן\r\n\r\n> Tip|טיפ: מערכת ה Yii אינה צריכה להיות תחת תיקיה ציבורים בשרת אשר כל משתמש יכול לגשת אליה.\r\nאפליקציה הכתובה בעזרת Yii מכילה קובץ הרצה אחד שרק הוא אמור להיות תחת תיקיה ציבורית אשר חשופה לכולם.\r\nתיקיות וקבצים אחרים הכוללים את התיקיה של Yii צריכים להיות תחת תיקיה שלא ניתן יהיה לגשת אליה ומוגדרת בתור תיקיה פרטים ולא ציבורים, מאחר וזה יכול לגרום\r\nלבעיות אבטחה.\r\n\r\nדרישות\r\n------------\r\n\r\nלאחר התקנת המערכת Yii, תרצה לאמת שהשרת שבו אתה מריץ אותו תומך בכל הדרישות של המערכת.\r\nתוכל לעשות זאת על ידי כניסה דרך הדפדפן לסקריפט הבדיקה שמגיע עם ההתקנה של המערכת וניתן להגיע אליו בקישור הבא:\r\n\r\n~~~\r\nhttp://hostname/path/to/yii/requirements/index.php\r\n~~~\r\n\r\nדרישות המינימום של Yii הם שהשרת יתמוך ב PHP 5.1.0 ומעלה. Yii נבדק עם גבי שרת [Apache HTTP\r\nserver](http://httpd.apache.org/) על גבי מערכת ההפעלה מסוג וינדוס ולינוקס.\r\nכמו כן ניתן להריץ את Yii על גבי שרתים אחרים התומכים בגרסא ההכרחית של PHP 5.\r\n\r\n<div class="revision">$Id: quickstart.installation.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(36, 'quickstart.what-is-yii', 'quickstart.what-is-yii', '', '﻿מה זה Yii\r\n===========\r\n\r\nYii הינה פריימוורק PHP המבוסס על רכיבים, בעל ביצועים גבוהים המאפשר פיתוח של אפליקציות ווב גדולות וכבדות במהירות ויעילות. הוא מאפשר את המקסימום בפיתוח אפליקציות ווב ויכול לזרז בצורה משמעותית את תהליך הפיתוח של האפליקציה. השם Yii (המבוטא כ ''Yee'' או `[Ji:]`) שמשמעותו *קל*, *יעיל* ו *ניתן להרחבה*.\r\n\r\nדרישות\r\n------------\r\n\r\nבכדי להריץ אפליקציות אשר בנויות על גבי Yii, יש צורך בשרת התומך ב PHP 5.1.0 או יותר.\r\n\r\nלמפתחים אשר רוצים להשתמש ב Yii, הבנת תכנות מונחה עצמים (OOP) מאוד יעזור, מאחר ו Yii הינה פריימוורק הבנוי כולה ב OOP.\r\n\r\nמה השימוש הטוב ביותר עבור Yii?\r\n---------------------\r\n\r\nYii הינה פריימורק כללי המאפשר פיתוח של כמעט כל אפליקצית ווב אפשרית. בגלל שהיא קלת-משקל ומצויידת בכל טכנולוגיות המטמון המתוחכמות והאחרונות, היא מותאמת במיוחד לפיתוח של אפליקציות בעלות תעבורה גבוהה במיוחד, כמו פורטלים, פורומים, מערכות ניהול תוכן, חנויות וירטואליות, וכדומה.\r\n\r\nכיצד אפשר להשוות בין Yii לשאר הפריימוורקס?\r\n------------------------------------------\r\n\r\nכמו ברוב הפריימוורקים, Yii בנויה על גבי MVC.\r\n\r\nYii מעפילה על גבי פריימוורקים אחרים מהסיבות שהיא יעילה, מכילה אפשרויות רבות, ומתועדות בצורה נרחבת וברורה. Yii בנויה בזהירות מהתחלה בכדי להתאים לצרכים של אפליקציות ווב רציניות.\r\nהוא אינו תוצר לואי מפרוייקט מסויים ולא מצבור של ספריות צד-שלישי. זו התוצאה של הניסיון הרב של צוות הפיתוח שחקר וחישב תוך כדי הסתכלות על פריימוורקס PHP והאפליקציות הפופולריות ביותר.\r\n\r\n<div class="revision">$Id: quickstart.what-is-yii.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(37, 'test.fixture', 'test.fixture', '', '﻿הגדרת נתונים התחלתיים\r\n=================\r\n\r\nבדיקות אוטומטיות בדרך כלל מתבצעות מספר רב של פעמים. בכדי לוודא שתהליך הבדיקה יכול לחזור על עצמו, אנו נרצה להריץ אתה הבדיקה במצב ידוע הנקרא *fixture*. לדוגמא, בכדי לבדוק את אפשרות פרסום הודעה באפליקצית בלוג, בכל פעם שאנו מריצים את הבדיקה, הטבלאות השומרות מידע הקשור להודעות (לדוגמא, טבלת ה `Post`, טבלת ה `Comment`) יש צורך בלשחזר את הטבלה למצב התחלתי כלשהו. הדוקומנטציה של  [PHPUnit ](http://www.phpunit.de/wiki/Documentation) מתארת באופן מעמיק לגבי התקנת טבלאות קבועות כללית. בחלק זה, אנו בעיקר נתאר כיצד להגדיר מידע קבוע עבור טבלאות, כפי שתארנו בדוגמא.\r\n\r\nהגדרת טבלאות קבועות (fixture) הוא אחד החלקים שלוקחים הכי הרבה זמן להגדרה בעבור אפליקציה שמשתמשת במסד נתונים לצורך שמירת מידע.  Yii מספקת רכיב בשם [CDbFixtureManager] בכדי לפשט בעיה זו. רכיב זה מבצע את הפעולות בהבאות בעת הרצת סט של בדיקות:\r\n\r\n* לפני שכל הבדיקות רצות, הרכיב מאפס את כל הטבלאות הרצויות למצב התחלתי וידוע.\r\n* לפני הרצת מתודת בדיקה אחת, היא מאפסת את הטבלאות הרצויות למצב התחלתי וידוע.\r\n* במהלך הרצת מתודת בדיקה, היא מאפשרת גישה לשורות הקשורות לאותה בדיקה.\r\n\r\nבכדי להשתמש ב [CDbFixtureManager], אנו מגדירים אותו [קובץ הגדרות האפליקציה](/doc/guide/basics.application#application-configuration) בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''fixture''=>array(\r\n            ''class''=>''system.test.CDbFixtureManager'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nלאחר מכן אנו מספקים את המידע אודות הטבלאות הקבועות תחת התיקיה `protected/tests/fixtures`. ניתן לשנות את התיקיה לתיקיה במיקום אחר על ידי הגדרת המאפיין [CDbFixtureManager::basePath] בהגדרות האפליקציה. המידע אודות הנתונים ההתחלתיים לטבלאות מסודר כאוסף של קבצי PHP הנקראים קבצי fixture. כל קובץ התחלתי לטבלאות מחזיר מערך המייצג את המידע ההתחלתי לטבלה מסויימת. שם הקובץ הוא זהה לשם הטבלה. להלן דוגמא למידע עבור הטבלה `Post` הנשמר בקובץ בשם `Post.php`:\r\n\r\n~~~\r\n[php]\r\n<?php\r\nreturn array(\r\n    ''sample1''=>array(\r\n        ''title''=>''test post 1'',\r\n        ''content''=>''test post content 1'',\r\n        ''createTime''=>1230952187,\r\n        ''authorId''=>1,\r\n    ),\r\n    ''sample2''=>array(\r\n        ''title''=>''test post 2'',\r\n        ''content''=>''test post content 2'',\r\n        ''createTime''=>1230952287,\r\n        ''authorId''=>1,\r\n    ),\r\n);\r\n~~~\r\n\r\nכפי שניתן לראות, ישנם שני שורות של מידע המוחזרות בקוד המוצג למעלה. כל שורה מיוצגת כמערך שמפתחותיו הם שמות העמודות בטבלה והערכים של המפתחות הם הערכים השמורים בעמודות בטבלה. בנוסף, כל שורה מאונדקסת על ידי סטרינג (לדוגמא `sample1`, `sample2`) הנקראים *שמות מקוצרים לשורות*. אחר כך, כשאנו נכתוב סקריפטים לבדיקה, אנו יכולים להתייחס לכל שורה על ידי שמה המקוצר. אנו נסביר לגבי זה בהרחבה בחלק הבא.\r\n\r\nכפי שניתן לראות אנו לא מגדירים את העמודה `id` בקוד למעלה. זה מכיוון שהעמודה `id` מוגדרת כמפתח ראשי שערכו יתמלא באופן אוטומטי בכל שורה חדשה שנוסיף.\r\n\r\nברגע שהרכיב [CDbFixtureManager] יקרא בפעם הראשונה, הוא יעבור על כל קבצי הטבלאות הקבועות ויאפס אותם למצב התחלתי. הוא מאפס טבלה על ידי ריקון הטבלה מתוכן, מאפס את המספר העולה של העמודה המכילה את המפתח הראשי בטבלה, ואז מוסיפה את הנתונים מקבצי הטבלאות הקבועים לטבלה.\r\n\r\nלפעמים, אנו לא נרצה לאפס כל טבלה המכילה מצב התחלתי כלשהו לפני שאנו מריצים בדיקות, בגלל שאיפוס כמה טבלאות קבועות יכול לקחת הרבה זמן. במקרה זה, אנו יכולים לכתוב סקריפט PHP בכדי לבצע את העבודה ההתחלתית בצורה מותאמת אישית. הסקריפט צריך להשמר בקובץ בשם `init.php` תחת התיקיה המכילה את קבצי הטבלאות הקבועות. ברגע שהרכיב [CDbFixtureManager] יזהה את הקיום של קובץ זה, הוא יריץ את הקובץ הזה במקום לאפס כל טבלה.\r\n\r\nאפשרות נוספת היא שאנו לא נרצה להשתמש בדרך ברירת המחדל של איפוס טבלה, כלומר, איפוס הטבלה והוספת הנתונים הקבועים לתוכה. למקרה זה, אנו יכולים לכתוב סקריפט התחלתי ספציפית לקובץ ''מידע התחלתי לטבלה'' מסויים. הסקריפט צריך להשמר בקובץ PHP תחת שם הטבלה ולאחריו `.init.php`. לדוגמא, הקובץ ההתחלתי עבור הטבלה `Post` יהיה `Post.init.php`. ברגע שהרכיב [CDbFixtureManager] יזהה שסקריפט זה קיים, הוא יריץ את הסקריפט הזה במקום להריץ את הסקריפט אשר מאפס את הטבלה בצורה הרגילה.\r\n\r\n> Tip|טיפ: במידה ויהיו הרבה קבצי ''מידע התחלתי לטבלה'' כלומר הרבה קבצים של מצב התחלתי עבור טבלאות, זה יכול לעלות את משך זמן הבדיקה בצורה משמעותית. מסיבה זו, עליך להגדיר קבצי ''מידע התחלתי לטבלה'' עבור טבלאות שהתוכן שלהם משתנה בלבד במהלך הבדיקה. טבלאות אשר משמשות עבור קישורים בין טבלה אחת לשנייה תוכנם לא משתנה לכן אין צורך בליצור עבורם קבצי ''מידע התחלתי לטבלה''.\r\n\r\nבשני החלקים הבאים, אנו נתאר כיצד להשתמש במצבים ההתחלתיים המנוהלים על ידי [CDbFixtureManager] בבדיקות יחידה ובדיקות פונקציונליות.\r\n\r\n<div class="revision">$Id: test.fixture.txt 1148 2009-06-18 22:06:22Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(38, 'test.functional', 'test.functional', '', '﻿בדיקות פונקציונליות\r\n==================\r\n\r\nלפני קריאה של חלק זה, מומלץ לקרוא קודם את הדוקומנטציה של [Selenium](http://seleniumhq.org/docs/) ושל [PHPUnit](http://www.phpunit.de/wiki/Documentation). אנו מסכמים בחלק זה את העקרונות הבסיסים לכתיבת בדיקות פונקציונליות ב Yii:\r\n\r\n* בדומה לבדיקות יחידה, בדיקה פונקציונלית נכתבת במונחים של מחלקה `XyzTest` היורשת מהמחלקה [CWebTestCase], כש `Xyz` מתייחס למחלקה הנבדקת. בגלל שהמחלקה `PHPUnit_Extensions_SeleniumTestCase` הינה מחלקת אב למחלקה [CWebTestCase], אנו יכולים להשתמש בכל המתודות הנמצאות בה.\r\n\r\n* מחלקת הבדיקה הפונקציונלית נשמרת בקובץ PHP בשם `XyzTest.php`. על פי המוסכמות, הקובץ נשמר תחת `protected/tests/functional`.\r\n\r\n* מחלקת הבדיקות בעיקר מכילה סט של מתודות לבדיקה בשם `testAbc`, כש `Abc` הוא בדרך כלל שם האפשרות שנבדקת. לדוגמא, בכדי לבדוק את אפשרות התחברות המשתמשים אנו יכולים לקרוא למתודה בשם `testLogin`.\r\n\r\n* מתודת בדיקה בדרך כלל מכילה רצף של ביטויים אשר ישלחו פקודות עבור Selenium בכדי לתקשר מול אפליקצית הווב הנבדקת. בנוסף היא מכילה בדיקות לוודא שהאפליקציה מגיבה כמו שצריך.\r\n\r\nלפני שנסביר כיצד לכתוב בדיקות פונקציונליות, הבא נבדוק את הקובץ `WebTestCase.php` שנוצר על ידי פקודת הכלי `yiic webapp`. קובץ זה מגדיר את המחלקה `WebTestCase` שיכול לשרת כמחלקת בסיס לכל מחלקות הבדיקה הפונקציונליות.\r\n\r\n~~~\r\n[php]\r\ndefine(''TEST_BASE_URL'',''http://localhost/yii/demos/blog/index-test.php/'');\r\n\r\nclass WebTestCase extends CWebTestCase\r\n{\r\n    /**\r\n     * Sets up before each test method runs.\r\n     * This mainly sets the base URL for the test application.\r\n     */\r\n    protected function setUp()\r\n    {\r\n        parent::setUp();\r\n        $this->setBrowserUrl(TEST_BASE_URL);\r\n    }\r\n\r\n    ......\r\n}\r\n~~~\r\n\r\nהמחלקה `WebTestCase` בעיקר מגדירה את הקישורים של העמודים אותם צריך לבדוק. לאחר מכן במתודות בדיקה, אנחנו יכולים להשתמש בקישורים רלטיבים בכדי להגדיר אילו עמודים לבדוק.\r\n\r\nכמו כן אנחנו צריכים לשים לב שבקישור הבדיקה הבסיסי, אנחנו משתמשים ב `index-test.php` כקובץ הכניסה הראשי במקום `index.php`. ההבדל היחידי בין `index-test.php` ו `index.php` הוא שהקודם משתמש בקובץ הגדרות `test.php` והשני משתמש בקובץ הגדרות `main.php`.\r\n\r\nכעת אנו נסביר כיצד לבדוק את האפשרות של תצוגה הודעה [בבלוג](http://www.yiiframework.com/demos/blog). קודם אנו כותבים את מחלקת הבדיקה בצורה הבאה, בידיעה שמחלקת הבדיקה שאנו כותבים יורשת ממחלקת הבסיס שכרגע הסברנו עליה:\r\n\r\n~~~\r\n[php]\r\nclass PostTest extends WebTestCase\r\n{\r\n    public $fixtures=array(\r\n        ''posts''=>''Post'',\r\n    );\r\n\r\n    public function testShow()\r\n    {\r\n        $this->open(''post/1'');\r\n        // וודא שכותרת קיימת להודעה\r\n        $this->assertTextPresent($this->posts[''sample1''][''title'']);\r\n        // וודא שקיים טופס לתגובה\r\n        $this->assertTextPresent(''Leave a Comment'');\r\n    }\r\n\r\n    ......\r\n}\r\n~~~\r\n\r\nבדומה לכתיבת מחלקה לבדיקת יחידה, אנו מגדירים את הטבלאות הקבועות שאנו משתמשים בבדיקה זו. כאן אנו מצביעים שהטבלה הקבועה `Post` צריכה להיות בשימוש. במתודת הבדיקה `testShow`, אנו קודם אומרים ל Selenium-RC לפתוח את הקישור `post/1`. זהו קישור רלטיבי, והקישור המלא נוצר על ידי איחוד הקישור הזה לקישור הבסיס שהגדרנו במחלקת הבסיס (זאת אומרת `http://localhost/yii/demos/blog/index-test.php/post/1`). לאחר מכן אנו מאמתים שאנו יכולים למצוא את הכותרת של ההודעה `sample1` בעמוד הנוכחי. ואנו מוודאים שהעמוד מכיל את הטקסט `Leave a Comment`.\r\n\r\n> Tip|טיפ: לפני הרצת בדיקות פונקציונליות, יש להפעיל את שרת Selenium-RC. ניתן לבצע זאת על ידי הרצת הפקודה `java -jar selenium-server.jar` תחת התיקיה בה מותקן שרת ה Selenium-RC.\r\n\r\n<div class="revision">$Id: test.functional.txt 1662 2010-01-04 19:15:10Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(39, 'test.overview', 'test.overview', '', '﻿סקירה\r\n========\r\n\r\n> Note|הערה: בכדי לבצע את הפעולות בחלקים הבאים יש לעבוד עם Yii 1.1 ומעלה. התמיכה בבדיקות קיימת רק מגרסאות 1.1 ומעלה. למרות, שאין זה אומר שאינכם יכולים לבדוק את האפליקציות שלכם שפותחו בעזרת Yii 1.0. ישנם עשרות כלים שתוכלו להעזר בהם בכדי לבצע בדיקות על גבי האפליקציה, כמו לדוגמא [PHPUnit](http://www.phpunit.de/), [SimpleTest](http://www.simpletest.org/).\r\n\r\nבדיקות הן תהליך הכרחי בפיתוח תוכנה. בין אם אנו מודעים לזה או לא, אנו מבצעים בדיקות כל הזמן בזמן שאנו מפתחים אפליקציה. לדוגמא, כשאנו כותבים מחלקה ב PHP, אנו משתמשים בביטויים כמו `echo` או `die` בכדי לראות אם הקוד שכתבנו עובד כמו שצריך; כשאנו מיישמים עמוד כלשהו המכיל קוד HTML מורכב, אנו יכולים להכניס בדיקות שונות בכדי לדעת אם העמוד מתקשר עמנו כצפוי או לא. מפתחים מתקדמים יותר בדרך כלל כותבים קוד מסויים שמבצע את התהליך הזה אוטומטית כדי שבכל פעם שהם צריכים לבדוק משהו, הם צריכים רק לכתוב את הקוד ולתת למחשב לבצע את פעולות הבדיקה. זה ידוע בשם *בדיקות אוטומטיות*, שזהו הנושא העיקרי של חלק זה.\r\n\r\nהתמיכה בבדיקות שמגיע עם Yii כוללת *בדיקות יחידה* ו *בדיקות פונקציונליות*.\r\n\r\nבדיקות יחידה מאמתות שיחידה אחת בקוד עובדת כמו שצריך. בתכנות מונחה עצמים, יחידת הקוד הבסיסית ביותר הינה מחלקה. לכן בדיקות היחידה צריכות לאמת שכל המתודות במחלקה עובדות כמו שצריך. זאת, לאחר שהמתודה מקבלת פרמטרים שונים היא צריכה לבדוק שהיא מחזירה תוצאה נכונה. בדיקות יחידה בדרך כלל נכתבות על ידי אותם מפתחים הכותבים את המחלקה.\r\n\r\nבדיקה פונקציונלית בדרך כלל בודקת שאפשרות מסויימת (לדוגמא ניהול הודעות במערכת בלוגים) עובדת כמו שצריך. בהשוואה לבדיקת יחידה, בדיקה פונקציונלית יושבת ברמה גבוהה יותר מאחר והאפשרות הנבדקת בדרך כלל מכילה כמה מחלקות. בדיקות פונקציונליות בדרך כלל נכתבות על ידי משתמשים שיודעים טוב מאוד את דרישות המערכת (בין אם זה המפתחים או מהנדסים).\r\n\r\nפיתוח מונחה-בדיקות\r\n=======================\r\n\r\nלמטה מופיעה רשימה של תהליך הפיתוח במה שנקרא [פיתוח מונחה-בדיקות](http://he.wikipedia.org/wiki/%D7%A4%D7%99%D7%AA%D7%95%D7%97_%D7%9E%D7%95%D7%A0%D7%97%D7%94_%D7%91%D7%93%D7%99%D7%A7%D7%95%D7%AA) :\r\n\r\n1. יצירת בדיקה חדשה המכסה אפשרות ליישום. הבדיקה צריכה להכשל בהרצה הראשונה שלה מאחר והאפשרות עדיין לא קיימת.\r\n2. הרץ את כל הבדיקות וודא שהבדיקה החדשה תכשל.\r\n3. כתוב קוד כדי שהבדיקה החדשה שנוצר לא תכשל.\r\n4. הרץ את כל הבדיקות וודא שהם כולם עובדות כמו שצריך.\r\n5. בדוק/כתוב מחדש את הקוד שנכתב לאחרונה והרץ שוב את כל הבדיקות וודא שכולם עובדות כמו שצריך.\r\n\r\nחזור על השלבים 1-5 בכדי להגיע לסיום יישום האפשרות החדשה.\r\n\r\nהגדרת סביבת בדיקות\r\n======================\r\n\r\nהבדיקות הנתמכות ב Yii דורשות [PHPUnit](http://www.phpunit.de/) 3.3+ ו [Selenium Remote Control](http://seleniumhq.org/projects/remote-control/) 1.0+. אנא קראה את הדוקומנטציה שלהם בכדי לדעת כיצד להתקין אותם.\r\n\r\nלאחר מכן אנו נשתמש בכלי `yiic webapp` במסוף בכדי ליצור אפליקציה חדשה, הכלי יצור את הקבצים והתיקיות הבאות בכדי שאנו נוכל לבצע בדיקות:\r\n\r\n~~~\r\ntestdrive/\r\n   protected/                מכיל קבצים מוגנים של האפליקציה\r\n      tests/                 מכיל בדיקות לאפליקציה\r\n         fixtures/           מכיל טבלאות קבועות למסד נתונים\r\n         functional/         מכיל בדיקות פונקציונליות\r\n         unit/               מכיל בדיקות יחידה\r\n         report/             מכיל דוחות בדיקה\r\n         bootstrap.php       הסקריפט שרץ בהתחלה\r\n         phpunit.xml         קובץ הגדרות של PHPUnit\r\n         WebTestCase.php     מחלקת הבסיס לכל הבדיקות באפליקציה\r\n~~~\r\n\r\nכפי שמוצג למעלה, קוד הבדיקות שנכתוב ימוקם בדרך כלל באחת משלושת התיקיות: `fixtures`, `functional` ו `unit`, והתיקיה `report` יכיל את הדוחות של הבדיקות שנעשו.\r\n\r\nבכדי להריץ בדיקות (בין אם זה בדיקות יחידה או פונקציונליות), אנו יכולים להריץ את הפקודות הבאות בחלון המסוף:\r\n\r\n~~~\r\n% cd testdrive/protected/tests\r\n% phpunit functional/PostTest.php    // הרצת בדיקה אחת\r\n% phpunit --verbose functional       // הרצת כל הבדיקות תחת ''functional''\r\n% phpunit --coverage-html ./report unit\r\n~~~\r\n\r\nבקוד למעלה, הפקודה האחרונה תריץ את כל הבדיקות הנמצאות בתיקיה `unit` ותיצור דוח בתוך התיקיה `report`. יש לדעת שבכדי שיווצר דוח אודות הבדיקה יש להתקין ולהפעיל את התוסף [xdebug ](http://www.xdebug.org/).\r\n\r\n\r\nסקריפט ההתחלה של הבדיקות\r\n====================\r\n\r\nבואו נבדוק מה יכול להיות בתוך קובץ ה `bootstrap.php`. קובץ זה חשוב מאחר והוא דומה לקובץ [הכניסה הראשי](/doc/guide/basics.entry) והוא נקודת ההתחלה בכל פעם שאנו מריצים בדיקות.\r\n\r\n~~~\r\n[php]\r\n$yiit=''path/to/yii/framework/yiit.php'';\r\n$config=dirname(__FILE__).''/../config/test.php'';\r\nrequire_once($yiit);\r\nrequire_once(dirname(__FILE__).''/WebTestCase.php'');\r\nYii::createWebApplication($config);\r\n~~~\r\n\r\nבקוד למעלה, אנו קודם מצרפים את הקובץ `yiit.php` מהתיקיה של הפריימוורק, אשר מגדירה ערכים גלובליים ומוסיפה את מחלקות הבסיס הנחוצות. לאחר מכן אנו יוצרים אובייקט של אפליקצית ווב בעזרת קובץ ההגדרות `test.php`. אם נבדוק את קובץ ה `test.php`, אנו נראה שהוא יורש מקובץ ההגדרות `main.php` ומוסיף רכיב אפליקציה בשם `fixture` שמחלקתו הינה [CDbFixtureManager]. אנו נסביר אודות אפשרות זו בחלק הבא.\r\nֿ\r\n~~~\r\n[php]\r\nreturn CMap::mergeArray(\r\n    require(dirname(__FILE__).''/main.php''),\r\n    array(\r\n        ''components''=>array(\r\n            ''fixture''=>array(\r\n                ''class''=>''system.test.CDbFixtureManager'',\r\n            ),\r\n            /* הסר הערה זו בכדי להגדיר מסד נתונים לבדיקות\r\n            ''db''=>array(\r\n                ''connectionString''=>''DSN for test database'',\r\n            ),\r\n            */\r\n        ),\r\n    )\r\n);\r\n~~~\r\n\r\nכשאנו מריצים בדיקות המערבות מסד נתונים, מומלץ להגדיר מסד נתונים לצרכי בדיקה בלבד בכדי שהבדיקות לא יפריעו לפעילויות בזמן תהליך הפיתוח או תהליך התפוקה. בכדי לבצע זאת, אנו צריכים להסיר את ההערה מסביב להגדרות ה `db` בקוד המוצג למעלה ולהגדיר את המאפיין `connectionString` עם ה DSN המתאים למסד הנתונים בו אנו משתמשים.\r\n\r\nבעזרת קובץ סקריפט זה, כשאנו מריצים בדיקות יחידה, אנו נקבל אובייקט של האפליקציה שהוא כמעט זהה לאובייקט שרץ לאפליקצית הווב. ההבדל היחידי הוא שהוא משתמש באפשרות של `fixtures` והוא משתמש במסד נתונים לצרכי בדיקה.\r\n\r\n<div class="revision">$Id: test.overview.txt 1813 2010-02-18 21:33:16Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(40, 'test.unit', 'test.unit', '', '﻿בדיקת יחידות\r\n============\r\n\r\nמאחר ומערכת הבדיקות של Yii בנויה על גבי [PHPUnit](http://www.phpunit.de/), מומלץ לעבור על [דוקומנטציה](http://www.phpunit.de/wiki/Documentation) של PHPUnit קודם בכדי לקבל מושג והבנה ראשונית בנוגע לכתיבת בדיקות. אנו מסכמים את העקרונות הבסיסיים אודות כתיבת בדיקות ב Yii.\r\n\r\n* בדיקת יחידה נכתבת במונחים של מחלקה `XyzTest` היורשת ממחלקת הבסיס [CTestCase] או [CDbTestCase]. כש `Xyz` הינה המחלקה שאותה בודקים. לדוגמא, בכדי לבדוק את המחלקה `Post`, אנו נקרא ליחידת הבדיקה כ `PostTest` לפי המוסכמות. המחלקה הבסיסית [CTestCase] נועדה לבדיקות יחידה כלליות, והמחלקה הבסיסית [CDbTestCase] תואמת לבדיקת מחלקות [AR](/doc/guide/database.ar). בגלל ש `PHPUnit_Framework_TestCase` הינה מחלקת אב לשני המחלקות, אנו יכולים להשתמש בכל המתודות של מחלקה זו.\r\n\r\n* מחלקת בדיקת היחידה נשמרת בקובץ PHP בשם `XyzTest.php`. לפי המוסכמות, ניתן לשמור את קובץ הבדיקה תחת התיקיה `protected/tests/unit`.\r\n\r\n* מחלקת הבדיקה מכילה בעיקר סט של מתודות בשם `testAbc`, כש `Abc` בדרך כלל הינו שם מתודת המחלקה לבדיקה.\r\n\r\n* מתודת בדיקה בדרך כלל מכילה רצף של ביטויי בדיקות (לדוגמא `assertTrue`, `assertEquals`) המשרתות כנקודות ביקורת לבדיקת התנהגות של המחלקה.\r\n\r\nבחלק הבא, אנו בעיקר נסביר כיצד לכתוב בדיקות יחידה עבור מחלקות [AR](/doc/guide/database.ar). אנו נרחיב את המחלקות שלנו ממחלקת הבסיס [CDbTestCase] מאחר והיא מספקת תמיכה בקיבוע מסדי הנתונים אשר הצגנו בחלק הקודם.\r\n\r\nנניח שאנו רוצים לבדוק את מחלקת המודל `Comment` [בדמו של הבלוג](http://www.yiiframework.com/demos/blog/). אנו מתחילים על ידי יצירת מחלקה בשם `CommentTest` ושמירתו תחת `protected/tests/unit/CommentTest.php`:\r\n\r\n~~~\r\n[php]\r\nclass CommentTest extends CDbTestCase\r\n{\r\n    public $fixtures=array(\r\n        ''posts''=>''Post'',\r\n        ''comments''=>''Comment'',\r\n    );\r\n\r\n    ......\r\n}\r\n~~~\r\n\r\nבמחלקה, אנו מגדירים את המאפיין `fixtures` למערך הקובע אילו טבלאות קבועות יהיו בשימוש בבדיקה זו. המערך מייצג מיפוי של טבלאות קבועות בבדיקה לבין שמות מחלקות מודלים או שמות טבלאות (לדוגמא מטבלה קבוע `posts` למחלקת מודל `Posts` ). זכור, בעת מיפוי לשמות טבלאות קבועות למטרת הבדיקה, אנו צריכים להגדיר קידומת של נקודותיים (:) לשם הטבלה (לדוגמא `Post:` ) בכדי להבדיל אותו משם מודל המחלקה. ובעת שימוש בשמות של מחלקות מודלים, הטבלאות המדוברות יחשבו כטבלאות בדיקה קבועות. כפי שהסברנו קודם, שמות הטבלאות הקבועות יאופסו למצב ידוע כלשהו בכל פעם שמתודת בדיקה תרוץ.\r\n\r\nשמות טבלאות קבועות מאפשרות לנו לגשת למידע הקבוע במתודות בדיקה בדרך מאוד נוחה. הקוד הבא מציג את השימוש האופיני:\r\n\r\n~~~\r\n[php]\r\n// החזרת כל השורות בטבלה הקבועה `Comments`\r\n$comments = $this->comments;\r\n// החזרת השורה ששמה המקוצר הוא `sample1` בטבלה `Post`\r\n$post = $this->posts[''sample1''];\r\n// החזרת אובייקט ה AR המייצג את השורה `sample1`\r\n$post = $this->posts(''sample1'');\r\n~~~\r\n\r\n> Note|הערה: במידה וטבלה קבועה הוצהרה על ידי שם הטבלה שלה (לדוגמא `''posts''=>'':Post''`), אז השימוש השלישי בקוד למעלה הוא אינו תקין מאחר ואין לנו מידע לגבי מחלקת המודל אשר משוייכת לטבלה.\r\n\r\nלאחר מכן, אנו כותבים את מתודת ה `testApprove` בכדי לבדוק את המתודה `approve` במחלקת המודל `Comment`. הקוד הוא מאוד ישיר: אנו קודם מוסיפים תגובה שהיא במצב המתנה; לאחר מכן אנו מוודאים שתגובה זו היא במצב המתנה על ידי קבלתה ממסד הנתונים; ולבסוף אנו קוראים למתודת `approve` ומאמתים שהססטוס השתנה בצורה נכונה.\r\n\r\n~~~\r\n[php]\r\npublic function testApprove()\r\n{\r\n    // הוספת תגובה במצב המתנה\r\n    $comment=new Comment;\r\n    $comment->setAttributes(array(\r\n        ''content''=>''comment 1'',\r\n        ''status''=>Comment::STATUS_PENDING,\r\n        ''createTime''=>time(),\r\n        ''author''=>''me'',\r\n        ''email''=>''me@example.com'',\r\n        ''postId''=>$this->posts[''sample1''][''id''],\r\n    ),false);\r\n    $this->assertTrue($comment->save(false));\r\n\r\n    // אימות במידה והתגובה באמת במצב המתנה\r\n    $comment=Comment::model()->findByPk($comment->id);\r\n    $this->assertTrue($comment instanceof Comment);\r\n    $this->assertEquals(Comment::STATUS_PENDING,$comment->status);\r\n\r\n    // קריאה למתודה approve  ובדיקת התגובה שהיא נמצאת במצב פעיל\r\n    $comment->approve();\r\n    $this->assertEquals(Comment::STATUS_APPROVED,$comment->status);\r\n    $comment=Comment::model()->findByPk($comment->id);\r\n    $this->assertEquals(Comment::STATUS_APPROVED,$comment->status);\r\n}\r\n~~~\r\n\r\n\r\n<div class="revision">$Id: test.unit.txt 1745 2010-01-24 14:23:36Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(41, 'toc', 'toc', '', '﻿* התחלה\r\n    - [סקירה](index)\r\n    - [שינויים ואפשרויות חדשות](changes)\r\n    - [עדכון המערכת מגרסא 1.0 לגרסא 1.1](upgrade)\r\n    - [מה זה Yii](quickstart.what-is-yii)\r\n    - [התקנה](quickstart.installation)\r\n    - [יצירת אפליקציה בפעם הראשונה](quickstart.first-app)\r\n\r\n* יסודות המערכת\r\n    - [מודל-תצוגה-קונטרולר (MVC)](basics.mvc)\r\n    - [אתחול המערכת](basics.entry)\r\n    - [אפליקציות](basics.application)\r\n    - [קונטרולר](basics.controller)\r\n    - [מודל](basics.model)\r\n    - [תצוגה](basics.view)\r\n    - [רכיב](basics.component)\r\n    - [מודול](basics.module)\r\n    - [נתיבי קבצים ומרחבי שמות](basics.namespace)\r\n    - [מוסכמות לאופן כתיבת הקוד](basics.convention)\r\n    - [רצף עבודת התכנות](basics.workflow)\r\n\r\n* עבודה עם טפסים\r\n    - [סקירה](form.overview)\r\n    - [יצירת מודל](form.model)\r\n    - [יצירת פעולה](form.action)\r\n    - [יצירת טופס](form.view)\r\n    - [איסוף קלט טבלאי](form.table)\r\n- [שימוש במערכת יצירת הטפסים](form.builder)\r\n\r\n* עבודה עם מסדי נתונים\r\n    - [סקירה](database.overview)\r\n    - [שימוש ב DAO](database.dao)\r\n    - [שימוש ב AR](database.ar)\r\n    - [שימוש ב ARR](database.arr)\r\n\r\n* ניהול מטמון\r\n    - [סקירה](caching.overview)\r\n    - [מטמון נתונים](caching.data)\r\n    - [מטמון בחלקים](caching.fragment)\r\n    - [מטמון עמודים](caching.page)\r\n    - [תוכן דינאמי](caching.dynamic)\r\n\r\n* הרחבת Yii\r\n    - [סקירה](extension.overview)\r\n    - [שימוש בתוספות](extension.use)\r\n    - [יצירת תוספות](extension.create)\r\n    - [שימוש בספריות צד שלישי](extension.integration)\r\n\r\n* הרצת בדיקות\r\n    - [סקירה](test.overview)\r\n    - [נתונים התחלתיים](test.fixture)\r\n    - [בדיקות יחידה](test.unit)\r\n    - [בדיקות פונקציונליות](test.functional)\r\n\r\n* נושאים מיוחדים\r\n    - [יצירת קוד אוטומטי](topics.gii)\r\n    - [ניהול קישורים](topics.url)\r\n    - [אימות משתמשים וניהול גישות](topics.auth)\r\n    - [ניהול תבניות ועיצוב](topics.theming)\r\n    - [תיעוד פעולות](topics.logging)\r\n    - [ניהול וטיפול בשגיאות](topics.error)\r\n    - [שרותים חיצוניים](topics.webservice)\r\n    - [ניהול ותמיכה בשפות](topics.i18n)\r\n    - [תחביר תצוגה נוסף](topics.prado)\r\n    - [אפלקציות מסוף ובקרה](topics.console)\r\n    - [אבטחה](topics.security)\r\n    - [שיפור ביצועי המערכת](topics.performance)\r\n    - [יצירת קןד בעזרת כלי שורת הפקודות (לא נתמך)](quickstart.first-app-yiic)\r\n\r\n<div class="revision">$Id: toc.txt 2098 2009-12-18 19:39:18Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(42, 'topics.auth', 'topics.auth', '', '﻿אימות משתמשים וניהול גישות\r\n================================\r\n\r\nאימות וניהול גישות עבור משתמשים דרוש הם פרט הכרחי עבור עמודים אשר מוגבלים למשתמשים מסויימים. אימות משתמשים נועדה לוודא שהמשתמש שמאומת הוא אכן מי שהוא טוען שהוא. פעולה זו בדרך כלל כרוכה בהזנה של שם משתמש וסיסמא, אך יכולה לכלול דרכים נוספות כדי להציג את הזהות, כמו כרטיס חכם, טביעות אצבע, וכדומה. ניהול גישות הינה פעולה שמבררת אם המשתמש, אשר מחובר (לאחר ביצוע האימות), מורשה לתפעל משאבים מסויימים.\r\nזה בדרך כלל נקבע על ידי בירור אם אותו משתמש הוא בעל תפקיד אשר יכול לגשת לאותם משאבים.\r\n\r\nYii מגיעה עם מערכת אימות וניהול משתמשים מובנת אשר קלה לשימוש וניתנת להתאמה אישית לצרכים מיוחדים.\r\n\r\nהחלק המרכזי במערכת אימות המשתמשים הוא רכיב המשתמשים אשר מוגדר מראש שהינו אובייקט המיישם את הממשק [IWebUser]. רכיב המשתמשים מייצג את המידע הקבוע אודות זהות המשתמש הנוכחי. אנו יכולים לגשת אליו בכל מקום בעזרת `Yii::app()->user`.\r\n\r\nעל ידי שימוש ברכיב המשתמשים אנו יכולים לבדוק אם משתמש מחובר או לא בעזרת [CWebUser::isGuest]; אנו יכולים [לחבר|CWebUser::login] [ולנתק|CWebUser::logout] משתמש; אנו יכולים לבדוק אם משתמש מורשה לבצע פעולות מסויימות בעזרת קריאה ל [CWebUser::checkAccess]; כמו כן אנו יכולים להשיג את [המזהה היחודי|CWebUser::name] של המשתמש הנוכחי ומידע נוסף אודות זהות המשתמש.\r\n\r\nהגדרת מחלקת זהות משתמש\r\n-----------------------\r\n\r\nבכדי לזהות משתמש, אנו מגדירים מחלקת זהות משתמש אשר כוללת את לוגיקת האימות עצמה. מחלקת זהות המשתמש צריכה ליישם את הממשק [IUserIdentity]. מחלקות שונות ניתנות ליישום עבור גישות אימות משתמשים שונות (לדוגמא, OpenID, LDAP). התחלה טובה תיהיה על ידי הרחבה של המחלקה [CUserIdentity] שהינה המחלקה הבסיסית עבור אימות המשתמשים בהתבסס על שם משתמש וסיסמא.\r\n\r\nהעבודה העיקרית בהגדרת מחלקת זהות חדשה היא היישום של המתודה [IUserIdentity::authenticate]. מחלקת הזהות יכולה להגדיר מידע נוסף אודות זהות המשתמש שצריך להיות קבוע ונגיש במשך כל הזמן בו המשתמש נמצא באתר.\r\n\r\nבדוגמא הבאה, אנו מאמתים את השם משתמש והסיסמא שסופקו אל מול טבלת המשתמשים הנמצאת במסד בעזרת [Active Record](/doc/guide/database.ar). כמו כן אנו דורסים את המתודה `getId` כדי שתחזיר את המשתנה `id_` המוגדר במהלך אימות המשתמש (כברירת מחדל היישום מחזיר את שם המשתמש כמזהה יחודי של המשתמש). במהלך האימות, אנו שומרים את הערך `title` שנשלף מהמסד בתור מידע קבוע באותו השם על ידי קריאה ל [CBaseUserIdentity::setState].\r\n\r\n~~~\r\n[php]\r\nclass UserIdentity extends CUserIdentity\r\n{\r\n    private $_id;\r\n    public function authenticate()\r\n    {\r\n        $record=User::model()->findByAttributes(array(''username''=>$this->username));\r\n        if($record===null)\r\n            $this->errorCode=self::ERROR_USERNAME_INVALID;\r\n        else if($record->password!==md5($this->password))\r\n            $this->errorCode=self::ERROR_PASSWORD_INVALID;\r\n        else\r\n        {\r\n            $this->_id=$record->id;\r\n            $this->setState(''title'', $record->title);\r\n            $this->errorCode=self::ERROR_NONE;\r\n        }\r\n        return !$this->errorCode;\r\n    }\r\n\r\n    public function getId()\r\n    {\r\n        return $this->_id;\r\n    }\r\n}\r\n~~~\r\n\r\nהנתונים הנשמרים במידע הקבוע (על ידי קריאה ל [CBaseUserIdentity::setState]) יועברו ל [CWebUser] אשר שומר אותם באחסון קבוע, כמו לדוגמא Session. לנתונים אלו ניתן לגשת כמאפיינים של [CWebUser]. לדוגמא, אנו יכולים להשיג את הערך `title` של המשתמש הנוכחי בעזרת `Yii::app()->user->title` (אפשרות זו קיימת החל מגרסא 1.0.3. בגרסאות קודמות, אנו צריכים להשתמש ב `Yii::app()->user->getState(''title'')`).\r\n\r\n> Info|מידע: כברירת מחדל, [CWebUser] משתמש ב Session כאחסון קבוע למידע אודות זהות המשתמש. במידה והאפשרות של התחברות עם עוגיות פעילה (על ידי הגדרת המאפיין [CWebUser::allowAutoLogin] ל True ), ניתן לשמור את המידע אודות זהות המשתמש בעוגיה. וודא שאינך שומר ערכים רגישים בתוך האחסון הקבוע של זהות המשתמש (לדוגמא סיסמא).\r\n\r\nהתחברות והתנתקות\r\n----------------\r\n\r\nשימוש במחלקת הזהות ורכיב ניהול המשתמשים, אנו יכולים ליישם פעולות התחברות וניתוק בקלות.\r\n\r\n~~~\r\n[php]\r\n// חיבור משתמש עם שם המשתמש והסיסמא\r\n$identity=new UserIdentity($username,$password);\r\nif($identity->authenticate())\r\n    Yii::app()->user->login($identity);\r\nelse\r\n    echo $identity->errorMessage;\r\n......\r\n// ניתוק המשתמש הנוכחי\r\nYii::app()->user->logout();\r\n~~~\r\n\r\nכברירת מחדל, משתמש ינותק אחרי זמן מסויים של חוסר פעילות, תלוי בהגדרות [session](http://www.php.net/manual/en/session.configuration.php).\r\nבכדי לשנות התנהגות זו, אנו יכולים להגדיר את המאפיין [allowAutoLogin|CWebUser::allowAutoLogin] של רכיב המשתמשים לערך השווה ל true ולהעביר את משך זמן החיבור הפעיל כפרמטר למתודה [CWebUser::login].\r\nכתוצאה המשתמש יהיה מחובר במשך הזמן שהוגדר, גם אם הוא סוגר את הדפדפן. יש לזכור שאפשרות זו דורשת מדפדפן המשתמש לאפשר שמירת עוגיות.\r\n\r\n~~~\r\n[php]\r\n// חיבור המשתמש למשך 7 ימים\r\n// יש לוודא שהערך allowAutoLogin הוגדר ל true\r\nYii::app()->user->login($identity,3600*24*7);\r\n~~~\r\n\r\nפילטר ניהול גישות\r\n---------------------\r\n\r\nפילטר ניהול גישות הינה תרשים הרשאות המקדים את הפעולה שהמשתמש רוצה לבצע ובודק אם אותו משתמש יכול לבצע אותה. ההרשאות מבוססות על שם משתמש, כתובת IP וסוגי בקשות. ניהול הגישות מתבצע על ידי פילטר בשם ["accessControl"|CController::filterAccessControl].\r\n\r\n> Tip|טיפ: פילטר ניהול גישות הוא מספק עבור מקרים פשוטים. עבור מקרים יותר מסובכים של ניהול גישות והרשאות, ניתן להשתמש בניהול גישות המבוסס על פי תפקידים (RBAC (או קבוצות)) אשר מפורט בהמשך.\r\n\r\nבכדי לשלוט בגישה לפעולות בקונטרולר, אנו מתקינים את פילטר ניהול הגישות על ידי דריסה של המתודה [CController::filters] (ראה\r\n[Filter](/doc/guide/basics.controller#filter) למידע נוסף אודות התקנת פילטר).\r\n\r\n~~~\r\n[php]\r\nclass PostController extends CController\r\n{\r\n    ......\r\n    public function filters()\r\n    {\r\n        return array(\r\n            ''accessControl'',\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו מגדירים שפילטר ניהול הגישות מצורף לכל פעולה של הקונטרולר `PostController`. חוקי ההרשאה המפורטים של פילטר זה מוגדרים על ידי דריסה של המתודה [CController::accessRules] במחלקה של הקונטרולר.\r\n\r\n~~~\r\n[php]\r\nclass PostController extends CController\r\n{\r\n    ......\r\n    public function accessRules()\r\n    {\r\n        return array(\r\n            array(''deny'',\r\n                ''actions''=>array(''create'', ''edit''),\r\n                ''users''=>array(''?''),\r\n            ),\r\n            array(''allow'',\r\n                ''actions''=>array(''delete''),\r\n                ''roles''=>array(''admin''),\r\n            ),\r\n            array(''deny'',\r\n                ''actions''=>array(''delete''),\r\n                ''users''=>array(''*''),\r\n            ),\r\n        );\r\n    }\r\n}\r\n~~~\r\n\r\nהקוד למעלה מגדיר 3 חוקים, כל אחד מיוצג כמערך. האלמנט הראשון במערך הוא `''allow''` או `''deny''` ושאר האלמנטים מגדירים את הפרמטרים של דפוס החוק. חוקים אלו מבצעים: הפעולות `action` ו `create` לא ניתנות לביצוע על ידי משתמשים אנונימיים; פעולת ה `delete` ניתנת לביצוע על ידי משתמשים עם תפקיד של `admin`; ופעולת ה `delete` לא ניתנת לביצוע על ידי כל אחד.\r\n\r\nחוקי הגישות מוערכים אחד אחד בסדר בהם הם הוגדרו. החוק הראשון שתואם לדפו הנוכחי (לדוגמא שם משתמש, תפקיד, כתובת IP, כתובת) קובעת את תוצאת ההרשאה. אם חוק זה הוא חוק `allow`, הפעולה ניתנת לביצוע; במידה וחוק זה הוא `deny`, הפעולה לא ניתנת לביצוע; אם אף אחד מהחוקים לא תואם להקשר, הפעולה עדיין ניתנת לביצוע.\r\n\r\n> Tip|טיפ: בכדי לוודא שהפעולה לא תתבצע תחת הקשר מסויים, רצוי להגדיר חוק התואם לכל של `deny` בסוף סט החוקים, כבדוגמא הבאה:\r\n> ~~~\r\n> [php]\r\n> return array(\r\n>     // ...חוקים נוספים....\r\n>     // החוק הבא מונע גישה לפעולה של מחיקה `delete` בכל ההקשרים\r\n>     array(''deny'',\r\n>         ''actions''=>array(''delete''),\r\n>     ),\r\n> );\r\n> ~~~\r\n> הסיבה שאנו מוסיפים את החוק הזה בסוף הוא כדי למנוע הרצה של הפעולה `delete` במידה ולא נמצא שום הקשר למשתמש הנוכחי. אחרת הפעולה תרוץ אם לאף אחד מהחוקים שמעליו לא נמצאה התאמה.\r\n\r\nלכל הקשר בחוקים ניתן להגדיר את הפרמטרים הבאים:\r\n\r\n- [actions|CAccessRule::actions]: מציין אילו פעולות החוק הזה תקף לגביהם ויהיה ניסיון התאמה. הגדרה זו צריכה להיות מערך של אלמנטים שהם שמות היחודיים של הפעולות. ההשוואה בין השמות אינה רגישה לאותיות גדולות-קטנות.\r\n\r\n- [controllers|CAccessRule::controllers]: מציין אילו קונטרולרים החוק הזה תקף לגביהם ויהיה ניסיון התאמה. הגדרה זו צריכה להיות מערך של אלמנטים שהם שמות היחודיים של הקונטרולרים. ההשוואה בין השמות אינה רגישה לאותיות גדולות-קטנות. אפשרות זו קיימת החל מגרסא 1.0.4.\r\n\r\n- [users|CAccessRule::users]: מציין אילו משתמשים החוק הזה תקף לגביהם ויהיה ניסיון התאמה. הערך שעליו תתבצע ההשואה הוא שם המשתמש - [name|CWebUser::name] ברכיב המשתמשים. ההשוואה בין השמות אינה רגישה לאותיות גדולות-קטנות. ניתן להשתמש כאן בשלושה תווים מיוחדים:\r\n\r\n  - `*`: כל משתמש, הכולל גם את המשתמשים האנונימיים והמשתמשים שפרטיהם אומתו (מחוברים).\r\n  - `?`: משתמשים אנונימים.\r\n  - `@`: משתמשים אשר פרטיהם אומתו (מחוברים).\r\n\r\n- [roles|CAccessRule::roles]: מציין אילו תפקידים (קבוצות) החוק הזה תקף לגביהם ויהיה ניסיון התאמה. אפשרות זו נעזרת [בניהול גישות המבוססת על תפקידים (קבוצות)](#role-based-access-control) אשר מתוארת בחלק הבא. חוק זה מצורף אם [CWebUser::checkAccess] מחזיר ערך true לאחד התפקידים. זכור, רצוי להשתמש בתפקידים בחוק שהוא מוגדר כ `allow` ולא `deny` מאחר ועל פי ההגדרה, תפקיד מייצג הרשאה לבצע פעולה מסויימת. כמו כן, רצוי לזכור שלמרות שאנו משתמשים במונח תפקידים (`roles`) במקרה הזה, הערך שלו יכול להיות כל ערך הרשאתי, הכולל תפקידים, משימות ופעולות.\r\n\r\n- [ips|CAccessRule::ips]: מציין אילו כתובות IP החוק הזה תקף לגביהם ויהיה ניסיון התאמה עם הכתובת של המשתמש הנוכחי.\r\n\r\n- [verbs|CAccessRule::verbs]: מציין אילו סוגי בקשות (`GET`, `POST`) החוק הזה תקף לגביהם ויהיה ניסיון התאמה עם הבקשה הנוכחית. השוואה זו אינה רגישה לאותיות גדולות-קטנות.\r\n\r\n- [expression|CAccessRule::expression]: מציין ביטוי ב PHP שהתוצאה מעידה אם החוק הזה תואם או לא. בביטוי, ניתן להשתמש במשתנה `user$` אשר מתייחס ל `Yii::app()->user`. אפשרות זו קיימת החל מגרסא 1.0.3.\r\n\r\n### טיפול בתוצאת האימות (הגישה)\r\n\r\nברגע שהגישה נדחית, כלומר, המשתמש אינו מורשה לבצע את הפעולה המיוחסת, אחד משני המקרים הבאים יכול לקרות:\r\n\r\n- במידה והמשתמש אינו מחובר והמאפיין [loginUrl|CWebUser::loginUrl] של רכיב המשתמשים מוגדר להיות עמוד ההתחברות, המשתמש יועבר לעמוד זה. יש לזכור שכברירת מחדל, [loginUrl|CWebUser::loginUrl] מכוון לעמוד `site/login`.\r\n\r\n- אחרת תזרק שגיאה חריגה (Exception) ותוצג שגיאת HTTP 304.\r\n\r\nבעת ההגדרה של המאפיין [loginUrl|CWebUser::loginUrl], ניתן לציין נתיב רלטיבי או מלא. כמו כן ניתן להגדיר את המאפיין כמערך שמציין כתובת לקונטרולר/פעולה ואז יעשה שימוש ב [CWebApplication::createUrl] בכדי להפוך את המערך לקישור נכון. האלמנט הראשון במערך מציין את [הנתיב](/doc/guide/basics.controller#route) לקונטרולר של עמוד ההתחברות והפעולה שצריך להריץ, ושאר האלמנטים בפורמט של מפתח=>ערך הינם פרמטרים (GET) אשר יתווספו לקישור בעת יצירתו. לדוגמא,\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''components''=>array(\r\n        ''user''=>array(\r\n            // זהו בעצם ערך ברירת המחדל\r\n            ''loginUrl''=>array(''site/login''),\r\n        ),\r\n    ),\r\n)\r\n~~~\r\n\r\nבמידה והמשתמש הועבר לעמוד ההתחברות והוא התחבר בהצלחה, אנו נרצה להעביר אותו לאותו עמוד שבו הוא היה קודם לכן כשהגישה שלו נדחתה. כיצד אנו יודעים מהו הקישור לעמוד זה? אנו יכולים לקבל מידע זה מהמאפיין [returnUrl|CWebUser::returnUrl] של רכיב המשתמשים. לכן אנו יכולים לכתוב את הקוד הבא כדי לבצע את ההעברה לעמוד בו הוא היה קודם:\r\n\r\n~~~\r\n[php]\r\nYii::app()->request->redirect(Yii::app()->user->returnUrl);\r\n~~~\r\n\r\nניהול גישות על פי תפקידים (קבוצות משתמשים)\r\n-------------------------\r\n\r\nניהול גישות על פי תפקידים (RBAC) מספק מקום מרכזי לניהול הגישות בצורה פשוטה אך יעילה. יש לעיין במאמר [Wiki](http://en.wikipedia.org/wiki/Role-based_access_control) כדי לקבל פרטים והשוואות של RBAC מול אפשרויות ניהול גישות מסורתיות אחרות.\r\n\r\nYii מיישם תכנית RBAC היררכי בעזרת הרכיב [authManager|CWebApplication::authManager]. בחלק הבא, אנו קודם מציגים את המושגים העקריים בהם משתמשים בעיקר בתכנית זו; בסוף החלק אנו מציגים כיצד להשתמש באימות נתונים כדי לבדוק אפשרויות גישה שונות.\r\n\r\n### סקירה\r\n\r\nהעיקרון העומד מאחורי ה RBAC במערכת ה-Yii הוא *פריט הרשאה*. פריט הרשאה הינו סמכות לבצע פעולה מסויימת (לדוגמא יצירת הודעה חדשה, ניהול משתמשים). בהתאם לגרעיניות וקהל היעד, ניתן לסווג פריטי הרשאה כ *פעולות*, *משימות* ו *תפקידים*. תפקיד מכיל משימות, משימה מכילה פעולות, ופעולה הינה הרשאה שהיא אטומית. לדוגמא, במידה ויש לנו מערכת עם תפקיד בשם `administrator` המכיל משימות של `ניהול הודעות` ו `ניהול משתמשים`. המשימה `ניהול משתמשים` מכילה פעולות כמו `יצירת משתמש`, `עדכון משתמש` ו `מחיקת משתמש`. למקסימום גמישות, Yii מאפשרת לתפקיד להכיל תפקידים או פעולות נוספות, למשימה להכיל משימות נוספות, ופעולות להכיל פעולות נוספות (זאת אומרת לשרשר בין תפקידים משימות ופעולות).\r\n\r\nפריט הרשאה מזוהה בצורה יחודית על ידי שמו.\r\n\r\nפריט הרשאה יכול להיות מקושר *קוד עסקי*. קוד עסקי הינו חתיכת קוד PHP אשר ירוץ בעת בדיקת הגישה תוך התחשבות בפריט ההרשאתי. רק ברגע שהקוד שירוץ יחזיר True, אז המשתמש יחשב כבעל גישה המיוצג על ידי הפריט הזה. לדוגמא, בזמן שאנו מגדירים פעולה `updatePost`, אנו נרצה להוסיף קוד עסקי שבודק שמספר המשתמש הנוכחי הוא זהה למספר המשתמש של המפרסם שפרסם את ההודעהת ככה שרק המשתמש שפרסם את ההודעה יהיה ראשי לערוך אותה.\r\n\r\nבעזרת שימוש בפריטי הרשאה, אנו יכולים לבנות *היררכית הרשאות*. פריט `A` הוא אב לפריט אחר בשם `B` בהיררכיה אם `A` מכיל את `B` (כלומר `A` יורש את ההרשאות המיוצגות על ידי `B`). פריט יכול להכיל כמה תתים, כמו כן הוא יכול להכיל כמה פריטים מעליו (אבות). לכן, היררכית הרשאות הינו גרף ולא עץ. בהיררכיה זו, פריטי תפקידים יושבים ברמה הגבוה ביותר, פעולות יושבות ברמה הנמוכה ביותר, בזמן שמשימות יושבות באמצע.\r\n\r\nברגע שיש ברשותנו היררכית הרשאות, אנו יכולים להקצות תפקידים בהירככיה זו למשתמשים באפליקציה. משתמש, ברגע שתפקיד מוקצה לו, יהיו ברשותו ההרשאות המיוצגות על ידי אותו תפקיד. לדוגמא, אם נקצה את התפקיד `administrator` למשתמש, הוא יוכל לבצע את המשימות של מנהל ראשי, משימות הכוללות לדוגמא `ניהול הודעות` ו `ניהול משתמשים` (והפעולות המקבילות למשימות אלו).\r\n\r\nעכשיו החלק המהנה מתחיל. בפעולה בקונטרולר, אנו רוצים לבדוק אם המשתמש הנוכחי יכול למחוק את ההודעה שהוגדרה. שימוש בהיררכית RBAC וההקצאות, ניתן לבצע זאת בצורה פשוטה בדרך הבאה:\r\n\r\n~~~\r\n[php]\r\nif(Yii::app()->user->checkAccess(''deletePost''))\r\n{\r\n    // מחיקת ההודעה\r\n}\r\n~~~\r\n\r\n### הגדרת ניהול הרשאות\r\n\r\nלפני שאנו ניגשים להגדרת היררכית הרשאות ולבצע בדיקות גישה, אנו צריכים להגדיר את הרכיב [authManager|CWebApplication::authManager] באפליקציה. Yii מספקת שני סוגים של ניהול גישות: [CPhpAuthManager] ו\r\n[CDbAuthManager]. הראשון משתמש בקובץ סקריפט PHP כדי לאחסן את נתוני ההרשאות, בזמן שהשני שומר את נתוני ההרשאות במסד הנתונים. כשאנו מגדירים את רכיב האפליקציה [authManager|CWebApplication::authManager], אנו צריכים לציין איזה מחלקה אנו נשתמש בה ומה הם הערכים ההתחלתיים לרכיב. לדוגמא,\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''db''=>array(\r\n            ''class''=>''CDbConnection'',\r\n            ''connectionString''=>''sqlite:path/to/file.db'',\r\n        ),\r\n        ''authManager''=>array(\r\n            ''class''=>''CDbAuthManager'',\r\n            ''connectionID''=>''db'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nלאחר מכן אנו יכולים לגשת אל הרכיב [authManager|CWebApplication::authManager] בעזרת `Yii::app()->authManager`.\r\n\r\n### הגדרת היררכית הרשאות\r\n\r\nהגדרת היררכית הרשאות כרוכה בשלושה שלבים: הגדרת פריטי הרשאה, יצירת קישורים בין פריטי הרשאה, והקצאת תפקידים למשתמשים באפליקציה. הרכיב [authManager|CWebApplication::authManager] מספק סט שלם של מתודות (API) כדי להשיג מטרות אלו.\r\n\r\nכדי להגדיר פריט הרשאה, יש לקרוא לאחת מהמתודות הבאות, תלוי בסוג הפריט:\r\n\r\n   - [CAuthManager::createRole]\r\n   - [CAuthManager::createTask]\r\n   - [CAuthManager::createOperation]\r\n\r\nברגע שיש לנו סט של פריטי הרשאה, אנו יכולים לקרוא למתודות הבאות בכדי ליצור קשרים בין פריטי ההרשאה השונים:\r\n\r\n   - [CAuthManager::addItemChild]\r\n   - [CAuthManager::removeItemChild]\r\n   - [CAuthItem::addChild]\r\n   - [CAuthItem::removeChild]\r\n\r\nולבסוף, אנו קוראים למתודות הבאות כדי להקצות תפקידים למשתמשים בודדים:\r\n\r\n   - [CAuthManager::assign]\r\n   - [CAuthManager::revoke]\r\n\r\nלמטה אנו מציגים דוגמא ליצירת היררכית הרשאות עם המתודות שהוצגו קודם לכן:\r\n\r\n~~~\r\n[php]\r\n$auth=Yii::app()->authManager;\r\n\r\n$auth->createOperation(''createPost'',''יצירת הודעה'');\r\n$auth->createOperation(''readPost'',''קריאת הודעה'');\r\n$auth->createOperation(''updatePost'',''עריכת הודעה'');\r\n$auth->createOperation(''deletePost'',''מחיקת הודעה'');\r\n\r\n$bizRule=''return Yii::app()->user->id==$params["post"]->authID;'';\r\n$task=$auth->createTask(''updateOwnPost'',''עריכת הודעה על ידי המפרסם בלבד'',$bizRule);\r\n$task->addChild(''updatePost'');\r\n\r\n$role=$auth->createRole(''reader'');\r\n$role->addChild(''readPost'');\r\n\r\n$role=$auth->createRole(''author'');\r\n$role->addChild(''reader'');\r\n$role->addChild(''createPost'');\r\n$role->addChild(''updateOwnPost'');\r\n\r\n$role=$auth->createRole(''editor'');\r\n$role->addChild(''reader'');\r\n$role->addChild(''updatePost'');\r\n\r\n$role=$auth->createRole(''admin'');\r\n$role->addChild(''editor'');\r\n$role->addChild(''author'');\r\n$role->addChild(''deletePost'');\r\n\r\n$auth->assign(''reader'',''readerA'');\r\n$auth->assign(''author'',''authorB'');\r\n$auth->assign(''editor'',''editorC'');\r\n$auth->assign(''admin'',''adminD'');\r\n~~~\r\n\r\n> Info|מידע: למרות שהקוד למעלה נראה ארוך ומשעמם, הוא נועד בעיקר לצרכי הדגמה לשימוש במתודות. מפתחים בדרך כלל צריכים לפתח ממשקים אשר מפשטים את הפעולות ההלו למשתמשי הקצה ויוצרים היררכיה הרשאות באופן אינטואיטיבי.\r\n\r\n### שימוש בקודים עסקיים\r\n\r\nכשאנו מגדירים היררכית הרשאות, אנו יכולים לקשר תפקיד, משימה או פעולה למה שנקרא *קוד עסקי*. כמו כן אנו יכולים לקשר קוד עסקי כשאנו מקצים תפקיד למשתמש. קוד עסקי הינו חתיכת קוד PHP שירוץ ברגע שאנו נבצע בדיקת גישה. הערך המוחזר מהקוד העסקי נועד כדי לקבוע אם התפקיד או המשימה חלה על המשתמש הנוכחי. בדוגמא למעלה, אנו קישרנו קוד עסקי למשימה `updateOwnPost`. בקוד העסקי אנו פשוט בודקים אם מספר המזהה היחודי של המשתמש הנוכחי הוא זהה למספר המשתמש שפרסם את ההודעה. פרטי ההודעה במערך ה `params$` מסופק על ידי המפתחים בעת ביצוע בדיקת הגישה.\r\n\r\n### בדיקת גישה\r\n\r\nבכדי לבצע בדיקת גישה, אנו קודם צריכים לדעת את שם פריט ההרשאה. לדוגמא, כדי לבדוק אם המשתמש הנוכחי יכול ליצור הודעה, אנו נבדוק אם יש לו הרשאה המיוצגת על ידי הפעולה `createPost`. אז אנו קוראים ל-[CWebUser::checkAccess] כדי לבצע את בדיקת הגישה:\r\n\r\n~~~\r\n[php]\r\nif(Yii::app()->user->checkAccess(''createPost''))\r\n{\r\n    // יצירת הודעה\r\n}\r\n~~~\r\n\r\nאם פריט ההרשאה מקושר עם קוד עסקי שדורש פרמטרים נוספים, אנו יכולים להעביר אותם גם כן. לדוגמא, בכדי לבדוק אם משתמש יכול לערוך הודעה, אנו נכתוב,\r\n\r\n~~~\r\n[php]\r\n$params=array(''post''=>$post);\r\nif(Yii::app()->user->checkAccess(''updateOwnPost'',$params))\r\n{\r\n    // עדכון הודעה\r\n}\r\n~~~\r\n\r\n\r\n### שימוש בתפקידים מוגדרים מראש\r\n\r\n> Note|הערה: אפשרות תפקידי ברירת המחדל קיימת החל מגרסא 1.0.3.\r\n\r\nאפליקציות ווב רבות צריכות כמה תפקידים מאוד מיוחדים שיוקצו לכל המשתמשים או לרובם. לדוגמא, אנו נרצה להקצות הרשאות לכל המשתמשים המחוברים (שאומתו). זה דורש הרבה עבודת תחזוקה אם אנו נגדיר ונשמור את כל ההקצאות הללו במפורש. אנו יכולים לנצל את האפשרות של *תפקידי ברירת מחדל* (*default roles*) כדי לפתור בעיה זו.\r\n\r\nתפקיד ברירת מחדל הינו תפקיד אשר הוקצה לכל משתמש, הכוללים את האורחים והמשתמשים כאחד. אנו לא צריכים להקצות תפקידים אלו עבור כל משתמש בנפרד. ברגע שמתבצעת קריאה של [CWebUser::checkAccess], תפקידי ברירת המחדל נבדקים ראשונים במידה והם הוקצו למשתמש.\r\n\r\nתפקידי ברירת מחדל צריכים להיות מוגדרים במאפיין [CAuthManager::defaultRoles]. לדוגמא, הקוד הבא מגדיר שני תפקידים כתפקידים ברירת מחדל:  `authenticated` ו `guest`.\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''authManager''=>array(\r\n            ''class''=>''CDbAuthManager'',\r\n            ''defaultRoles''=>array(''authenticated'', ''guest''),\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nמאחר ותפקיד ברירת מחדל מוקצה לכל משתמש, הוא בדרך כלל צריך להיות מקושר עם קוד עסקי בכדי לקבוע אם אותו תפקיד באמת חל על המשתמש הנוכחי. לדוגמא, הקוד הבא מגדיר שני תפקידים, `authenticated` ו `guest`, אשר למעשה חל על משתמשים מחוברים ומשתמשים שהינם אורחים, בהתאמה.\r\n\r\n~~~\r\n[php]\r\n$bizRule=''return !Yii::app()->user->isGuest;'';\r\n$auth->createRole(''authenticated'', ''authenticated user'', $bizRule);\r\n\r\n$bizRule=''return Yii::app()->user->isGuest;'';\r\n$auth->createRole(''guest'', ''guest user'', $bizRule);\r\n~~~\r\n\r\n<div class="revision">$Id: topics.auth.txt 1808 2010-02-17 21:49:42Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(43, 'topics.console', 'topics.console', '', '﻿אפליקציות מסוף ובקרה\r\n====================\r\n\r\nאפליקציות ווב משתמשות באפליקציות מסוף בעיקר עבור עבודות כמו, יצירת קוד, קומפילציה של אינדקסים של חיפוש, שליחת אימיילים, וכדומה. Yii מספקת פריימוורק לכתיבת אפליקציות מסוף בשיטה של תכנות מונחה עצמים ושיטתי.\r\n\r\nYii מייצגת כל משימה במסוף במונחים של פקודה -[command|CConsoleCommand], והאובייקט של [console application|CConsoleApplication] נועד לשדר בקשת שורת פקודות לפקודה המתאימה. האובייקט של האפליקציה נוצר בסקריפט הכניסה הראשי. בכדי להריץ משימת מסוף, אנו מריצים את הפקודה הבאה בשורת הפקודות בצורה הבאה,\r\n\r\n~~~\r\nphp entryScript.php CommandName Param0 Param1 ...\r\n~~~\r\n\r\n`CommandName` מתייחס לשם הפקודה (שאינו רגיש לאותיות גדולות-קטנות), ו `Param0` , `Param1` וכן הלאה הם פרמטרים המועברים לאובייקט של הפקודה.\r\n\r\nסקריפט הכניסה הראשי לאפליקצית מסוף בדרך כלל נכתב בצורה הבאה, בדומה לסקריפט של אפליקצית ווב,\r\n\r\n~~~\r\n[php]\r\ndefined(''YII_DEBUG'') or define(''YII_DEBUG'',true);\r\n//צירוף הקובץ הראשי של Yii\r\nrequire_once(''path/to/yii/framework/yii.php'');\r\n// יצירת אובייקט אפליקציה והרצתו\r\n$configFile=''path/to/config/file.php'';\r\nYii::createConsoleApplication($configFile)->run();\r\n~~~\r\n\r\nלאחר מכן אנו יוצרים מחלקות שצריכות להיות תחת המחלקה הבסיסית [CConsoleCommand] שמהוות בעצם כפקודות.\r\nכל מחלקה שמהווה פקודה צריכה להקרא בשם הפקודה שלה והוספת `Command` לסוף השם. לדוגמא, בכדי להגדיר פקודת `email` אנו צריכים ליצור מחלקה בשם `EmailCommand`. כל המחלקות של הפקודות צריכות להיות ממוקמות תחת התיקיה `commands` הנמצאת בתוך התיקיה [הראשית](/doc/guide/basics.application#application-base-directory) של האפליקציה.\r\n\r\n> Tip|טיפ: על ידי הגדרת המאפיין [CConsoleApplication::commandMap], ניתן להגדיר פקודות בשמות שונים אשר לאו דווקא צריכים לעקוב אחרי מוסכמות נתינת השמות שתוארו למעלה והנמצאים בתיקיות שונות.\r\n\r\nיצירת מחלקת פקודות בעיקר כוללת יישום של המתודה [CConsoleCommand::run]. פרמטרים של הפקודה מועברים אל מתודה זו כמערך. למטה מוצגת דוגמא:\r\n\r\n~~~\r\n[php]\r\nclass EmailCommand extends CConsoleCommand\r\n{\r\n    public function run($args)\r\n    {\r\n        $receiver=$args[0];\r\n        // send email to $receiver\r\n    }\r\n}\r\n~~~\r\n\r\nבכל זמן בפקודה, אנו יכולים לגשת לאובייקט של אפליקצית המסוף בעזרת `Yii::app()`. בדומה לאובייקט אפליקצית ווב, ניתן להגדיר אפליקציות מסוף בעזרת קובץ הגדרות אפליקציה. לדוגמא, אנו יכולים להגדיר רכיב אפליקציה בשם `db` בכדי לגשת למסד נתונים. ההגדרות בדרך כלל מאופיינות כקובץ PHP המחזיר מערך של הגדרות המועברות למתודה ההתחלתית של מחלקת אפליקצית הווב (או [createConsoleApplication|YiiBase::createConsoleApplication] בסקריפט הכניסה הראשי).\r\n\r\nשימוש בכלי `yiic`\r\n---------------------\r\n\r\nאנו השתמשנו בכלי `yiic` בכדי ליצור את [האפליקציה הראשונה](/doc/guide/quickstart.first-app) שלנו. כלי ה `yiic` למעשה מיושם כאפליקצית מסוף שקוב הכניסה הראשי שלה הוא `framework/yiic.php`. בעזרת השימוש ב `yiic`, אנו יכולים לבצע משימות כמו יצירת שלד לאפליקציה חדשה, יצירת מחלקה עבור קונטרולר או מודל, יצירת קוד הדרוש עבור פעולות CRUD, קבלת הודעות שצריכות להיות מתורגמות, וכדומה.\r\n\r\nאנו יכולים לשפר את `yiic` על ידי הוספת פקודות מותאמות אישית. בכדי לעשות זאת, אנו צריכים להתחיל עם שלד של אפליקציה חדשה הנוצרה בעזרת הפקודה `yiic webapp`, כפי שהוסבר [יצירת אפליקציה ראשונה בעזרת Yii](/doc/guide/quickstart.first-app). הפקודה `yiic webapp` תיצור שני קבצים תחת התיקיה `protected`: הראשון `yiic` ו `yiic.bat` הם הגרסאות *המקומיות* של הכלי `yiic` שנוצרו במיוחד עבור אפליקצית הווב.\r\n\r\nלאחר מכן אנו יכולים ליצור פקודות בעצמנו תחת התיקיה `protected/commands`. הרצת הכלי המקומי `yiic` אנו נראה את הפקודות שלנו רשומות ביחד עם הפקודות המובנות המגיעות עם המערכת. כמו כן אנו יכולים ליצור פקודות בעצמנו כדי שנוכל להשתמש בהם בעזרת כלי ה `yiic shell`. בכדי לבצע זאת, פשוט יש לשמור את מחלקת הפקודה תחת התיקיה `protected/commands/shell`.\r\n\r\nהחל מגרסא 1.1.1, אנו יכולים ליצור פקודות גלובאליות אשר ניתנות לשיתוף על גבי כל אפליקציות ה Yii הרצות על אותו שרת. כדי ליצור פקודות אלו, יש להגדיר משתנה שרתי ( "סביבתי" משתנה אשר נמצא תחת המשתנה הגלובאלי SERVER_$ בשרת ) בשם `YII_CONSOLE_COMMANDS` אשר צריך להיות מכוון לתיקיה קיימת בשרת. לאחר הגדרת המשתנה אנו מניחים את כל המחלקות של הפקודות שיצרנו שאנו רוצים שהם יהיו גלובאלים תחת התיקיה הזו, ואנו נראה את הפקודות הללו בכל מקום בו נשתמש בכלי `yiic`.\r\n\r\n<div class="revision">$Id: topics.console.txt 1870 2010-03-09 22:23:19Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(44, 'topics.error', 'topics.error', '', '﻿ניהול וטיפול בשגיאות\r\n==============\r\n\r\nYii מספקת פריימוורק מלא עבור טיפול בשגיאות המבוססת על מנגנון החריגות (exceptions) ב PHP 5. ברגע שהאפליקציה נוצרת, בכדי לטפל בבקשות משתמשים נכנסות, היא רושמת את המתודה [handleError|CApplication::handleError] בכדי לטפל באזהרות והתראות של PHP; והיא רושמת את המתודה [handleException|CApplication::handleException] בכדי לטפל בחריגים (exceptions) שלא נתפסו.\r\nכתוצאה מכך, במידה ותזרק שגיאה/אזהרה/התראה של PHP או שיזרק חריג (exception) שלא נתפס במהלך הרצת האפליקציה, אחד ממתודות ניהול השגיאות יכנסו לפעולה ויתחילו בתהליך טיפול בשגיאות.\r\n\r\n\r\n> Tip|טיפ: הרישום של המתודות המטפלות בשגיאות נעשה בתהליך היצירה של האפליקציה על ידי קריאה לפונקציות PHP\r\n[set_exception_handler](http://www.php.net/manual/en/function.set-exception-handler.php)\r\nו [set_error_handler](http://www.php.net/manual/en/function.set-error-handler.php).\r\n\r\nאם אינך רוצה ש Yii יטפל בשגיאות, תוכל להגדיר את המשתנים הקבועים `YII_ENABLE_ERROR_HANDLER` ו `YII_ENABLE_EXCEPTION_HANDLER` לערך\r\nfalse [בסקריפט הכניסה הראשי](/doc/guide/basics.entry).\r\n\r\nכברירת מחדל, [errorHandler|CApplication::errorHandler] (או [exceptionHandler|CApplication::exceptionHandler]) מעלים את האירוע [onError|CApplication::onError] או [onException|CApplication::onException]. במידה והשגיאה לא מטופלת על ידי מנהל אירוע כלשהו שהוגדר לאירוע מסוג זה, הוא יקרא לעזרה מרכיב האפליקציה [errorHandler|CErrorHandler] .\r\n\r\nזריקת שגיאות חריגות (Exceptions)\r\n------------------\r\n\r\nזריקת שגיאות חריגות ב Yii אינה שונה מזריקת שגיאות חריגות ב PHP. ניתן להשתמש בתחביר הבא כדי לזרוק שגיאה חריגה בעת הצורך:\r\n\r\n~~~\r\n[php]\r\nthrow new ExceptionClass(''ExceptionMessage'');\r\n~~~\r\n\r\nYii  מגדירה שני מחלקות עבור שגיאות חריגות: [CException] ו [CHttpException]. הקודמת היא מחלקה כללית לשגיאות חריגות, בזמן שהשנייה מייצגת שגיאה חריגה שצריכה להיות מוצגת למשתמשי הקצה. כמו כן השנייה מכילה מאפיין [statusCode|CHttpException::statusCode] המייצג את מספר הסטטוס של בקשת ה HTTP. המחלקה של השגיאה החריגה מחליטה כיצד להציגה, כפי שנסביר בהמשך.\r\n\r\n> Tip|טיפ: זריקת שגיאה חריגה מסוג [CHttpException] הינה דרך פשוטה לדיוון על שגיאות שבוצעו על ידי פעולות לקויות של המשתמשים. לדוגמא, במידה והמשתמש הזין מספר הודעה לא תקני בקישור, אנו יכולים לבצע את הפעולה הבאה בכדי להציג שגיאה 404 (העמוד לא נמצא):\r\n\r\n~~~\r\n[php]\r\n// אם מספר ההודעה לא תקני\r\nthrow new CHttpException(404,''העמוד שחפשת לא נמצא או לא קיים.'');\r\n~~~\r\n\r\nהצגת שגיאות\r\n-----------------\r\n\r\nברגע שהשגיאה מכוונת אל רכיב האפליקציה [CErrorHandler], הרכיב בוחר קובץ תצוגה מתאים להצגת השגיאה. במידה והשגיאה נועדה לתצוגה של משתמשים, כמו למשל [CHttpException], הרכיב משתמש בקובץ תצוגה בשם `errorXXX`, כש `XXX` מייצג את סטטוס השגיאה של HTTP (למשל 400, 404, 500). במידה והשגיאה הינה פנימית וצריך להציגה רק למפתחים, קובץ תצוגה בשם `exception` יכנס לשימוש במקום. במקרה השני, תוצג השגיאה המדוייקת שהתרחשה ואיפה זה קרה בידיוק בקבצים.\r\n\r\n> Info|מידע: בזמן שהאפליקציה רצה במצב [תפוקתי (חי)](/doc/guide/basics.entry#debug-mode), כל השגיאות כולל את השגיאות הפנימיות יוצגו בעזרת קובץ תצוגה `errorXXX`. וזה מכיוון וקבצי התצוגה האחרים מכילים מידע רגיש שלא אמור להיות מוצג למשתמשי הקצה ולכן מופעל רק במצב פיתוח. במקרה זה, מפתחים צריכים להסתמך על תיעוד השגיאות בכדי לדעת מהו הגורם המדוייק לשגיאה.\r\n\r\n[CErrorHandler] מאתר את קובץ התצוגה המתאים בסדר הבא:\r\n\r\n   1. `WebRoot/themes/ThemeName/views/system`: זוהי תיקית המערכת - `system` תחת התבנית הנמצאת בשימוש כרגע.\r\n\r\n   2. `WebRoot/protected/views/system`: זוהי תיקית המערכת - `system` ברירת המחדל של האפליקציה.\r\n\r\n   3. `yii/framework/views`: זוהי תיקית המקור המגיע ביחד עם הפריימוורק של Yii.\r\n\r\nלכן, במידה ואנו רוצים להתאים אישית את תצוגת השגיאות, אנו צריכים פשוט ליצור קבצי תצוגה עבור השגיאות תחת התיקיה `system` באפליקציה או תחת כל תבנית בה אנו משתמשים.\r\nכל קובץ הינו קובץ PHP רגיל המכיל בעיקר קוד HTML. למידע נוסף, יש לעיין קבצי תצוגת השגיאות תחת התיקיה `view` בתיקיה בה נמצאים הקבצים של הפריימוורק.\r\n\r\n### טיפול בשגיאות בעזרת פעולה\r\n\r\nהחל מגרסא 1.0.6, Yii מאפשר שימוש [בפעולה של קונטרולר](/doc/guide/basics.controller#action) בכדי לטפל בתצוגת השגיאות. בכדי לעשות זאת, אנו צריכים להגדיר את מנהל השגיאה בהגדרות האפליקציה בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ......\r\n    ''components''=>array(\r\n        ''errorHandler''=>array(\r\n            ''errorAction''=>''site/error'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nבקוד למעלה, אנו מגדירים את המאפיין [CErrorHandler::errorAction] לנתיב `site/error` אשר מכוון לפעולה `error` בקונטרולר `SiteController`. אנו יכולים להשתמש בניתוב שונה במידה וצריך.\r\n\r\nאנו יכולים לכתוב את פעולת `error` בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\npublic function actionError()\r\n{\r\n    if($error=Yii::app()->errorHandler->error)\r\n        $this->render(''error'', $error);\r\n}\r\n~~~\r\n\r\nבפעולה, אנו קודם מקבלים את המידע המדוייק אודות השגיאה מהמאפיין [CErrorHandler::error]. במידה והוא לא ריק, אנו מציגים את קובץ התצוגה `error` ביחד עם המידע אודות השגיאה.\r\nהמידע אודות השגיאה החוזר מהמאפיין [CErrorHandler::error] הוא מערך המכיל את האלמנטים הבאים:\r\n\r\n * `code`: קוד הסטטוס של HTTP (לדוגמא 400, 404, 500)\r\n * `type`: סוג השגיאה (לדוגמא [CHttpException], `PHP Error`);\r\n * `message`: הודעת השגיאה;\r\n * `file`: שם קובץ ה PHP איפה שהתרחשה השגיאה;\r\n * `line`: מספר השורה בקובץ ה PHP היכן שהתרחשה השגיאה;\r\n * `trace`: רשימת הקבצים שהמערכת הריצה עד הגעתה לקובץ המכיל את השגיאה;\r\n * `source`: קוד המקור המכיל את השגיאה.\r\n\r\n> Tip|טיפ: הסיבה שאנו בודקים אם המאפיין [CErrorHandler::error] הוא ריק היא מכיוון שהמשתמש יכול לבקש את הפעולה `error` ישירות ולהריץ אותה, ובמקרה זה לא תיהיה שגיאה.\r\nמאחר ואנו מעבירים את המערך של `error$` ישירות לקובץ התצוגה, הוא אוטומטית מורחב למשתנים בודדים. כתוצאה מכך, בקובץ התצוגה אנו יכולים לגשת ישירות למשתנים כמו `code$` ו `type$`.\r\n\r\nתיעוד הודעות\r\n---------------\r\n\r\nהודעה ברמה של `error` תמיד תתעוד ברגע שתתבצע שגיאה. במידה והשגיאה בוצעה על ידי אזהרה או התראה של PHP, ההודעה תתעוד תחת קטגוריה `php`, במידה והשגיאה בוצעה על ידי שגיאה חריגה שלא נתפסה, הקטגוריה תיהיה `exception.ExceptionClassName` (עבור שגיאות חריגות של המחלקה [CHttpException] קוד הסטטוס של השגיאה תחת המאפיין [statusCode|CHttpException::statusCode] יצורף גם הוא לשם הקטגוריה).\r\nלכן ניתן להשתמש באפשרות [התיעוד](/doc/guide/topics.logging) בכדי לנטר שגיאות הקוראות במהלך הרצת האפליקציה.\r\n\r\n<div class="revision">$Id: topics.error.txt 1064 2009-05-26 00:15:33Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(45, 'topics.gii', 'topics.gii', '', '﻿יצירת קוד אוטומטית\r\n=========================\r\n\r\nהחל מגרסא 1.1.2, Yii מצויידת עם מערכת מבוססת ווב ליצירת קוד בשם *Gii*. מערכת זו הינה תחליף עבור הכלי הקודם בשם `yiic shell` שרץ על גבי שורת הפקודות. בחלק זה, אנו נדגים כיצד להשתמש ב-Gii וכיצד להרחיב את Gii כדי לזרז את תהליך הפיתוח.\r\n\r\nשימוש ב-Gii\r\n---------\r\n\r\nGii מיושמת במונחים של מודול וחייבת להיות בשימוש תחת אפליקצית Yii קיימת. כדי להשתמש ב-Gii, אנו קודם עורכים את הגדרות האפליקציה בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ......\r\n    ''modules''=>array(\r\n        ''gii''=>array(\r\n            ''class''=>''system.gii.GiiModule'',\r\n            ''password''=>''סיסמא כלשהי'',\r\n            // ''ipFilters''=>array(...רשימה של כתובות אייפי...),\r\n            // ''newFileMode''=>0666,\r\n            // ''newDirMode''=>0777,\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו מגדירים מודול בשם `gii` שהמחלקה שלו הינה [GiiModule]. כמו כן אנו מגדירים סיסמא עבור המודול שאנו נצטרך להזין בעת הכניסה ל-Gii.\r\n\r\nכברירת מחדל ומטעמי בטחון, Gii מוגדרת ככה שיהיה ניתן לגשת אל המודול רק משרת `localhost`. אם אנו רוצים לאפשר גישה למחשבים בטוחים נוספים, אנו יכולים להגדיר את המאפיין [GiiModule::ipFilters] כפי שמוצג בקוד למעלה.\r\n\r\nבגלל ש-Gii יוצר קוד ושומר אותו בקבצים חדשים באפליקציה הנוכחית, אנו צריכים לוודא ששרת הווב מכיל את ההרשאות המתאימות לבצע פעולות אלו. בקוד המוצג למעלה המאפיינים [GiiModule::newFileMode] ו [GiiModule::newDirMode] שולטים באופן שבו הקבצים החדשים והתיקיות נוצרים.\r\n\r\n> Note|הערה: Gii נועד בעיקר ככלי פיתוח. לכן, רצוי להתקינו על סביבת פיתוח. מאחר וכלי זה יכול לייצר קבצי PHP חדשים באפליקציה, אנו צריכים לשים לב לאמצעי האבטחה שבו (לדוגמא סיסמא, כתובות IP).\r\n\r\nכעת אנו יכולים לגשת למערכת Gii דרך הקישור `http://hostname/path/to/index.php?r=gii`. כאן אנו מניחים שהקישור `http://hostname/path/to/index.php` הוא הקישור לכניסה לאפליקצית ה-Yii הנוכחית.\r\n\r\nבמידה והאפליקציה הנוכחית משתמשת בפורמט `path` עבור הקישורים (ראה [ניהול קישורים](/doc/guide/topics.url)), אנו יכולים לגשת למודול Gii דרך הקישור `http://hostnamepath/to/index.php/gii`. אנו נצטרך להוסיף את הכללים הבאים לראש הכללים הקיימים באפליקציה:\r\n\r\n~~~\r\n[php]\r\n''components''=>array(\r\n    ......\r\n    ''urlManager''=>array(\r\n        ''urlFormat''=>''path'',\r\n        ''rules''=>array(\r\n            ''gii''=>''gii'',\r\n            ''gii/<controller:\\w+>''=>''gii/<controller>'',\r\n            ''gii/<controller:\\w+>/<action:\\w+>''=>''gii/<controller>/<action>'',\r\n            ...כללים נוכחים...\r\n        ),\r\n    ),\r\n)\r\n~~~\r\n\r\nGii מגיעה עם כמה אפשרויות ליצירת קוד כברירת מחדל. כל אפשרות יצירת קוד אחראית ליצירת קוד ספציפי. לדוגמא, אפשרות יצירת הקונטרולר יוצרת מחלקת קונטרולר ביחד עם כמה קבצי תצוגה עבור פעולות; אפשרות יצירת המודל יוצרת מחלקת ActiveRecord עבור טבלה במסד הנתונים.\r\n\r\nרצף העבודה הבסיסי לשימוש באפשרות יצירת קוד הינה:\r\n\r\n1. כניסה לעמוד יצירת הקוד;\r\n2. מילוי שדות המגדירות את הפרמטרים עבור יצירת הקוד. לדוגמא, בכדי להשתמש באפשרות יצירת קוד מודול כדי ליצור מודול חדש, יש לציין את המזהה יחודי עבור המודול;\r\n3. יש ללחוץ על כפתור `Preview` בכדי לצפות בתצוגה המקדימה עבור הקוד שיווצר. תוכל לראות טבלה המציגה רשימה של קבצים ליצירה. ניתן ללחוץ על כל אחד מהם בכדי לצפות בתצוגה המקדימה של הקוד;\r\n4. יש ללחוץ על כפתור `Generate` כדי ליצור את הקבצים;\r\n5. יש לעיין בהודעות התיעוד של יצירת הקוד.\r\n\r\nהרחבת Gii\r\n-------------\r\n\r\nלמרות שאפשרויות יצירת הקוד המגיעות כברירת מחדל עם Gii הינם רחבות, אנו בדרך כלל נרצה להתאים אותם אישית או ליצור אפשרויות חדשות אשר תואמות לדרישות ולטעם שלנו. לדוגמא, אנו נרצה שהקוד שנוצר יהיה בסגנון שלנו, או שאנו נרצה שהקוד שנוצר יהיה נתמך תחת כמה שפות שונות. ניתן להשיג את כל אלו בעזרת Gii.\r\n\r\nניתן להרחיב את Gii בשני דרכים: התאמה אישית של התבניות הקיימות ליצירת הקוד, וכתיבת אפשרויות יצירת קוד חדשות.\r\n\r\n### מבנה אפשרות יצירת קוד\r\n\r\nאפשרות יצירת קוד נמצאת בתיקיה ששמה הוא שם אפשרות היצירה עצמה. התיקיה בדרך כלל מכילה את התוכן הבא:\r\n\r\n~~~\r\nmodel/                       התיקיה הראשית לאפשרות יצירת המודל\r\n   ModelCode.php             קוד המודל אשר יוצר את הקוד\r\n   ModelGenerator.php        קונטרולר יצירת הקוד\r\n   views/                    מכיל קבצי תצוגה עבור אפשרות יצירת הקוד\r\n      index.php              קובץ תצוגה ברירת המחדל\r\n   templates/                מכיל תבניות קוד\r\n      default/               תבנית ברירת המחדל\r\n         model.php           תבנית הקוד לאפשרות יצירת קוד עבור מחלקת מודל\r\n~~~\r\n\r\n### נתיב חיפוש של אפשרויות היצירה\r\n\r\nGii מחפש אחר אפשרויות יצירה תחת תיקיות מסויימות המוגדרות בעזרת המאפיין [GiiModule::generatorPaths]. כשיש צורך בהתאמה אישית, אנו יכולים להגדיר מאפיין זה בהגדרות האפליקציה בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''modules''=>array(\r\n        ''gii''=>array(\r\n            ''class''=>''system.gii.GiiModule'',\r\n            ''generatorPaths''=>array(\r\n                ''application.gii'',   // נתיב מקוצר\r\n            ),\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nההגדרות המוצגות למעלה מורות ל-Gii לחפש אחר אפשרויות יצירת קוד תחת התיקיה בנתיב המקוצר `application.gii`, בנוסף לתיקית ברירת המחדל `system.gii.generators`.\r\n\r\nניתן לשמור אפשרויות יצירת קוד באותו השם אך בנתיבי חיפוש שונים. במקרה זה, אפשרות היצירה שצויינה קודם לכן תחת התיקיה שהוגדרה במאפיין [GiiModule::generatorPaths] תקבל עדיפות.\r\n\r\n### התאמת תבניות קוד\r\n\r\nזוהי הדרך הקלה ביותר והנפוצה ביותר להרחבת Gii. אנו משתמשים בדוגמא בכדי להסביר כיצד להתאים אישית את תבניות הקוד. נניח שאנו רוצים להתאים אישית את הקוד הנוצר על ידי אפשרות יצירת מודל.\r\n\r\nאנו קודם יוצרים תיקיה בשם `protected/gii/model/templates/compact`. כאן `model` אומר שאנו עומדים *לדרוס* את אפשרות יצירת המודל המגיעה כברירת מחדל עם המערכת. ו `templates/compact` אומר שאנו מוסיפים תבנית חדשה בשם `compact`.\r\n\r\nלאחר מכן אנו עורכים את קובץ הגדרות האפליקציה כדי להוסיף `application.gii` למאפיין [GiiModule::generatorPaths], כפי שמוצג בחלק הקודם.\r\n\r\nכעת יש לפתוח את עמוד יצירת קוד המודל. לחיצה על שדה `Code Template`. אנו נוכל לראות רשימה אשר מכילה את תיקית התבנית שהרגע יצרנו בשם `compact`. אך אם נבחר את התבנית הזו עבור אפשרות יצירת הקוד, אנו נראה שגיאה. זה מכיוון שעדיין לא הוספנו שום קובץ המשמש כתבנית קוד בתיקית התבניות החדשה שהוספנו בשם `compact`.\r\n\r\nיש להעתיק את הקובץ מהנתיב `framework/gii/generators/model/templates/default/model.php` אל `protected/gii/model/templates/compact`. כעת אם ננסה ליצור שום פעם עם התבנית `compact`, זה אמור לעבוד. למרות, שהקוד שיווצר הוא לא שונה מהקוד שנוצר על ידי תבנית ברירת המחדל בשם `default` מאחר ומשם העתקנו את הקובץ אך לא בצענו בו שינויים כלשהם.\r\n\r\nכעת זה הזמן לבצע את עבודת ההתאמה האמיתית. פתח את הקובץ `protected/gii/model/templates/compact/model.php` כדי לערוך אותו. זכור שקובץ זה יהיה בשימוש כקובץ תצוגה, שאומר שהוא יכול להכיל ביטויים ב-PHP. הבא ונערוך את התבנית כדי שהמתודה `()attributeLabels` בקוד שנוצר תשתמש ב-`()Yii::t` כדי לתרגם את תוויות המאפיינים:\r\n\r\n~~~\r\n[php]\r\npublic function attributeLabels()\r\n{\r\n    return array(\r\n<?php foreach($labels as $name=>$label): ?>\r\n            <?php echo "''$name'' => Yii::t(''application'', ''$label''),\\n"; ?>\r\n<?php endforeach; ?>\r\n    );\r\n}\r\n~~~\r\n\r\nבכל תבנית קוד, אנו יכולים לגשת לכמה משתנים המוגדרים מראש. כמו למשל `labels$` בדוגמא למעלה. משתנים אלו נוצרים על ידי אפשרות יצירת הקוד המקביל לקובץ התצוגה. אפשרויות יצירה שונות מספקות משתנים שונים בתבניות הקוד שלהן. יש לקרוא את התיאור בתבניות הקוד ברירת המחדל בהרחבה.\r\n\r\n### הוספת אפשרות יצירת קוד\r\n\r\nבחלק זה, אנו מציגים כיצד ניתן ליצור אפשרות יצירת קוד היוצרת מחלקת וידג''ט חדשה.\r\n\r\nאנו קודם יוצרים תיקיה בשם `protected/gii/widget`. תחת תיקיה זו, אנו ניצור את הקבצים הבאים:\r\n\r\n* `WidgetGenerator.php`: מכיל את מחלקת הקונטרולר `WidgetGenerator`. זהו הקובץ הראשי של אפשרות יצירת הוידג''ט.\r\n\r\n* `WidgetCode.php`: מכיל את מחלקת המודל `WidgetCode`. מחלקה זו מכילה את הלוגיקה העיקרית ליצירת קוד.\r\n\r\n* `views/index.php`: קובץ התצוגה המציג את טופס אפשרות יצירת הקוד.\r\n\r\n* `templates/default/widget.php`: קובץ הקוד ברירת המחדל ליצירת מחלקת הוידג''ט.\r\n\r\n\r\n#### יצירת `WidgetGenerator.php`\r\n\r\nקובץ ה-`WidgetGenerator.php` הוא פשוט מאוד. הוא מכיל את הקוד הבא בלבד:\r\n\r\n~~~\r\n[php]\r\nclass WidgetGenerator extends CCodeGenerator\r\n{\r\n    public $codeModel=''application.gii.widget.WidgetCode'';\r\n}\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו מציינים שאפשרות היצירה תשתמש במחלקת מודל שהנתיב שלה הוא `application.gii.widget.WidgetCode`. המחלקה `WidgetGenerator` מרחיבה את [CCodeGenerator] אשר מיישמת הרבה אפשרויות ופונקציונליות, הכוללות את פעולות הקונטרולר הדרושות לתיאום תהליך יצירת הקוד.\r\n\r\n#### יצירת `WidgetCode.php`\r\n\r\nקובץ `WidgetCode.php` מכיל את מחלקת המודל `WidgetCode` המכילה את הלוגיקה העיקרית ליצירת מחלקת וידג''ט המבוססת על נתוני ההזנה של המשתמש. בדוגמא זו, אנו מניחים שהנתונים שאנו מצפים מהמשתמש הם רק שם המחלקה של הוידג''ט. הקוד עבור `WidgetCode` נראה כך:\r\n\r\n~~~\r\n[php]\r\nclass WidgetCode extends CCodeModel\r\n{\r\n    public $className;\r\n\r\n    public function rules()\r\n    {\r\n        return array_merge(parent::rules(), array(\r\n            array(''className'', ''required''),\r\n\r\n            array(''className'', ''match'', ''pattern''=>''/^\\w+$/''), \r\n\r\n        ));\r\n    }\r\n\r\n    public function attributeLabels()\r\n    {\r\n        return array_merge(parent::attributeLabels(), array(\r\n            ''className''=>''Widget Class Name'',\r\n        ));\r\n    }\r\n\r\n    public function prepare()\r\n    {\r\n        $path=Yii::getPathOfAlias(''application.components.'' . $this->className) . ''.php'';\r\n        $code=$this->render($this->templatepath.''/widget.php'');\r\n\r\n        $this->files[]=new CCodeFile($path, $code);\r\n    }\r\n}\r\n~~~\r\n\r\nמחלקת הקוד `WidgetCode` מרחיבה את המחלקה [CCodeModel]. בדומה למחלקת מודל רגילה, במחלקה זו אנו יכולים להגדיר מתודות `()rules` ו `()attributeLabels` כדי לאמת את הנתונים שהמשתמש מזין ולהציג תוויות עבור המאפיינים במחלקה, בהתאמה. יש לזכור שמאחר והמחלקה הבסיסית [CCodeModel] כבר מגדירה כמה כללים ותוויות, אנו צריכים לאחד אותם עם הכללים והתוויות שאנו מגדירים במחלקה זו.\r\n\r\nהמתודה `()prepare` מכינה מראש את הקוד שיווצר. המטרה העיקרית שלו היא להכין רשימת אובייקטים של [CCodeFile], כל אחד מייצג קובץ קוד שנוצר. בדוגמא שלנו, אנו צריכים רק ליצור אובייקט [CCodeFile] אחד המייצג את קובץ המחלקה של הוידג''ט הנוצר. מחלקת הוידג''ט החדשה שתווצר תמוקם תחת התיקיה `protected/components`. אנו קוראים למתודה [CCodeFile::render] כדי ליצור את הקוד עצמו. מתודה זו מכילה את תבנית הקוד כסקריפט PHP ומחזירה את תוצאת הפלט המווה את הקוד שנוצר.\r\n\r\n#### יצירת `views/index.php`\r\n\r\nכשברשותנו הקונטרולר (`WidgetGenerator`) והמודל (`WidgetCode`), הגיע הזמן ליצור את קובץ התצוגה `views/index.php`.\r\n\r\n~~~\r\n[php]\r\n<h1>אפשרות יצירת וידג''ט</h1>\r\n\r\n<?php $form=$this->beginWidget(''CCodeForm'', array(''model''=>$model)); ?>\r\n\r\n    <div class="row">\r\n        <?php echo $form->labelEx($model,''className''); ?>\r\n        <?php echo $form->textField($model,''className'',array(''size''=>65)); ?>\r\n        <div class="tooltip">\r\n           שם מחלקת המודל חייבת להכיל אותיות בלבד\r\n        </div>\r\n        <?php echo $form->error($model,''className''); ?>\r\n    </div>\r\n\r\n<?php $this->endWidget(); ?>\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו בעיקר מציגים טופס בעזרת הוידג''ט [CCodeForm]. בטופס זה, אנו מציגים את שדה הטקסט המהווה את הערך עבור המאפיין `className` במחלקה `WidgetCode`.\r\n\r\nבעת יצירת הטופס, אנו יכולים לנצל שני אפשרויות אשר נמצאות בוידג''ט [CCodeForm]. האחד הוא טקסט עזרה קטן (tooltip). האחר הוא שדה טקסט דביק.\r\n\r\nאם כבר התנסת באחד מאפשרויות יצירת הקוד הנמצאות במערכת, תוכל לשים לב שבעת קביעת פוקוס בשדה טקסט כלשהו, יופיע טקסט עזרה קטן ליד השדה. ניתן לבצע זאת בצורה פשוטה על ידי הוספת DIV עם הגדרת האלמנט ''class` בשם `tooltip` ליד השדה בו רוצים להציג את ההודעה הקטנה.\r\n\r\nעבור שדות מסויימים, אנו נרצה לשמור את הערך התקין האחרון שהיה בהם כדי לחסוך למשתמש להזין את אותו הערך שוב ושוב בכל פעם שהם משתמשים באפשרות יצירת הקוד כדי ליצור קוד. לדוגמא השדה שבו אנו מציינים את שם המחלקה הבסיסית של הקונטרולרים באפשרות יצירת הקוד לקונטרולרים המגיע עם המערכת. שדות דביקים אלו מוצגים בהתחלה כטקסט מסומן סטטי. אם נלחץ עליהם, אם יהפכו לשדות טקסט שניתן לכתוב בהם טקסט כלשהו.\r\n\r\nבכדי להגדיר שדה טקסט בתור שדה דביק, אנו צריכים לבצע שני דברים.\r\n\r\nראשית, אנו צריכים להגדיר כלל אימות בשם `sticky` עבור המאפיין המקביל במודל. לדוגמא, אפשרות יצירת קונטרולרים המגיע עם המערכת מכילה את הכללים הבאים המגדירים את המאפיינים `baseClass` ו `actions` כמאפיינים דביקים:\r\n\r\n~~~\r\n[php]\r\npublic function rules()\r\n{\r\n    return array_merge(parent::rules(), array(\r\n        ......\r\n        array(''baseClass, actions'', ''sticky''),\r\n    ));\r\n}\r\n~~~\r\n\r\nשנית, אנו צריכים להוסיף מאפיין `class` בשם `sticky` לתג `div` של שדה הטקסט בתצוגה, בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\n<div class="row sticky">\r\n   ..שדה טקסט כאן...\r\n</div>\r\n~~~\r\n\r\n#### יצירת `templates/default/widget.php`\r\n\r\nלבסוף, אנו יוצרים את תבנית הקוד `templates/default/widget.php`. כפי שהסברנו קודם לכן, השימוש של קובץ זה הוא בדומה לקובץ תצוגה המכיל פקודות וביטויים ב PHP. בתבנית קוד, אנו תמיד יכולים לגשת למשתנה `this$` המתייחס לאובייקט של המודל. בדוגמא שלנו, `this$` מתייחס לאובייקט של `WidgetModel`. לכן אנו יכולים לשלוף את שם המחלקה שהמשתמש הזין בטופס בעזרת `this->className$`.\r\n\r\n~~~\r\n[php]\r\n<?php echo ''<?php''; ?>\r\n\r\nclass <?php echo $this->className; ?> extends CWidget\r\n{\r\n    public function run()\r\n    {\r\n\r\n    }\r\n}\r\n~~~\r\n\r\nזה מסכם את החלק לגבי יצירת אפשרות יצירת קוד חדשה. כעת אנו יכולים לגשת לאפשרות יצירת הקוד שהרגע יצרנו על ידי כניסה לקישור `http://hostname/path/to/index.php?r=gii/widget`.\r\n\r\n<div class="revision">$Id: topics.gii.txt 2066 2010-04-11 03:54:25Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(46, 'topics.i18n', 'topics.i18n', '', 'ריבוי שפות / לוקליזציה\r\n====================\r\n\r\n[לוקליזציה](http://he.wikipedia.org/wiki/%D7%9C%D7%95%D7%A7%D7%9C%D7%99%D7%96%D7%A6%D7%99%D7%94) או בקיצור (I18N) מתייחס לתהליך עיצוב אפליקצית תוכנה שהיא תוכל להיות תואמת למגוון של שפות ואזורים ללא ביצוע שינויים הדנסיים. עבור אפליקציות ווב, יש לאפשרות זו חשיבות רבה מאחר ומשתמשים יכולים להגיע מכל מקום בעולם.\r\n\r\nYii מספק תמיכה עבור I18N בכמה היבטים.\r\n\r\n- מספק מידע אזורי עבור כל שפה אפשרית וגרסא אפשרית.\r\n- מספק שירות תרגום הודעות וקבצים.\r\n- מספק תצוגה של תאריכים וזמן בהתבסס על איזורים.\r\n- מספק תצוגה של מספרים בהתבסס על איזורים.\r\n\r\nבחלק הבא, אנו נפרט לגבי כל אחד ואחד מההיבטים הרשומים למעלה.\r\n\r\nשפה ואיזור\r\n-------------------\r\n\r\nאיזור הוא סט של פרמטרים המגדיר את שפת המשתמש, המדינה והגדרות נוספות שהמשתמש רוצה לראות בממשק שלו. איזור בדרך כלל מזוהה על ידי מזהה יחודי המכיל את המזהה היחודי של השפה והמזהה היחודי של המחוז. לדוגמא, המזהה היחודי `en_US` מייצג את האיזור של אנגלית - ארה"ב. למטרת עקביות, כל המזהים היחודיים ב-Yii נכתבים בפורמט של `LanguageID` או `LanguageID_RegionID` באותיות קטנות בלבד (לדוגמא `en`, `en_us`).\r\n\r\nמידע איזורי מיוצג כאובייקט של [CLocale]. אובייקט זה מספק מידע ספציפי עבור האיזור הנמצא בשימוש, הכולל את סמלי המטבעות, סמלי ספרות, פורמט תצוגה של ספרות, פורמט תצוגה של תאריכים ושעות, ושמות הקשורים לתאריכים.\r\n\r\nעם קבלת המזהה היחודי של האיזור או השפה, ניתן לקבל את האובייקט של [CLocale] על ידי קריאה ל `CLocale::getInstance($localeID)` או `CApplication::getLocale($localeID)`.\r\n\r\n> Info|מידע: Yii מגיע עם מידע איזורי עבור כמעט כל שפה ואיזור. המידע מתקבל מ-[Common Locale Data Repository](http://unicode.org/cldr/) (CLDR). עבור כל שפה, רק חלק מהמידע המקורי ב CLDR נמצא בקבצי המידע של כל שפה מאחר והמידע המקורי מכיל מידע רב שבדרך כלל לא נעשה בו שימוש. החל מגרסא 1.1.0, משתמשים יכולים לספק את המידע אודות השפה שלהם בהתאמה אישית. בכדי לעשות זאת, יש להגדיר את המאפיין [CApplication::localeDataPath] עם הנתיב לתיקיה המכילה את המידע עבור השפות. יש לעיין בקבצי המידע של השפות הנמצאות תחת `framework/i18n/data` בכדי ליצור קבצים מותאמים אישית.\r\n\r\nעבור אפליקצית Yii, אנו מבדילים בין השפה [הנמצאת בשימוש|CApplication::language] לבין [שפת המקור|CApplication::sourceLanguage]. שפת השימוש היא השפה של המשתמשים שמשתמשים בה, בזמן ששפת המקור מתייחסת לשפה שקבצי המקור כתובים בה. לוקליזציה נעשית רק בזמן ששני השפות הללו שונות אחת מהשנייה.\r\n\r\nניתן להגדיר את [שפת השימוש|CApplication::language] [בהגדרות האפליקציה](/doc/guide/basics.application#application-configuration), או ניתן לשנותה בצורה דינאמית לפני כל ביצוע של לוקליזציה.\r\n\r\n> Tip|טיפ: לפעמים, אנו נרצה להגדיר את שפת השימוש לשפה המועדפת על ידי המשתמש (המוגדרת בהגדרות הדפדפן של המשתמש). בכדי לבצע זאת, אנו יכולים לקבל את השפה המועדפת על המשתמש על ידי [CHttpRequest::preferredLanguage].\r\n\r\nתרגום\r\n-----------\r\n\r\nהאפשרות הנחוצה ביותר בלוקליזציה (I18N) הינו התרגום, הכולל תרגום הודעות ותצוגה. הראשון מתרגם הודעת טקסט לשפה הרצויה, בזמן שהשני מתרגם קובץ שלם לשפה הרצויה.\r\n\r\nבקשת תרגום כוללת את האובייקט שצריך לתרגם, שפת המקור בו האובייקט כתוב, ושפת היעד אליו האובייקט יתורגם. באפליקצית Yii, שפת המקור מוגדרת כברירת מחדל לערך המוגדר במאפיין [שפת המקור באפליקציה|CApplication::sourceLanguage] בזמן ששפת היעד מוגדרת לערך המיוצג על ידי המאפיין [שפת היעד באפליקציה|CApplication::language]. במידה ושפת המקור והיעד זהים התרגום לא מתבצע.\r\n\r\n### תרגום הודעות\r\n\r\nתרגום הודעות מתבצע על ידי שימוש ב-[()Yii::t|YiiBase::t]. המתודה מתרגמת את ההודעה [שפת המקור|CApplication::sourceLanguage] אל [שפת היעד|CApplication::language].\r\n\r\nבזמן תרגום הודעה, יש לציין את הקטגוריה מאחר וההודעה יכולה להיות מתורגמת בצורה שונה תחת קטגוריות שונות (הקשר). הקטגוריה `yii` שמורה עבור הודעות הנמצאות בשימוש על ידי בסיס המערכת של Yii.\r\n\r\nהודעות יכולות להכיל פרמטרים אשר יוחלפו עם הערכים שלהם בזמן השימוש (קריאה) למתודה [()Yii::t|YiiBase::t]. לדוגמא, בבקשת תרגום ההודעה הבאה הפרמטר `{alias}` בהודעה המקורית יוחלף עם הערך שהוגדר לו.\r\n\r\n~~~\r\n[php]\r\nYii::t(''app'', ''Path alias "{alias}" is redefined.'',\r\n    array(''{alias}''=>$alias))\r\n~~~\r\n\r\n> Note|הערה: הודעות שדורשות תרגום חייבות להכיל תווים קבועים בלבד. אסור שהודעות אלו יכילו משתנים אשר ישנו את תוכן ההודעה. לדוגמא,\r\n\r\n~~~\r\n"Invalid\r\n{$message} content."\r\n~~~\r\n\r\nיש להשתמש בפרמטרים כמו בדוגמא הקודמת במידה וההודעה צריכה להכיל משתנים ומידע אשר משתנה בהתאם לפרמטר כלשהו.\r\n\r\nהודעות מתורגמות שמורות בספריה הנקראת *מקור הודעות* (*message source*). מקור הודעה מיוצג כאובייקט של [CMessageSource] או מחלקות היורשות ממנו. בעת הקריאה למתודה [()Yii::t|YiiBase::t], המתודה תחפש את ההודעה במקור ההודעות ותחזיר את הגרסא המתורגמת של ההודעה במידה והיא נמצאה.\r\n\r\nYii מגיע עם סוגים שונים של מקור הודעות (אשר משמשים כמקום אחסון לשמירת ההודעות). כמו כן, הינך יכול להרחיב את המחלקה [CMessageSource] בכדי ליצור מקור הודעות מותאם אישית בעצמך.\r\n\r\n- [CPhpMessageSource]: הודעות התרגום שמורות במערך של אלמנטים המכילים מפתח=>ערך. ההודעה המקורית היא המפתח בכל אלמנט במערך והתרגום הוא הערך בכל אלמנט במערך. כל מערך מייצג תרגום של הודעות בקטגוריה ספציפית והמערך שמור בקובץ PHP נפרד ששמו של הקובץ הוא שם הקטגוריה. קבצי התרגום של אותה שפה נמצאים תחת אותה תיקיה ששמה הוא שם המזהה היחודי של השפה (לדוגמא en, he, de). וכל תיקיות השפות הללו נמצאות תחת התיקיה המוגדרת על ידי [basePath|CPhpMessageSource::basePath].\r\n\r\n- [CGettextMessageSource]: קבצי התרגום נשמרים כקבצי [GNU\r\nGettext](http://www.gnu.org/software/gettext/).\r\n\r\n- [CDbMessageSource]: ההודעות המתורגמות שמורות בטבלאות במסד הנתונים. למידע נוסף יש לעיין בדוקומנטציה של [CDbMessageSource].\r\n\r\nתרגום ההודעות נטען [כרכיב אפליקציה](/doc/guide/basics.application#application-component). המערכת טוענת מראש רכיב אפליקציה בשם [messages|CApplication::messages] כדי לאחסן הודעות אשר נמצאות בשימוש על ידי האפליקציה של המשתמש. כברירת מחדל, סוג הרכיב של תרגום ההודעות הינו [CPhpMessageSource] והתיקיה בה שמורים קבצי ה-PHP המכילים את התרגומים נמצא תחת `protected/messages`.\r\n\r\nלסיכום, בכדי להשתמש בתרגום הודעות, יש לבצע את השלבים הבאים:\r\n\r\n\r\n1. להשתמש ב [()Yii::t|YiiBase::t] במקומות שההודעות צריכות להיות על פי שפה;\r\n\r\n2. ליצור קבצי PHP אשר יכילו את התרגום תחת `protected/messages/LocaleID/CategoryName.php`. כל קובץ מחזיר מערך של הודעות מתורגמות. יש לזכור שדוגמא זו יוצאת מנוקדת הנחה שהינך משתמש ברכיב תרגום ההודעות ברירת המחדל שהוא [CPhpMessageSource] כדי לאחסן את ההודעות המתורגמות.\r\n\r\n3. יש להגדיר את [CApplication::sourceLanguage] ו [CApplication::language]\r\n\r\n> Tip|טיפ: הכלי `yiic` בתוך המערכת של Yii יכול להיות לכלי עזר שימושי לניהול תרגום הודעות בעת השימוש ב-[CPhpMessageSource] כרכיב התרגום. הפקודה `message` יכולה לחלץ הודעות שדורשות תרגום מקבצי מקור בצורה אוטומטית ולאחד אותם עם קבצי תרגום קיימים.\r\n\r\nהחל מגרסא 1.0.10, בזמן השימוש ב-[CPhpMessageSource] לניהול ההודעות, הודעות עבור מחלקות של וידג''טים, תוספים, מודולים ניתן לנהל ולהשתמש בהם בצורה מיוחדת. במיוחד, אם הודעה שייכת לתוסף ששם המחלקה שלו הוא `Xyz`, אז ניתן להגדיר את שם הקטגוריה של ההודעה בפורמט של `Xyz.categoryName`. קובץ ההודעות יהיה `BasePath/messages/LanguageID/categoryName.php`, כש-`BasePath` מתייחס לתיקיה שבה קובץ המחלקה של התוסף נמצא. ובעת השימוש ב `Yii::t()` בכדי לתרגם הודעה של תוסף, יש להשתמש בפורמט הבא במקום:\r\n\r\n~~~\r\n[php]\r\nYii::t(''Xyz.categoryName'', ''הודעה לתרגום'')\r\n~~~\r\n\r\nהחל מגרסא 1.0.2, Yii הוסיפה תמיכה עבור [פורמט בחירה|CChoiceFormat]. פורמט בחירה מתייחס לבחירת נתון מתורגם בהתאם לערך המספרי. לדוגמא, בשפה האנגלית המילה `book` יכולה להיות במונח של יחיד או רבים בהתאם לכמות הספרים, בזמן שבשפות אחרות המילה הזו נשארת באותו מצב עבור יחיד או רבים (כמו סינית) או מכילה כללים יותר מסובכים עבור רבים (כמו ברוסית). פורמט בחירה פותר בעיה זו באופן פשוט אך יעיל.\r\n\r\nבכדי להשתמש בפורמט בחירה, הודעה מתורגמת צריכה להכיל רצף של זוגות ביטויים המופרדים ב-`|`, כפי שמוצג בדוגמא הבאה:\r\n\r\n~~~\r\n[php]\r\n''expr1#message1|expr2#message2|expr3#message3''\r\n~~~\r\n\r\nכשהביטוי `exprN` מתייחס לביטוי PHP אשר תוצאתו שווה לערך בוליאני (true/false) המעיד אם ההודעה המדוברת היא זו שצריכה להיות מוצגת. רק ההודעה הראשונה אשר תוצאת הביטוי תחזיר true תוצג.\r\nביטוי יכול להכיל משתנה מיוחד בשם `n` (שים לב שם המשתנה הוא `n` לא `n$`) אשר מייצג את הערך המספרי כפרמטר ראשון שעליו מתבצעת הבדיקה. לדוגמא, נניח והודעה מתורגמת הינה:\r\n\r\n~~~\r\n[php]\r\n''n==1#one book|n>1#many books''\r\n~~~\r\n\r\nואנו מעבירים ערך מספרי השווה ל 2 למערך הפרמטרים של ההודעה בעת הקריאה ל [()Yii::t|YiiBase::t], אנו נקבל `many book` בהודעה המתורגמת הסופית.\r\n\r\nבכדי לקצר את התחביר, אם הביטוי הוא מספר, הוא מקבל יחס של `n==Number`. לכן, את ההודעה המתורגמת למעלה ניתן לכתוב בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\n''1#one book|n>1#many books''\r\n~~~\r\n\r\n\r\n### תרגום קבצים\r\n\r\nתרגום קבצים נעשה על ידי קריאה ל - [CApplication::findLocalizedFile()]. עם הנתיב לקובץ שצריך לתרגם, המתודה תחפש את הקובץ עם אותו השם תחת תיקיה ששמה הוא שם האיזור לתרגום (`LocaleID`). במידה ונמצא הנתיב לקובץ יוחזר; אחרת, הנתיב המקורי יוחזר.\r\n\r\nתרגום קבצים נועד בעיקר בעת הצגת קובץ תצוגה. בעת הקריאה לאחת ממתודות התצוגה בקונטרולר או וידג''ט, קבצי התצוגה יתורגמו אוטומטית. לדוגמא, אם [שפת היעד|CApplication::language] הינה `zh_cn` בזמן [ששפת המקור|CApplication::sourceLanguage] הינה `en_us`, הצגת קובץ תצוגה בשם `edit` יגרום לחיפוש אחר קובץ התצוגה תחת התיקיה `protected/views/ControllerID/zh_cn/edit.php`. במידה והקובץ נמצא, גרסא מתורגמת זו היא זו שתוצג; אחרת, הקובץ `protected/views/ControllerID/edit.php` יוצג במקום.\r\n\r\nניתן להשתמש בתרגום קבצים למטרות אחרות, לדוגמא, הצגת תמונה מתורגמת או טעינת קובץ המבוסס על פי השפה.\r\n\r\nתצוגת תאריך ושעה\r\n------------------------\r\n\r\nתאריך ושעה בדרך כלל מוצג בפורמט שונה עבור מדינות ואיזורים שונים. המטרה של פורמט תאריך ושעה הוא ליצור תאריך או שעה בהתאם לאיזור/שפה הנמצאת בשימוש כרגע. Yii מספקת מחלקה בשם [CDateFormatter] למטרה זו.\r\n\r\nכל אובייקט של [CDateFormatter] מקושר עם איזור (שפה מסויימת) מסויים. בכדי לגשת לאובייקט המציג את התאריך והשעה עם שפת היעד לאורך כל האפליקציה, אנו יכולים פשוט לגשת למאפיין [dateFormatter|CApplication::dateFormatter] באפליקציה.\r\n\r\nמחלקת [CDateFormatter] מספקת בעיקר שני מתודות עבור תצוגה של זמן בפורמט UNIX.\r\n\r\n- [format|CDateFormatter::format]: מתודה זו מציגה את הזמן הנתון בפורמט UNIX כסטרינג רגיל בהתאם לדפוס שהוגדר, לדוגמא,\r\n\r\n~~~\r\n$dateFormatter->format(''yyyy-MM-dd'',$timestamp)\r\n~~~\r\n\r\n- [formatDateTime|CDateFormatter::formatDateTime]: מתודה זו מציגה את הזמן הנתון בפורמט UNIX כסטרינג רגיל בהתאם לדפוס שהוגדר **מראש** בהגדרות השפה (לדוגמא, `short` , `long`)\r\n\r\nתצוגת ספרות (מספרים)\r\n-----------------\r\n\r\nבדומה לתאריך ושעה, תצוגת מספרים היא שונה במדינות ואיזורים שונים. תצוגת ספרות כוללת מספרים עשרוניים, שערי מט"ח, ואחוזים. Yii מספקת את המחלקה [CNumberFormatter] למטרות אלו.\r\n\r\nבכדי להשתמש בתצוגת ספרות על פי שפת היעד לאורך כל האפליקציה ניתן להשתמש במאפיין [numberFormatter|CApplication::numberFormatter] באפליקציה.\r\n\r\nהמחלקה [CNumberFormatter] מספקת את המתודות הבאות בכדי להציג מספר שלם או עשרוני.\r\n\r\n- [format|CNumberFormatter::format]: מתודה זו מציגה את המספר הנתון בהתאם לדפוס שהוגדר, לדוגמא,\r\n\r\n~~~\r\n$numberFormatter->format(''#,##0.00'',$number)\r\n~~~\r\n\r\n- [formatDecimal|CNumberFormatter::formatDecimal]: מתודה זו מציגה את המספר הנתון בהתאם לדפוס העשרוני שהוגדר מראש בהגדרות שפת היעד (השפה בה משתמשים כרגע באפליקציה).\r\n\r\n- [formatCurrency|CNumberFormatter::formatCurrency]: מתודה זו מציגה את המספר הנתון או שער מט"ח בהתאם לדפוס של שערי מט"ח שהוגדר מראש בהגדרות שפת היעד (השפה בה משתמשים כרגע באפליקציה).\r\n\r\n- [formatPercentage|CNumberFormatter::formatPercentage]: מתודה זו מציגה את המספר הנתון בהתאם לדפוס של תצוגת אחוזים שהוגדר מראש בהגדרות שפת היעד (השפה בה משתמשים כרגע באפליקציה).\r\n\r\n<div class="revision">$Id: topics.i18n.txt 2069 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(47, 'topics.logging', 'topics.logging', '', '﻿תיעוד\r\n=======\r\n\r\nYii מספקת אפשרות לתיעוד גמישה ונרחבת. הודעות אשר מתועדות ניתנות לסיווג על פי רמות וקטגוריות. שימוש בפילטרים של רמות וקטגוריות, ניתן לנתב את ההודעות הנבחרות ליעדים שונים, כמו קבצים, אימיילים, תצוגה בחלונות בדפדפן וכדומה.\r\n\r\nתיעוד הודעות\r\n---------------\r\n\r\nניתן לתעד הודעות על ידי קריאה ל [Yii::log] או [Yii::trace]. ההבדל בין שני המתודות הללו היא שהמתודה השנייה מתעדת הודעה רק בזמן שהאפליקציה נמצאת במצב של [ניפוי שגיאות](/doc/guide/basics.entry#debug-mode).\r\n\r\n~~~\r\n[php]\r\nYii::log($message, $level, $category);\r\nYii::trace($message, $category);\r\n~~~\r\n\r\nבעת תיעוד הודעה, אנו צריכים להגדיר את הקטגוריה והרמה שלו. קטגוריה הינה סטרינג בפורמט של `xxx.yyy.zzz` בדומה [שמות מקוצרים](/doc/guide/basics.namespace). לדוגמא, אם ההודעה מתועדת תחת [CController], אנו יכולים להשתמש בקטגוריה `system.web.CController`. רמת ההודעה צריכה להיות אחד מהערכים הבאים:\r\n\r\n- `trace`: זוהי הרמה הנמצאת בשימוש על ידי [Yii::trace]. היא נועדה לעקוב אחר תהליך יצירת האפליקציה בזמן הפיתוח.\r\n\r\n- `info`: רמה זו נועדה לתיעוד של הודעות כלליות.\r\n\r\n- `profile`: רמה זו נועדה לתיעוד של הודעות פרופיל, אשר נרחיב עליהם בהמשך.\r\n\r\n- `warning`: רמה זו נועדה לתיעוד של הודעות אזהרה.\r\n\r\n- `error`: רמה זו נועדה לתיעוד של הודעות שגיאה.\r\n\r\nניתוב הודעות\r\n---------------\r\n\r\nהודעות המתועדות על ידי [Yii::log] או [Yii::trace] נשמרות בזיכרון. אנו בדרך כלל צריכים להציג אותם בדפדפן, או לשמור אותם במקום אחסון קבוע כמו קבצים, אימיילים. זה נקרא *ניתוב הודעות*, כלומר, שליחת ההודעות ליעד שונה.\r\n\r\nבאפליקציות Yii, ניתוב הודעות מנוהל על ידי הרכיב [CLogRouter]. הוא מנהל סט של מה שנקרא *ניתוב תיעודים*. כל נתב מייצג יעד עבור ההודעות. ניתן לבצע פילטר על גבי הודעות המועברות בנתב על פי הרמות והקטגוריות שלהן.\r\n\r\nבכדי להשתמש בניתוב הודעות, אנו צריכים להתקין ולטעון מראש את רכיב האפליקציה [CLogRouter]. כמו כן אנו צריכים להגדיר את המאפיין [routes|CLogRouter::routes] עם הנתבים בהם אנו רוצים להשתמש. הקוד הבא מציג דוגמא [לקובץ הגדרות](/doc/guide/basics.application#application-configuration) אשר מוגדר להשתמש עם ניתוב הודעות:\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''preload''=>array(''log''),\r\n    ''components''=>array(\r\n        ......\r\n        ''log''=>array(\r\n            ''class''=>''CLogRouter'',\r\n            ''routes''=>array(\r\n                array(\r\n                    ''class''=>''CFileLogRoute'',\r\n                    ''levels''=>''trace, info'',\r\n                    ''categories''=>''system.*'',\r\n                ),\r\n                array(\r\n                    ''class''=>''CEmailLogRoute'',\r\n                    ''levels''=>''error, warning'',\r\n                    ''emails''=>''admin@example.com'',\r\n                ),\r\n            ),\r\n        ),\r\n    ),\r\n)\r\n~~~\r\n\r\nבדוגמא למעלה, יש ברשותנו שני נתבים. הנתב הראשון הינו [CFileLogRoute] השומר את ההודעות בקובץ תחת התיקיה הזמנית באפליקציה. רק ההודעות שרמה שלהן היא `trace` או `info` ושהקטגוריה שלהם מתחילה ב `system` נשמרות. הנתב השני הינו [CEmailLogRoute] אשר שולח את ההודעות לכתובות האימיילים המוגדרות. רק ההודעות שהרמה שלהן היא `error` או `warning` נשלחות.\r\n\r\nניתן להשתמש בסוגי הנתבים הבאים באפליקציות Yii:\r\n\r\n\r\n\r\n   - [CDbLogRoute]: שומר את ההודעות בטבלה במסד הנתונים.\r\n   - [CEmailLogRoute]: שולח את ההודעות אל אימיילים שהוגדרו מראש.\r\n   - [CFileLogRoute]: שומר את ההודעות בקובץ תחת התיקיה הזמנית של האפליקציה.\r\n   - [CWebLogRoute]: מציג את ההודעות בסוף כל עמוד בדפדפן.\r\n   - [CProfileLogRoute]: מציג את הודעות הפרופיל בסוף כל עמוד בדפדפן.\r\n\r\n> Info|מידע: ניתוב הודעות מתבצע בסוף הבקשה הנוכחית כשהאירוע [onEndRequest|CApplication::onEndRequest] מתרחש. בכדי לעצור את טעינת הסקריפט וביצוע הבקשה במקום כלשהו, יש לקרוא למתודה [()CApplication::end] במקום `()die` או `()exit`, בגלל ש-[()CApplication::end]  יטען את האירוע [onEndRequest|CApplication::onEndRequest] כדי שיהיה ניתן לתעד ולנתב את ההודעות כראוי.\r\n\r\n### סינון הודעות\r\n\r\nכפי שכבר ציינו, ניתן לסנן הודעות על פי הרמות והקטגוריות בהם הן נמצאות לפני שהן נשלחות לניתוב כלשהו. זה נעשה על ידי הגדרת המאפיינים [levels|CLogRoute::levels] ו [categories|CLogRoute::categories] של הנתב המדובר. מספר רב של רמות או קטגוריות צריכות להיות משורשרות (מחוברות אחת לשנייה) בעזרת פסיק ( , ).\r\n\r\nמאחר וקטגוריות הודעות הם בפורמט של `xxx.yyy.zzz`, אנו יכולים להתייחס אליהם כהיררכית קטגוריות. במיוחד, אנו אומרים ש `xxx` הוא האב של `xxx.yyy` שהוא האב של `xxx.yyy.zzz`. לכן אנו יכולים להשתמש ב-`*.xxx` בכדי לייצג את הקטגוריה `xxx` וכל תתי הקטגוריות הנמצאות תחתיו.\r\n\r\n### תיעוד מידע בהקשר מסויים\r\n\r\nהחל מגרסא 1.0.6, אנו יכולים להגדיר לתעד מידע נוסף בהקשר מסויים, כמו לדוגמא משתנים מוגדרים מראש של PHP (כמו `GET_$` ו `SERVER_$`), מספר מזהה ב Session, שם משתמש וכדומה. זה נעשה על ידי הגדרת המאפיין [CLogRoute::filter] בנתב מסויים לפילטר המתאים.\r\n\r\nהמערכת מגיעה עם מחלקה נוחה בשם [CLogFilter] שניתן להשתמש בה כפילטר הדרוש ברוב המקרים. כברירת מחדל, [CLogFilter] יתעד הודעות עם משתנים כמו `GET_$` ו `SERVER_$` אשר מכילים בדרך כלל מידע חשוב בהקשר למערכת. כמו כן, ניתן להגדיר את [CLogFilter] כדי שיספק קידומת עבור הודעות עם מספר מזהה יחודי כלשהו, שם משתמש וכדומה, אשר יכול לפשט בצורה משמעותית את החיפוש הגלובלי כשאנו בודקים את ההודעות המתועדות הרבות.\r\n\r\nההגדרות הבאות מציגות כיצד להפעיל תיעוד מידע בהקשר מסויים. דע שכל נתב הודעות יכול להכיל את פילטר ההודעות שלו. וכברירת מחדל, נתב הודעות לא מכיל פילטר הודעות.\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''preload''=>array(''log''),\r\n    ''components''=>array(\r\n        ......\r\n        ''log''=>array(\r\n            ''class''=>''CLogRouter'',\r\n            ''routes''=>array(\r\n                array(\r\n                    ''class''=>''CFileLogRoute'',\r\n                    ''levels''=>''error'',\r\n                    ''filter''=>''CLogFilter'',\r\n                ),\r\n                ...נתבי הודעות נוספים...\r\n            ),\r\n        ),\r\n    ),\r\n)\r\n~~~\r\n\r\nהחל מגרסא 1.0.7, Yii מאפשרת לשמור את המיקום (קובץ ושורה) שההודעה תועדה עבור הודעות אשר מתועדות על ידי `Yii::trace`. אפשרות זו כבויה כברירת מחלד מאחר והיא משפיעה לרעה על ביצועי המערכת. בכדי להפעיל אפשרות זו, יש להגדיר פשוט משתנה גלובלי `YII_TRACE_LEVEL` בתחילת הסקריפט (בקובץ `index.php` לפני הטעינה של הקובץ `yii.php`) עם ערך הגדול מ-0. Yii תוסיף עבור כל הודעה מתועדת את הקובץ והשורה שבה ההודעה תועדה. המספר המוגדר בערך הגלובלי `YII_TRACE_LEVEL` הוא כדי שהמערכת תדע להציג את עומק הקריאה, זאת אומרת שאם ההודעה תועדה בקובץ שנטען שלישי מתחילת הסקריפט (מהרצת קובץ `index.php`) ואנו הגדרנו את המשתנה `YII_TRACE_LEVEL` למספר 2 רק שני הקבצים האחרונים בדרך להודעה יתועדו. מידע זה שימושי בעיקר בזמן פיתוח מאחר וזה יכול לעזור בזיהוי המקומות בהם ההודעה תועדה.\r\n\r\nשימוש במשתנה הגלובלי `YII_TRACE_LEVEL` נעשה בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\ndefine(''YII_TRACE_LEVEL'', 2);\r\n~~~\r\n\r\nתיעוד ביצועים (פרופיל)\r\n---------------------\r\n\r\nתיעוד ביצועים הינה אפשרות מיוחדת בתיעוד ההודעות. שימוש בתיעוד ביצועים נעשה בעיקר כדי למדוד את הזמן הדרוש עבור הרצת קוד מסויים בכדי לדעת איפה נמצא צוואר הבקבוק.\r\n\r\nבכדי להשתמש בתיעוד ביצועים, אנו צריכים לזהות אילו חלקי קוד צריכים להיות מתועדים. אנו מסמנים את ההתחלה והסוף עבור כל חתיכת קוד על ידי הוספת המתודות הבאות:\r\n\r\n~~~\r\n[php]\r\nYii::beginProfile(''blockID'');\r\n...חתיכת הקוד שאנו רוצים לבצע עליו את תיעוד הביצועים....\r\nYii::endProfile(''blockID'');\r\n~~~\r\n\r\n`blockID` הינו שם יחודי המזהה את הקוד הספציפי הזה.\r\n\r\nיש לזכור, קטעי קוד צריכים להיות משורשרים בהיררכיה נכונה. זאת אומרת, קטע קוד לא יכול להצטלב עם קטע קוד אחר. הוא חייב להיות מקביל או תחום לגמרי על ידי קטע קוד אחר.\r\n\r\nבכדי להציג את תוצאות תיעוד הביצועים, אנו צריכים להתקין רכיב אפליקציה בשם [CLogRouter] אשר משתמש בניתוב מסוג [CProfileLogRoute]. זה דומה למה שאנו עושים עם ניתובי הודעות רגילים. הנתב [CProfileLogRoute] יציג את תוצאות הביצועים בסוף העמוד בדפדפן.\r\n\r\n### תיעוד ביצועי שאילתות SQL\r\n\r\nתיעוד ביצועים הוא שימושי במיוחד בעת השימוש במסד נתונים מאחר ושאילתות SQL הם הגורם העיקרי לצווארי בקבוק באפליקציה. אנו יכולים לציין באופן ידני ביטויים של `beginProfile` ו `endProfile` במקומות מסויימים בכדי למדוד את הזמן הנדרש עבור כל שאילתת SQL, החל מגרסא 1.0.6, Yii מספקת גישה יותר שיטתית כדי לפתור בעיה זו.\r\n\r\nעל ידי הגדרת המאפיין [CDbConnection::enableProfiling] לערך השווה ל `true` בהגדרות האפליקציה, כל שאילתית SQL שתתבצע תתועד. ניתן להציג תוצאות אלו על ידי שימוש בנתב [CProfileLogRoute] שהצגנו קודם לכן, המציג לנו כמה זמן נמדד עבור כל שאילתת SQL. כמו כן אנו יכולים לקרוא למתודה [()CDbConnection::getStats] כדי לשלוף את מספר שאילתות SQL שבוצעו ואת הזמן הכולל שלקח לבצע אותם.\r\n\r\n<div class="revision">$Id: topics.logging.txt 1147 2009-06-18 19:14:12Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(48, 'topics.performance', 'topics.performance', '', '﻿שיפור ביצועי המערכת\r\n==================\r\n\r\nביצועי אפליקצית ווב מושפעים על ידי גורמים רבים. גישה למסד נתונים, פעולות הקשורות לקבצים, תעבורת שרת כל אלו הם גורמים פוטנציאלים. Yii מנסה בכל ההיבטים להוריד את ההשפעה על ביצועי האפליקציה הנגרמים על ידי הפריימוורק. אך עדיין, ישנם המון מקומות באפליקצית המשתמש שניתן לשפר בכדי להעצים את ביצועי המערכת.\r\n\r\nהפעלת תוסף APC\r\n----------------------\r\n\r\nהפעלת התוסף [APC](http://www.php.net/manual/en/book.apc.php) בשרת היא כנראה הדרך הקלה ביותר לשיפור הביצועים של אפליקציה. התוסף מבצע אופטימיזציה של קוד ה PHP ושומר אותו במטמון ובכך מונע את הזמן הדרוש לעיבוד קוד ה PHP עבור כל בקשה נכנסת.\r\n\r\nכיבוי אפשרות ניפוי השגיאות\r\n--------------------\r\n\r\nכיבוי אפשרות ניפוי השגיאות הינה דרך קלה נוספת לשיפור הביצועים. אפליקציה רצה במצב של ניפוי שגיאות במידה והמשתנה הקבוע `YII_DEBUG` מוגדר כ true. מצב ניפוי שגיאות הינו שימוש בזמן תהליך הפיתוח, אך זה ישפיע לרעה על ביצועי האפליקציה מאחר וכמה רכיבים גורמים לנטל נוסף במצב של ניפוי שגיאות. לדוגמא, מערכת התיעודים במערכת שומרת תיעודים נוספים עבור כל הודעה הנשמרת בתיעוד במצב של ניפוי שגיאות.\r\n\r\nשימוש ב `yiilite.php`\r\n-------------------\r\n\r\nבמידה והתוסף [APC](http://www.php.net/manual/en/book.apc.php) מופעל, אנו יכולים להחליף את הקובץ `yii.php` בקובץ הרצה ראשוני אחר בשם `yiilite.php` בכדי לשפר אף יותר את ביצועי האפליקציה הרצה על גבי מערכת ה Yii.\r\n\r\nהקובץ `yiilite.php` מגיע עם כל גרסא של Yii. קובץ זה הוא התוצאה של איחוד כמה מחלקות נפוצות לקובץ אחת. ההערות והודעות התיעוד הוסרו מקובץ מאוחד זה. לכן, שימוש ב `yiilite.php` יקטין את מספר הקבצים המתווספים במהלך הרצת האפליקציה וימנע הרצה של פקודות המתעדות פעולות את הפעולות הנעשות באפליקציה.\r\n\r\n> Note|הערה: שימוש ב `yiilite.php` ללא APC יכול למעשה להשפיע על ביצועי המערכת **לרעה**, מאחר ו `yiilite.php` מכיל מחלקות שלמעשה לא משומשות בכל בקשה ויהיה צורך בזמן עיבוד נוסף ומיותר.\r\nכמו כן, נראו מקרים בהם השימוש ב `yiilite.php` אובחן להיות איטי יותר בהגדרות שונות על שרתים שונים, גם כשהתוסף APC מופעל. הדרך הטובה ביותר לשפוט במידה וכדאי להשתמש ב `yiilite.php` או לא היא על ידי הרצת בדיקת עומס על גבי הדוגמא של `hello world` המצורפת למערכת.\r\n\r\nשימוש בטכניקות מטמון\r\n------------------------\r\n\r\nכפי שמדובר בחלק אודות [מטמון](/doc/guide/caching.overview), Yii מספק פתרונות מטמון שונים שיכולים לשפר את הביצועים של האפליקציה בצורה משמעותית. במידה ויצירת תוכן מסויים דורש זמן רב, אנו יכולים להשתמש בגישה של [מטמון נתונים](/doc/guide/caching.data) בכדי להפחית את תדירות יצירת הנתונים; במידה וחלק מהעמוד נשאר סטטי, אנו יכולים להשתמש [במטמון בחלקים](/doc/guide/caching.fragment) בכדי להפחית את תדירות עיבוד התצוגה; במידה וכל העמוד נשאר סטטי, אנו יכולים להשתמש [במטמון עמודים](/doc/guide/caching.page) בכדי להפחית ולחסוך בתדירות עיבוד התצוגה של העמוד כולו.\r\n\r\nבמידה והאפליקציה משתמשת ב [Active Record](/doc/guide/database.ar), אנו יכולים להפעיל את המטמון עבור תרשים מסד הנתונים בכדי לשמור את התרשים (שבדרך כלל לא משתנה) במטמון ולחסוך את זמן עיבוד תרשים מסד הנתונים בכל בקשה. ניתן לבצע זאת על ידי הגדרת המאפיין [CDbConnection::schemaCachingDuration] לערך הגדול מ 0.\r\n\r\nמלבד שיטות המטמון שהצגנו כרגע שהם ברמת האפליקציה, אנו יכולים להשתמש במטמון ברמת השרת בכדי להאיץ את האפליקציה עוד יותר. בעצם, התוסף [APC](/doc/guide/topics.performance#enabling-apc-extension) שתארנו לגביו קודם לכן שייך לקטגוריה זו.\r\nישנם עוד שיטות לשימוש במטמון בצד השרת כמו, [Zend Optimizer](http://Zend.com/ZendOptimizer),\r\n[eAccelerator](http://eaccelerator.net/),\r\n[Squid](http://www.squid-cache.org/) ואחרים.\r\n\r\nאופטימיזצית מסד הנתונים\r\n---------------------\r\n\r\nשליפת מידע ממסד נתונים הוא בדרך כלל צוואר הבקבוק באפליקצית ווב. למרות ששימוש במטמון יכול להקל על הפגיעה בביצועים, זה אינו פותר את הבעיה לחלוטין. ברגע שמסד הנתונים מכיל כמות עצומה של נתונים והתוכן השמור במטמון תוקפו פג ויש לחדשו, שליפת הנתונים האחרונים ממסד הנתונים יכול לקחת זמן רב ללא עיצוב נכון של מסד הנתונים והשאילתה.\r\n\r\nיש לעצב את האינדקסים במסד הנתונים בצורה נבונה. אינדוקס יכול לזרז שאילתות `SELECT` בצורה משמעותית, אך זה יכול להאט שאילתות `INSERT` , `UPDATE`, או `DELETE`.\r\n\r\nעבור שאילתות מורכבות, מומלץ ליצור טבלת VIEW במסד הנתונים במקום לבצע את השאילתות בקוד ה PHP ולבקש מה DBMS (מסד הנתונים) לעבד אותם שוב ושוב.\r\n\r\nאין להשתמש יותר מדי ב [Active Record](/doc/guide/database.ar). למרות ש [Active Record](/doc/guide/database.ar) הוא שימוש בעיצוב הנתונים באופן מונחה עצמים (OOP), הוא למעשה פוגע לרעה בביצועי המערכת מאחר והוא יוצר אובייקט אחד או יותר המייצג כל שורה בתוצאות השאילתה. עבור אפליקציות המכילות מידע רב, שימוש ב [DAO](/doc/guide/database.dao) או API של מסדי נתונים ברמה נמוכה יותר יכולה להיות בחירה טובה יותר.\r\n\r\nלבסוף, יש להשתמש ב `LIMIT` בשאילתות `SELECT`. זה מונע שליפה אדירה של נתונים בבת אחת ממסד הנתונים ובזבוז זכרון המערכת המוקצה ל PHP.\r\n\r\nצמצום מספר קבצי ספריט\r\n-----------------------\r\n\r\nעמודים מורכבים בדרך כלל צריכים לכלול הרבה קבצי JS ו CSS חיצוניים. מאחר וכל קובץ נוסף יגרום לבקשה הלוך חזור לשרת, אנו צריכים לצמצם את מספר קבצי הסקריפט החיצוניים על ידי איחוד של כולם לקובץ אחד. אנו גם צריכים לשקול להקטין את גודל כל קובץ בכדי להפחית מהזמן הנדרש לשלוח ולקבלו מהשרת. ישנם כלים רבים מסביב שיכולים לעזור בשני היטבים אלו.\r\n\r\nעבור עמוד הנוצר על ידי Yii, סביר להניח שישנם קבצי סקריפט המוצגים על ידי רכיבים שאנו לא רוצים לערוך (לדוגמא, רכיבים בסיסיים במערכת ה Yii, רכיבי צד-שלישי). בכדי לצמצם את מספר קבצי הסקריפט הללו, אנו צריכים לבצע שני דברים.\r\n\r\n> Note|הערה: האפשרות של `scriptMap` שאנו נתאר בחלק הבא קיימת החל מגרסא 1.0.3.\r\n\r\nקודם כל, אנו מגדירים את הסקריפטים שאנו רוצים לצמצם על ידי הגדרת המאפיין [scriptMap|CClientScript::scriptMap] של רכיב המחלקה [clientScript|CWebApplication::clientScript].\r\nניתן לבצע זאת בהגדרות האפליקציה או בקוד. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n$cs=Yii::app()->clientScript;\r\n$cs->scriptMap=array(\r\n    ''jquery.js''=>''/js/all.js'',\r\n    ''jquery.ajaxqueue.js''=>''/js/all.js'',\r\n    ''jquery.metadata.js''=>''/js/all.js'',\r\n    ......\r\n);\r\n~~~\r\n\r\nמה שהקוד למעלה עושה הוא ממפה את קבצי הסקריפט הרשומים למעלה לקישור `js/all.js/`. במידה ואחד מקבצי הסקריפט הרשומים למעלה יצורף על ידי רכיב כלשהו, Yii יצרף את הקישור (פעם אחת) במקום את הקישור של כל אחד מהסקריפטים.\r\n\r\nשנית, אנו צריכים להשתמש בכלי כלשהו לאיחוד (ואולי גם כיווץ התוכן) קבצי הסקריפט לקובץ סקריפט אחד ולשמור אותו כ `js/all.js`.\r\n\r\n> Note|הערה: יש לבצע את האיחוד והכיווץ ידנית, נכון לעכשיו Yii לא מאפשרת לעשות זאת תחת הרכיבים שלה.\r\n\r\nאפשרות זו ניתנת לביצוע גם על גבי קבצי CSS.\r\n\r\nכמו כן אנו יכולים לשפר את מהירות טעינת העמוד בעזרת [Google AJAX Libraries API](http://code.google.com/apis/ajaxlibs/). לדוגמא, אנו יכולים לצרף את `jquery.js` מהשרתים של Google במקום לצרף את אותו הקובץ מהשרתים שלנו. בכדי לעשות זאת, אנו קודם צריכים להגדיר את המאפיין `scriptMap` בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\n$cs=Yii::app()->clientScript;\r\n$cs->scriptMap=array(\r\n    ''jquery.js''=>false,\r\n    ''jquery.ajaxqueue.js''=>false,\r\n    ''jquery.metadata.js''=>false,\r\n    ......\r\n);\r\n~~~\r\n\r\nעל ידי מיפוי קבצים אלו ל false, אנו מונעים מ Yii מליצור את הקוד המצרף קבצים אלו. במקום, אנו כותבים את הקוד הבא בעמודים שלנו בכדי לצרף את הסקריפטים אחד אחד מהשרתים של Google,\r\n\r\n~~~\r\n[php]\r\n<head>\r\n<?php echo CGoogleApi::init(); ?>\r\n\r\n<?php echo CHtml::script(\r\n    CGoogleApi::load(''jquery'',''1.3.2'') . "\\n" .\r\n    CGoogleApi::load(''jquery.ajaxqueue.js'') . "\\n" .\r\n    CGoogleApi::load(''jquery.metadata.js'')\r\n); ?>\r\n......\r\n</head>\r\n~~~\r\n\r\n<div class="revision">$Id: topics.performance.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(49, 'topics.prado', 'topics.prado', '', '﻿שימוש בתחביר תצוגה נוסף\r\n=================================\r\n\r\nYii מאפשרת למפתחים להשתמש בתחביר התצוגה המועדף עליהם (לדוגמא Prado, Smarty וכדומה) בכדי לכתוב את קבצי התצוגה של הקונטרולר או הוידג''ט. זה נעשה על ידי כתיבת והתקנת רכיב אפליקציה [viewRenderer|CWebApplication::viewRenderer]. מעבד התצוגה (הרנדרר) מיירט את הקריאות של  [CBaseController::renderFile], מקמפל את קובץ התצוגה עם תחביר תצוגה מותאם אישית, ומציג (מרנדרר) את התוצאה המקומפלת.\r\n\r\n> Info|מידע: מומלץ להשתמש בתחביר תצוגה מותאם אישית רק כאשר כותבים קבצי תצוגה שסביר להניח שלא יעשה בהם שימוש חוזר. אחרת, משתמשים אשר משתמשים בקבצי התצוגה יהיו מוכרחים לעבוד עם אותו תחביר תצוגה באפליקציות שלהם.\r\n\r\nבחלק הבא, אנו מציגים כיצד להשתמש [CPradoViewRenderer], מעבד תצוגה (רנדרר) אשר מאפשר למפתחים להשתמש בתחביר תצוגה הדומה לזה שנמצא ב ‎[Prado](http://www.pradosoft.com/). עבור מפתחים הרוצים לכתוב את מעבד התצוגה שלהם, ניתן להשתמש  ב [CPradoViewRenderer] כמחלקת עזר.\r\n\r\nשימש ב `CPradoViewRenderer`\r\n--------------------------\r\n\r\nבכדי להשתמש ב [CPradoViewRenderer], אנו צריכים להגדיר את האפליקציה בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ......,\r\n        ''viewRenderer''=>array(\r\n            ''class''=>''CPradoViewRenderer'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nכברירת מחדל, [CPradoViewRenderer] מקמפל את קוד המקור של קבצי התצוגה ושומר את תוצאת הקימפול בקובץ PHP תחת התיקיה [הזמנית](/doc/guide/basics.convention#directory).\r\nרק כאשר קובץ המקור של התצוגה משתנה, קבצי ה PHP  השמורים בתיקיה הזמנית יווצרו מחדש. לכן, שימוש ב [CPradoViewRenderer] כמעט ולא משפיע לרעה על ביצועי המערכת.\r\n\r\n> Tip|טיפ: למרות ש [CPradoViewRenderer] מציג בעיקר תגיות תחביר חדשות עבור קבצי התצוגה בכדי לפשט ולזרז את כתיבתם, ניתן עדיין להשתמש בקוד PHP בתוך קבצי התצוגה כפי שבדרך כלל נעשה.\r\n\r\nבחלק הבא, אנו נציג את התגיות החדשות הנתמכות על ידי [CPradoViewRenderer].\r\n\r\n### תגיות PHP קצרות\r\n\r\nתגיות PHP קצרות הם קיצורי דרך לכתיבת ביטויים ב PHP  בתוך קבצי התצוגה. התגית\r\n\r\n\r\n~~~\r\n<%= expression %>\r\n\r\n~~~\r\n\r\n מתורגמת ל\r\n\r\n\r\n~~~\r\n\r\n<?php echo expression ?>\r\n\r\n~~~\r\n\r\n\r\n בזמן שהתגית\r\n\r\n\r\n~~~\r\n\r\n<% statement %>\r\n\r\n~~~\r\n\r\n\r\n מתורגמת ל\r\n\r\n~~~\r\n\r\n<?php statement ?>\r\n~~~\r\n\r\n\r\n לדוגמא,\r\n\r\n~~~\r\n[php]\r\n<%= CHtml::textField($name,''value''); %>\r\n<% foreach($models as $model): %>\r\n~~~\r\n\r\nמתורגם לקוד ה PHP הבא\r\n\r\n~~~\r\n[php]\r\n<?php echo CHtml::textField($name,''value''); ?>\r\n<?php foreach($models as $model): ?>\r\n~~~\r\n\r\n### תגיות רכיבים\r\n\r\nתגיות רכיבים נועדו לשימוש בעיקר בכדי להכניס [וידג''ט](/doc/guide/basics.view#widget) לקובץ התצוגה. תגית זו משתמשת בתחביר הבא:\r\n\r\n~~~\r\n[php]\r\n<com:WidgetClass property1=value1 property2=value2 ...>\r\n    // תוכן עבור הוידג''ט\r\n</com:WidgetClass>\r\n\r\n// וידג''ט ללא תוכן\r\n<com:WidgetClass property1=value1 property2=value2 .../>\r\n~~~\r\n\r\nכש `WidgetClass` מייצגת את שם המחלקה של הוידג''ט או [הנתיב המקוצר אליה](/doc/guide/basics.namespace), והערכים ההתחלתיים של מאפייני המחלקה יכולים להיות עטופים במרכאות או ביטויים ב PHP אשר עטופים ב סוגריים מסולסלות. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n<com:CCaptcha captchaAction="captcha" showRefreshButton={false} />\r\n~~~\r\n\r\nיתורגם לקוד ה PHP הבא\r\n\r\n~~~\r\n[php]\r\n<?php $this->widget(''CCaptcha'', array(\r\n    ''captchaAction''=>''captcha'',\r\n    ''showRefreshButton''=>false)); ?>\r\n~~~\r\n\r\n> Note|הערה: הערך עבור ה מוגדר כ `{false}` במקום `"false"` מאחר והשני מעיד על סטרינג במקום ערך בוליאני.\r\n\r\n### תגיות מטמון\r\n\r\nתגיות מטמון הם קיצור לשימוש [במטמון בחלקים](/doc/guide/caching.fragment). התחביר שלו הוא כמו בדוגמא הבאה,\r\n\r\n~~~\r\n[php]\r\n<cache:fragmentID property1=value1 property2=value2 ...>\r\n    // content being cached\r\n</cache:fragmentID >\r\n~~~\r\n\r\nכש `fragmentID` צריך להיות המזהה היחודי של המטמון שמזהה יחודית את התוכן הנשמר במטמון, וזוגות המאפיינים אחריו נועדו להגדרת המאפיינים ההתחלתיים של המטמון. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n<cache:profile duration={3600}>\r\n    // פרופיל משתמש כאן\r\n</cache:profile >\r\n~~~\r\n\r\nיתורגם לקוד ה PHP הבא\r\n\r\n~~~\r\n[php]\r\n<?php if($this->cache(''profile'', array(''duration''=>3600))): ?>\r\n    // פרופיל משתמש כאן\r\n<?php $this->endCache(); endif; ?>\r\n~~~\r\n\r\n### תגיות קליפ\r\n\r\nכמו בתגיות המטמון, תגיות קליפ הינם קיצור דרך לקריאה של [CBaseController::beginClip] ו [CBaseController::endClip] בקובץ תצוגה. התחביר שלהם הוא כפי שמוצג בדוגמא הבאה,\r\n\r\n~~~\r\n[php]\r\n<clip:clipID>\r\n    // תוכן הקליפ\r\n</clip:clipID >\r\n~~~\r\n\r\nכש `clipID` הוא מזהה יחודי עבור תוכן הקליפ. תגיות הקליפ יתורגמו לקוד ה PHP הבא\r\n\r\n~~~\r\n[php]\r\n<?php $this->beginClip(''clipID''); ?>\r\n    // תוכן הקליפ\r\n<?php $this->endClip(); ?>\r\n~~~\r\n\r\n### תגיות הערות\r\n\r\nתגיות הערות נועדו לכתיבת הערות בתצוגה שיש להציג אותם רק למפתחים. תגיות הערות אלו יוסרו כשקובץ התצוגה יוצג למשתמשי הקצה. התחביר עבור תגיות הערות הוא כבדוגמא הבאה,\r\n\r\n~~~\r\n[php]\r\n<!---\r\nהערות שלא יוצגו למשתמשי הקצה\r\n--->\r\n~~~\r\n\r\nערבוב פורמט תבניות\r\n-----------------------\r\n\r\nהחל מגרסא 1.1.2, ניתן לערבב שימוש של כמה תחבירי תבניות עם תחביר PHP רגיל. בכדי לעשות זאת, המאפיין [CViewRenderer::fileExtension] של מעבד התבניות המותקן כרגע צריך להיות מוגדר עם ערך השונה מ `php.`. לדוגמא, אם המאפיין מוגדר לערך `tpl.`, אז כל קובץ תצוגה המסתיים ב `tpl.` יועבד ויוצג בעזרת מעבד התבניות המותקן, בזמן שכל שאר קבצי התצוגה המסתיימים עם `php.` יקבלו יחס של קבצי PHP רגילים.\r\n\r\n<div class="revision">$Id: topics.prado.txt 1983 2010-03-31 19:46:37Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(50, 'topics.security', 'topics.security', '', '﻿אבטחה\r\n========\r\n\r\nמניעת פריצת האפליקציה בעזרת XSS\r\n-------------------------------\r\n\r\nCross-site scripting הידוע כ XSS קורה כשאפליקצית ווב אוספת נתונים זדוניים מהמשתמש. בדרך כלל התוקפים יזריקו קוד Javascript, VBScript, ActiveX, HTML או פלאש אל אפליקציה שאינה מוגנת כראוי וניתנת לחדירה על ידי התקפות מסוג זה בכדי לרמות משתמשים אחרים ולאסוף מידע מהם. לדוגמא, פורום שנכתב בצורה לא טובה יכול להציג את הודעות המשתמש בנושאים ללא שום בדיקה קודם לכן.\r\nתוקף יכול להזריק חתיכת קוד Javascript זדוני לתוך ההודעה ככה שברגע שמשתמשים יקראו את ההודעה הזו, קוד ה Javascript ירוץ באופן בלתי צפוי על גבי המחשב שלהם.\r\n\r\nאחד מהצעדים החושבים ביותר למניעת התקפות XSS הוא לבדוק את הקלט שהגיע מהמשתמש לפני הצגתו. ניתן לבצע קידוד ל HTML על הקלט שהגיע מהמשתמש ולהשיג מטרה זו. למרות,  שבמקרים מסויימים קידוד ה-HTML אינו מומלץ מאחר והוא מבטל את כל תגיות ה HTML .\r\n\r\nYii משלבת את אפשרות השימוש ב [HTMLPurifier](http://htmlpurifier.org/) ומספקת למפתחים רכיב שימוש בשם [CHtmlPurifier] הפועל כמעטפת עבור [HTMLPurifier](http://htmlpurifier.org/).\r\nרכיב זה מסוגל להסיר את כל הקד הזדוני אשר מבוקר באופן יסודי, מאובטח אך עדיין מאפשר שימוש ברשימה של כמה תגים שאינם זדוניים (שניתנים להגדרה באופן אישי) ומוודא שהתוכן שעבר סינון תואם לתקן.\r\n\r\nניתן להשתמש ברכיב [CHtmlPurifier] [כוידג''ט](/doc/guide/basics.view#widget) או [כפילטר](/doc/guide/basics.controller#filter). כשמשתמשים בו כוידג''ט, [CHtmlPurifier] יטהר את התוכן הנמצא בתוכו בקובץ תצוגה. לדוגמא,\r\n\r\n~~~\r\n[php]\r\n<?php $this->beginWidget(''CHtmlPurifier''); ?>\r\nהצגת הודעות שהגיעו מהמשתמש כאן שיש לסנן אותם מקוד זדוני\r\n<?php $this->endWidget(); ?>\r\n~~~\r\n\r\nמניעת התקפות CSRF\r\n-------------------------------------\r\n\r\nהתקפות Cross-Site Request Forgery (CSRF) מתבצעות כשאתר זדוני גורם לדפדפן המשתמש לבצע פעולה לא רצויה על אתר אמין. לדוגמא, באתר הזדוני קיים עמוד המכיל תג תמונה (<img .. >) שהערך `src` שלו מפנה לאתר בנקאי: `http://bank.example/withdraw?transfer=10000&to=someone`. במידה ולמשתמש יש עוגיה השומרת את פרטי ההתחברות שלו באתר הבנקאי ההוא והמשתמש מבקש בטעות בעמוד הזדוני, הפעולה של העברה של 10000 דולר למשהו תתבצע. בניגוד ל XSS אשר מנצל את האמון שיש למשתמש עבור אתר מסויים, CSRF מנצל את האמון של אתר למשתמש מסויים.\r\n\r\nבכדי למנוע התקפות CSRF,ג חשוב לציית לחוק שבקשות `GET` המתקבלות מאפשרת רק לשלוף מידע בלא לשנות מידע שנמצא על השרת. ובקשות `POST`, הם צריכות להכיל ערך רנדומלי כלשהו שהשרת יכול לזהותו כדי לוודא שהטופס הנשלח נשלח והגיע אל אותו המקור (ששלח את הטופס).\r\n\r\nYii מיישם אפשרות למניעת CSRF בכדי לנסות להביס התקפות מבוססות `POST`. אפשרות זו מבוססת על ידי כך שהיא שומרת ערך רנדומלי בעוגיה ומשווה את הערך הזה עם הערך שנשלח בעזרת בקשת ה `POST`.\r\n\r\nכברירת מחדל, ההגנה מול CSRF כבויה. בכדי להפעיל אותה, יש להגדיר את הרכיב [CHttpRequest] [בהגדרות האפליקציה](/doc/guide/basics.application#application-configuration) בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''request''=>array(\r\n            ''enableCsrfValidation''=>true,\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nובכדי להציג טופס, יש להשתמש ב [CHtml::form] במקום לכתוב את קוד ה HTML של הטופס ידנית. השימוש ב [CHtml::form] תשבץ את הערך הרנדומלי הרצוי בשדה נסתר בטופס כדי שיהיה ניתן לאמתו בעת הבדיקה עבור CSRF.\r\n\r\n\r\nמניעת התקפות מבוססות עוגיות\r\n------------------------\r\n\r\nהגנת העוגיות מהתקפות מהווה חשיבות רבה, מאחר והמזהים היחודיים במערכת נשמרים בעוגיות בדרך כלל (לדוגמא sessions). במידה ומשהו מקבל גישה למזהה היחודי של ה Session, הוא בעצם הבעלים של כל המידע הרלוונטי ל Session זה.\r\n\r\nישנם כמה אמצעים למניעת התקפות על עוגיות.\r\n\r\n\r\n* אפליקציה יכולה להשתמש ב SSL בכדי ליצור ערוץ תקשורת מאובטח ולהעביר את העוגיות על גבי חיבור HTTPS שהינו חיבור מאובטח לשרת. לכן, תופקים לא יוכלו לפענח את התוכן הנמצא בעוגיות המועברות.\r\n* יש להגדיר את התפוגה של ה Sessions בהתאם, כולל כל העוגיות והסימונים הנשארים על ידי ה Sessions, בכדי להפחית את הסבירות של להיות מותקף.\r\n* יש למנוע XSS הגורם לקוד זדוני לרוץ על גבי הדפדפן של המשתמש ולחשוף את העוגיות שלו.\r\n* אימות נתוני העוגיות ולגלות אם הם שונו.\r\n\r\nYii מיישמת אפשרות של אימות העוגיות בכדי למנוע את האפשרות שהעוגיות השתנו במהלך הבקשות. במיוחד, היא מבצעת בדיקת HMAC עבור הנתונים הנמצאים בעוגיות אם אפשרות בדיקת העוגיות מופעלת.\r\n\r\nאפשרות בדיקת העוגיות כבויה כברירת מחדל. בכדי להפעילה, יש להגדיר את רכיב האפליקציה [CHttpRequest] [בהגדרות האפליקציה](/doc/guide/basics.application#application-configuration) בצורה הבאה,\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''request''=>array(\r\n            ''enableCookieValidation''=>true,\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\n\r\nבכדי להשתמש באפשרות של בדיקת העוגיות הסופקת על ידי Yii, אנו גם צריכים לגשת לעוגיות על ידי שימוש באוסף [cookies|CHttpRequest::cookies], במקום לגשת אליהם ישירות בעזרת `COOKIES_$` לדוגמא,\r\n\r\n\r\n~~~\r\n[php]\r\n// שליפת העוגיה עם שם ספציפי\r\n$cookie=Yii::app()->request->cookies[$name];\r\n$value=$cookie->value;\r\n......\r\n// שמירת עוגיה\r\n$cookie=new CHttpCookie($name,$value);\r\nYii::app()->request->cookies[$name]=$cookie;\r\n~~~\r\n\r\n\r\n<div class="revision">$Id: topics.security.txt 1458 2009-10-16 15:03:59Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(51, 'topics.theming', 'topics.theming', '', '﻿ ניהול תבניות ועיצוב\r\n=======\r\n\r\nתבנית הינה דרך שיטתית לשינוי התצוגה של העמודים באפליקצית ווב. על ידי הוספת תבנית חדשה, המראה הכללי של האפליקציה משתנה באופן מיידי ודרמטי.\r\n\r\nב Yii, כל תבנית מיוצגת כתיקיה המכילה קבצי תצוגה, קבצי תבנית, קבצי סקריפט (Js, CSS), תמונות, וכדומה. שם התבנית הוא שם התיקיה בה הוא נמצא. כל התבניות נמצאות תחת אותה תיקיה `WebRoot/themes`. בכל זמן נתון, רק תבנית אחת יכולה להיות פעילה.\r\n\r\n> Tip|טיפ: תיקית התבניות ברירת המחדל `WebRoot/themes` ניתנת לשינוי לתיקיה אחרת בשרת. בכדי לבצע זאת יש להגדיר את המאפיינים [basePath|CThemeManager::basePath] ו [baseUrl|CThemeManager::baseUrl] של רכיב האפליקציה [themeManager|CWebApplication::themeManager].\r\n\r\nבכדי להפעיל תבנית, יש להגדיר את המאפיין [theme|CWebApplication::theme] של האפליקציה לשם התבנית הרצוי שבו רוצים להשתמש. ניתן לבצע הגדרה זו בקובץ [הגדרות](/doc/guide/basics.application#application-configuration) האפליקציה או במהלך הרצת האפליקציה בפעולות בקונטרולר.\r\n\r\n> Note|הערה: שמות התבניות רגישות לאותיות גדולות-קטנות. אם יהיה ניסיון להפעיל תבנית אשר אינה קיימת, שימוש ב `Yii::app()->theme` יחזיר null.\r\n\r\nהתכנים הנמצאים בתיקית תבנית צריכים להיות מאורגנים באותה צורה כמו אלו הנמצאים תחת התיקיה [הראשית](/doc/guide/basics.application#application-base-directory) של האפליקציה. לדוגמא, כל קבצי התצוגה צריכים להמצא תחת התיקיה `views`, קבצי תבניות צריכים להמצא תחת התיקיה `views/layouts`, וקבצי תצוגה מערכתיים צריכים להמצא תחת התיקיה `views/system`. לדוגמא, אם אנו רוצים להחליף את קובץ התצוגה `create` השייך לקונטרולר `PostController` עם קובץ התצוגה של התבנית `classic`, אנו צריכים לשמור את קובץ התצוגה החדש תחת התיקיה `WebRoot/themes/classic/views/post/create.php`.\r\n\r\nעבור קבצי תצוגה השייכים לקונטרולר הנמצא בתוך [מודול](/doc/guide/basics.module) מסויים, קבצי התצוגה המקבילים צריכים גם הם להיות ממקומים תחת התיקיה `views`. לדוגמא, אם קובץ הקונטרולר הנ"ל `PostController` נמצא תחת מודול בשם `forum`, אנו צריכים לשמור את קובץ התצוגה `create` שהוא משתמש בו כ `WebRoot/themes/classic/views/forum/post/create.php`. במידה והמודול `forum` נמצא תחת מודול נוסף בשם `support`, אז אנו נשמור את קובץ התצוגה הנ"ל כ `WebRoot/themes/classic/views/support/forum/post/create.php`.\r\n\r\n> Note|הערה: מאחר ותיקית קבצי התצוגה `views` יכולה להכיל מידע הרגיש מבחינת אבטחה, היא צריכה להיות מוגדרת כתיקיה שלא ניתן לצפות בתוכנה על ידי משתמשי הקצה.\r\n\r\nכשאנו נשתמש במתודות [render|CController::render] או [renderPartial|CController::renderPartial] בכדי להציג קובץ תצוגה, קובץ התצוגה הנ"ל וקובץ התבנית יטענו מהתיקיה של התבנית הנמצאת בשימוש כרגע. במידה והם נמצאו, קבצים אלו יוצגו. במידה ולא, קבצי התצוגה נסוגו לנתיב ברירת המחדל שלהם תחת [viewPath|CController::viewPath] ו [layoutPath|CWebApplication::layoutPath].\r\n\r\n> Tip|טיפ: בתוך קובץ תצוגה, אנו בדרך כלל צריכים לטעון משאבים (תמונות, קבצי סקריפט) מאותה תיקיה של התבנית בה אנו משתמשים כרגע. לדוגמא, אנו רוצים להציג תמונה הנמצאת בתיקיה `images` תחת התיקיה של התבנית הפעילה כרגע. שימוש במאפיין [baseUrl|CTheme::baseUrl] של התבנית הפעילה כרגע, אנו יכולים ליצור קישור לתמונה בצורה הבאה,\r\n>\r\n> ~~~\r\n> [php]\r\n> Yii::app()->theme->baseUrl . ''/images/FileName.gif''\r\n> ~~~\r\n>\r\n\r\nלהלן דוגמא לארגון תיקיות של אפליקציה המשתמשת בשני תבניות `basic` ו `fancy`.\r\n\r\n~~~\r\nWebRoot/\r\n    assets\r\n    protected/\r\n        .htaccess\r\n        components/\r\n        controllers/\r\n        models/\r\n        views/\r\n            layouts/\r\n                main.php\r\n            site/\r\n                index.php\r\n    themes/\r\n        basic/\r\n            views/\r\n                .htaccess\r\n                layouts/\r\n                    main.php\r\n                site/\r\n                    index.php\r\n        fancy/\r\n            views/\r\n                .htaccess\r\n                layouts/\r\n                    main.php\r\n                site/\r\n                    index.php\r\n~~~\r\n\r\nבהגדרות האפליקציה, אם נגדיר\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''theme''=>''basic'',\r\n    ......\r\n);\r\n~~~\r\n\r\nאז התבנית `basic` תיהיה פעילה, אשר אומר שקובץ תבנית האפליקציה יטען מהתיקיה `themes/basic/views/layouts`, וקובץ התצוגה `index` יטען מהנתיב `themes/basic/views/site`. במידה וקובץ תצוגה לא נמצא בתבנית, האפליקציה תסוג לקובץ התצוגה הנמצא תחת התיקיה `protected/views`.\r\n\r\n\r\nהתאמה גלובאלית לוידג''טים\r\n----------------------------\r\n\r\n> Note|הערה: אפשרות זו קיימת החל מגרסא 1.1.3.\r\n\r\nבעת השימוש בוידג''ט שסופק על ידי Yii או גורם צד שלישי, אנו בדרך כלל צריכים להתאים אותו לדרישות הספציפיות שלנו. לדוגמא, אנו נרצה לשנות את ערך ברירת המחדל של [CLinkPager::maxButtonCount] מ 10 כברירת מחדל ל 5. אנו יכולים לבצע זאת על ידי הצבת פרמטר בעת הקריאה ל-[CBaseController::widget] בעת יצירת הוידג''ט. אך דרך זו הופכת להיות טרחה מאחר ואנו חוזרים על אותו הפעולה שוב ושוב במקומות שונים באפליקציה בכל מקום בו אנו משתמשים ב-[CLinkPager].\r\n\r\n~~~\r\n[php]\r\n$this->widget(''CLinkPager'', array(\r\n    ''pages''=>$pagination,\r\n    ''maxButtonCount''=>5,\r\n    ''cssFile''=>false,\r\n));\r\n~~~\r\n\r\nבעזרת שימוש בהגדרות גלובאליות לוידג''טים, אנו צריכים להגדיר את הערכים הללו במקום אחד בלבד, לדוגמא, קובץ הגדרות האפליקציה. פעולה זו הופכת את ניהול ותחזוקת הוידג''טים לקלה יותר.\r\n\r\nבכדי להשתמש באפשרות של הגדרות גלובאליות עבור וידג''טים, אנו צריכים להגדיר את [widgetFactory|CWebApplication::widgetFactory] בצורה הבאה:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''widgetFactory''=>array(\r\n            ''widgets''=>array(\r\n                ''CLinkPager''=>array(\r\n                    ''maxButtonCount''=>5,\r\n                    ''cssFile''=>false,\r\n                ),\r\n                ''CJuiDatePicker''=>array(\r\n                    ''language''=>''ru'',\r\n                ),\r\n            ),\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו מגדירים את ההגדרות הגלובאליות עבור הוידג''טים [CLinkPager] ו [CJuiDatePicker] על ידי הגדרת המאפין [CWidgetFactory::widgets]. יש לזכור שהגדרות גלובאליות עבור כל וידג''ט מיוצגות כמפתח->ערך במערך, כשהמפתח מייצג את שם המחלקה של הוידג''ט והערך מייצג מערך של הגדרות גלובאליות לוידג''ט.\r\n\r\nכעת, בכל פעם שאנו ניצור וידג''ט [CLinkPager] בקובץ תצוגה, המאפיינים המוגדרים למעלה יוצבו כברירת מחדל לוידג''ט, וכל מה שאנו צריכים כדי ליצור את הוידג''ט הוא לכתוב את הקוד הבא:\r\n\r\n~~~\r\n[php]\r\n$this->widget(''CLinkPager'', array(\r\n    ''pages''=>$pagination,\r\n));\r\n~~~\r\n\r\nאנו תמיד יכולים לדרוס את ההגדרות הגלובלאיות בעת הצורך. לדוגמא, אם בקובץ תצוגה כלשהו אנו נרצה להגדיר את המאפיין `maxButtonCount` ל-2, אנו יכולים לבצע את זאת בעזרת הקוד הבא:\r\n\r\n~~~\r\n[php]\r\n$this->widget(''CLinkPager'', array(\r\n    ''pages''=>$pagination,\r\n    ''maxButtonCount''=>2,\r\n));\r\n~~~\r\n\r\n\r\nעיצוב\r\n----\r\n\r\n> Note|הערה: אפשרות העיצוב קיימת החל מגרסא 1.1.0.\r\n\r\nבזמן שאנו משתמשים בתבנית בכדי לשנות את המראה החיצוני של האפליקציה, אנו יכולים להשתמש בעיצובים בכדי לשנות את עיצוב [הוידג''טים](/doc/guide/basics.view#widget) הנמצאים בתוך קבצי התצוגה.\r\n\r\nעיצוב הוא מערך של אלמנטים שבעזרתו ניתן לאתחל מאפיינים של וידג''ט. עיצוב שייך למחלקה של וידג''ט, ומחלקה של וידג''ט יכולה להכיל כמה עיצובים המזוהים על פי שמותיהם. לדוגמא, אנו יכולים להגדיר עיצוב לוידג''ט [CLinkPager] ושמו של העיצוב הוא `classic`.\r\n\r\nבכדי להשתמש באפשרות של העיצובים, אנו קודם צריכים לערוך את הגדרות האפליקציה על ידי התקנת הרכיב `widgetFactory`:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''widgetFactory''=>array(\r\n            ''enableSkin''=>true,\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nזכור שבגרסאות קודמות ל 1.1.3, בכדי להשתמש בעיצובים עבור וידג''טים יש צורך להשתמש בקוד הבא:\r\n\r\n~~~\r\n[php]\r\nreturn array(\r\n    ''components''=>array(\r\n        ''widgetFactory''=>array(\r\n            ''class''=>''CWidgetFactory'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nלאחר מכן אנו יוצרים את העיצובים הדרושים. עיצובים השייכים לאותו מחלקת וידג''ט נשמרים בקובץ PHP אחד ששמו הוא שם המחלקה של הוידג''ט. כל קבצי העיצובים הללו נשמרים תחת `protected/views/skins`, כברירת מחדל. במידה ויש צורך לשנות מיקום זה לתיקיה אחרת, ניתן להגדיר את המאפיין `skinPath` של הרכיב `widgetFactory`. לדוגמא, אנו יכולים ליצור תחת התיקיה `protected/views/skins` קובץ בשם `CLinkPage.php` שתוכנו הוא הקוד הבא,\r\n\r\n~~~\r\n[php]\r\n<?php\r\nreturn array(\r\n    ''default''=>array(\r\n        ''nextPageLabel''=>''&gt;&gt;'',\r\n        ''prevPageLabel''=>''&lt;&lt;'',\r\n    ),\r\n    ''classic''=>array(\r\n        ''header''=>'''',\r\n        ''maxButtonCount''=>5,\r\n    ),\r\n);\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו יוצרים שני עיצובים עבור הוידג''ט [CLinkPager] והם `default` ו `classic`. הראשון הוא העיצוב שיצורף לכל אובייקט של הוידג''ט [CLinkPager] שאנו לא מגדירים את המאפיין `skin` באובייקט בצורה ספציפית, בזמן שהשני הוא העיצוב שיצורף לאובייקט של הוידג''ט [CLinkPager] שהמאפיין `skin` שלו מוגדר כ `classic`. לדוגמא, בקוד התצוגה הבאה, הוידג''ט הראשון משתמש בעיצוב `default` בזמן שהשני משתמש בעיצוב `classic`:\r\n\r\n~~~\r\n[php]\r\n<?php $this->widget(''CLinkPager''); ?>\r\n\r\n<?php $this->widget(''CLinkPager'', array(''skin''=>''classic'')); ?>\r\n~~~\r\n\r\nאם ניצור וידג''ט עם כשאנו מגדירים את המאפיינים ההתחלתיים בקובץ התצוגה, מאפיינים אלו יתאחדו עם המאפיינים המוגדרים בעיצוב אך יקבלו עדיפות על פני אלו שהוגדרו בעיצוב. לדוגמא, הקוד הבא יוצר וידג''ט שמאפייניו ההתחלתיים יהיו\r\n\r\n~~~\r\narray(''header''=>'''', ''maxButtonCount''=>6, ''cssFile''=>false)\r\n~~~\r\n\r\nשהם התוצאה של איחוד המאפיינים ההתחלתיים שהוגדרו בקובץ התצוגה ובעיצוב `classic`.\r\n\r\n~~~\r\n[php]\r\n<?php $this->widget(''CLinkPager'', array(\r\n    ''skin''=>''classic'',\r\n    ''maxButtonCount''=>6,\r\n    ''cssFile''=>false,\r\n)); ?>\r\n~~~\r\n\r\nיש לזכור שהשימוש בעיצובים אינו דורש שימוש בתבניות. למרות, בזמן השימוש בתבניות, המערכת תחפש את העיצובים תחת התיקיה `skins` של קבצי התצוגה של התבנית הפעילה (לדוגמא `WebRoot/themes/classic/views/skins`). במידה והעיצוב קיים בתיקית קבצי התצוגה של התבנית הפעילה ובתיקית קבצי התצוגה של האפליקציה, קבצי העיצוב הנמצאים תחת התבנית הפעילה יקלו עדיפות.\r\n\r\nבמידה והוידג''ט משתמש בעיצוב שאינו קיים, המערכת תיצור את הוידג''ט כרגיל ללא שום שגיאה.\r\n\r\n> Info|מידע: שימוש בעיצובים יכול להשפיע לרעה על הביצועים של האפליקציה מאחר והמערכת צריכה לחפש את קובץ העיצוב בפעם הראשונה שהוידג''ט נוצר.\r\n\r\nעיצוב הוא דומה להגדרות וידג''ט גלובאליות. ההבדלים העיקריים הם:\r\n\r\n- עיצוב קשור יותר למאפיינים המייצגים תצוגה בוידג''ט;\r\n- וידג''ט יכול להכיל מספר רב של עיצובים;\r\n- ניתן להגדיר תבניות עבור עיצוב;\r\n- שימוש בעיצוב יקר יותר מבחינת משאבים מאשר שימוש בהגדרות וידג''ט גלובאליות.\r\n\r\n<div class="revision">$Id: topics.theming.txt 2172 2009-10-17 01:49:02Z qiang.xue $</div>', 'guide', 'he', 1276454988, 16825, 1, 0, 0);
INSERT INTO `documentations` VALUES(52, 'topics.url', 'topics.url', '', '﻿ניהול קישורים\r\n==============\r\n\r\nניהול קישורים מלא עבור אפליקציות ווב כרוך בשני היבטים. ראשית, ברגע שבקשת המשתמש מתקבלת בפורמט של קישור, האפליקציה צריכה לעבד את הקישור לפרמטרים שניתן להבין אותם. שנית, האפליקציה צריכה לספק דרך ליצירת קישורים בצורה כזו שהאפליקציה תוכל להבין את הקישורים הנוצרים לאחר מכן. עבור אפליקצית Yii, היבטים אלו ממומשים בעזרת [CUrlManager].\r\n\r\nיצירת קישורים\r\n-------------\r\n\r\nלמרות שניתן לכתוב קישורים מלאים בצורה הרגילה והמלאה בקבצי תצוגה, רצוי ליצור אותם בצורה דינאמית כדי לאפשר מקסימום גמישות:\r\n\r\n~~~\r\n[php]\r\n$url=$this->createUrl($route,$params);\r\n~~~\r\n\r\nהאובייקט `this$` מתייחס לאובייקט של הקונטרולר הנוכחי; `route$` מציין את [נתב](/doc/guide/basics.controller#route) של הבקשה; ו `params$` הנו מערך של אלמנטים המייצג רשימה של פרמטרים (GET) אשר יצורפו לקישור.\r\n\r\nכברירת מחדל, קישורים הנוצרים על ידי [createUrl|CController::createUrl] הם בפורמט הנקרא `get`. לדוגמא, בהנחה שיש ברשותנו את הנתונים\r\n\r\n\r\n\r\n~~~\r\n\r\n$route=''post/read'', $params=array(''id'' => 100)\r\n~~~\r\n\r\n\r\nאנו נקבל את הקישור הבא:\r\n\r\n~~~\r\n/index.php?r=post/read&id=100\r\n~~~\r\n\r\nכשהפרמטרים מופיעים בקישור כרשימה של `מפתח=ערך` המחוברים אחד לשני בעזרת התו `&`, והפרמטר `r` מציין את בקשת [הנתב](/doc/guide/basics.controller#route). הפורמט הזה אינו ידידותי כל כך למשתמש מאחר והוא מכיל כמה ערכים שהם אינם בהכרח תווים אלפאנומריים (אותיות ומספרים).\r\n\r\nאנו יכולים ליצור את אותו הקישור בצורה נקייה וידידותית יותר למשתמש על ידי שימוש בפורמט שנקרא `path` המסיר את השאילתה מהמחרוזת של הקישור ומוסיף את הפרמטרים (GET) כחלק מהנתיב:\r\n\r\n~~~\r\n/index.php/post/read/id/100\r\n~~~\r\n\r\nבכדי לשנות את פורמט הקישורים, אנו צריכים להגדיר את המאפיין [urlManager|CWebApplication::urlManager] בהגדרות האפליקציה כדי שבעת השימוש ב-[createUrl|CController::createUrl] המתודה תדע להחליף את הקישורים לפורמט החדש והאפליקציה תוכל להבין ולנתח את הקישורים החדשים:\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''components''=>array(\r\n        ......\r\n        ''urlManager''=>array(\r\n            ''urlFormat''=>''path'',\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nזכור שאנו לא צריכים לציין את שם המחלקה של הרכיב [urlManager|CWebApplication::urlManager] מאחר והוא כבר מוגדר מראש כ-[CUrlManager] ב [CWebApplication].\r\n\r\n> Tip|טיפ: הקישורים הנוצרים על ידי המתודה [createUrl|CController::createUrl] הם קישורים יחסיים (רלטיביים ללא ה //:http ). כדי לקבל את הקישור המלא (הכולל את //:http) אנו יכולים להשתמש ב `Yii::app()->hostInfo` לפני שאנו קוראים למתודה [createUrl|CController::createUrl], או לקרוא למתודה [createAbsoluteUrl|CController::createAbsoluteUrl].\r\n\r\nקישורים ידידותיים\r\n------------------\r\n\r\nבעת השימוש בפורמט `path` כפורמט של הקישורים, אנו יכולים לקבוע כמה כללים עבור הקישורים שלנו כדי לגרום להם להיות ידידותיים אף יותר. לדוגמא, אנו יכולים ליצור קישור קצר כמו `post/100/`, במקום הקישור הארוך `index.php/post/read/id/100/`. כללי הקישורים משומשים על ידי [CUrlManager] עבור יצירת הקישורים וניתוחם.\r\n\r\nכדי להגדיר כללים לקישורים, אנו צריכים להגדיר את המאפיין [rules|CUrlManager::rules] של הרכיב [urlManager|CWebApplication::urlManager]:\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ......\r\n    ''components''=>array(\r\n        ......\r\n        ''urlManager''=>array(\r\n            ''urlFormat''=>''path'',\r\n            ''rules''=>array(\r\n                ''pattern1''=>''route1'',\r\n                ''pattern2''=>''route2'',\r\n                ''pattern3''=>''route3'',\r\n            ),\r\n        ),\r\n    ),\r\n);\r\n~~~\r\n\r\nהכללים מוגדרים כמערך המכיל זוגות של דפוס-נתב, כל אחד מקביל לכלל אחד. הדפוס של הכלל הוא סטרינג הנועד להתאים את החלק המכיל את המידע אודות הנתיב המגיע מבקשת המשתמש. והנתב של הכלל צריך להתייחס [לנתב](/doc/guide/basics.controller#route) תקין של קונטרולר.\r\n\r\nמלבד פורמט הכללים המוצג למעלה, כלל יכול להכיל אפשרויות בתור פרמטרים, כפי שמוצג בדוגמא הבאה:\r\n\r\n~~~\r\n[php]\r\n''pattern1''=>array(''route1'', ''urlSuffix''=>''.xml'', ''caseSensitive''=>false)\r\n~~~\r\n\r\nבקוד המוצג למעלה, המערך מכיל רשימה של אפשרויות המותאמות אישית. החל מגרסא 1.1.0, ניתן להשתמש באפשרויות הבאות:\r\n\r\n- [urlSuffix|CUrlRule::urlSuffix]: סיומת הקישור המוגדרת ספציפית לכלל זה. כברירת מחדל אפשרות זו מוגדרת כ-null, שאומר שימוש בערך המוגדר במאפיין [CUrlManager::urlSuffix].\r\n\r\n- [caseSensitive|CUrlRule::caseSensitive]: אפשרות זו מציינת אם הכלל הזה רגיש לאותיות גדולות-קטנות. כברירת מחדל אפשרות זו מוגדרת כ-null, שאומר שימוש בערך המוגדר במאפיין [CUrlManager::caseSensitive].\r\n\r\n- [defaultParams|CUrlRule::defaultParams]: הפרמטרים (GET בפורמט של מפתח=>ערך) שיופיעו בקישור. שהכלל הזה ינותח עבור הבקשה הנכנסת, הערכים שהוגדרו במאפיין זה יוזרקו לפרמטרים של GET_$ באפליקציה.\r\n\r\n- [matchValue|CUrlRule::matchValue]: אפשרות זו קובעת אם הערכים בפרמטרים (GET) צריכים להיות תואמים לדפוס של כלל הקישור. כברירת מחדל אפשרות זו מוגדר כ-null, שאומר שימוש בערך המוגדר במאפיין [CUrlManager::matchValue]. במידה והאפשרות הזו מוגדרת לערך השווה ל-false, זה אומר שיהיה שימוש בכלל ליצירת הקישור אם הניתוב ושמות הפרמטרים תואמים לאלו שהוגדרו במאפיין זה. במידה והערך הזה מוגדר ל-true, אז הערכים בפרמטרים שהוגדרו צריכים להיות תואמים לערכים המוגדרים בדפוס של הכלל. יש לזכור שהגדרת הערך הזה ל-true משפיע על הביצועים של האפליקציה לרעה.\r\n\r\n### שימוש בשמות פרמטרים\r\n\r\nכלל יכול להיות מקושר לכמה פרמטרים (GET). פרמטרים אלו מופיעים בדפוס הכלל כסימונים מיוחדים בפורמט הבא:\r\n\r\n~~~\r\n&lt;ParamName:ParamPattern&gt;\r\n~~~\r\n\r\nכשהערך `ParamName` מציין את שם הפרמטר GET, והפרמטר האופציונלי `ParamPattern` מציין את הביטוי הרגולרי שבעזרתו תתבצע בדיקת התאמה לערך בפרמטר GET. במקרה והערך `ParamPattern` חסר, זה אומר שהפרמטר צריך להיות תואם לכל תו מלבד סלאש (`/`). בעת יצירת הקישור, הסימונים המיוחדים הללו בפרמטרים יוחלפו עם הערכים המקבלים שלהם; בעת ניתוח קישור, הפרמטרים שהתקבלו יאוכלסו אל תוך השתנה GET_$ עם התוצאה שנותחה.\r\n\r\nהבא ונשתמש בכמה דוגמאות כדי להסביר כיצד כללי קישורים עובדים. אנו מניחים שהכללים שלנו מכילים שלוש כללים:\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ''posts''=>''post/list'',\r\n    ''post/<id:\\d+>''=>''post/read'',\r\n    ''post/<year:\\d{4}>/<title>''=>''post/read'',\r\n)\r\n~~~\r\n\r\n- קריאה ל-\r\n\r\n~~~\r\n$this->createUrl(''post/list'')\r\n~~~\r\n\r\nתיצור `index.php/posts/`. החוק הראשון נמצא תואם.\r\n\r\n- קריאה ל-\r\n\r\n~~~\r\n$this->createUrl(''post/read'',array(''id''=>100))\r\n~~~\r\n\r\nתיצור `index.php/post/100/`. החוק השני נמצא תואם.\r\n\r\n- קריאה ל-\r\n\r\n~~~\r\n$this->createUrl(''post/read'',array(''year''=>2008,''title''=>''a\r\nsample post''))\r\n~~~\r\n\r\nתיצור `index.php/post/2008/a%20sample%20post/`. החוק השלישי נמצא תואם.\r\n\r\n- קריאה ל-\r\n\r\n~~~\r\n$this->createUrl(''post/read'')\r\n~~~\r\n\r\nתיצור `index.php/post/read/`. אף אחד מהכללים לא נמצא תואם.\r\n\r\n\r\nבקצרה, בעת השימוש ב-[createUrl|CController::createUrl] כדי ליצור קישור, הנתב והפרמטרים המועברים למתודה שעליהם מתבצעת התאמה כדי להחליט איזה כלל תואם לקישור זה ויש צורך להשתמש בו. אם כל פרמטר המצורף לכלל נמצא בפרמטרים של GET שהועברו למתודה [createUrl|CController::createUrl], ואם הנתב של הכלל תואם לפרמטר של הניתוב שהועבר למתודה, כלל זה יכנס לשימוש בכדי ליצור את הקישור.\r\n\r\nאם הפרמטרים GET שהועברו למתודה [createUrl|CController::createUrl] הם יותר מאלו שדרושים על ידי הכלל, הפרמטרים הנוספים יופיעו במחרוזת השאילתה (בקישור). לדוגמא,\r\n\r\nאם נקרא ל-\r\n\r\n~~~\r\n$this->createUrl(''post/read'',array(''id''=>100,''year''=>2008))\r\n~~~\r\n\r\nאנו נקבל את הקישור `index.php/post/100?year=2008/`. כדי להציג את הפרמטרים הנוספים הללו כחלק ידידותי של הקישור (כדי שיופרדו על ידי סלאש (`/`) כמו השאר ), אנו צריכים להוסיף את `*/` אל סוף הכלל.\r\nלכן, בעזרת הכלל -\r\n\r\n~~~\r\npost/<id:\\d+>/*\r\n~~~\r\n\r\nאנו יכולים לקבל קישור הנראה כך: `index.php/post/100/year/2008/`.\r\n\r\nכפי שכבר ציינו, ישנה מטרה נוספת לכללים והיא לנתח את הבקשות הנכנסות. כמובן, שזהו תהליך הפוך מיצירת הקישור. לדוגמא, ברגע שהמשתמש מבקש את `index.php/post/100/`, הכלל השני בדוגמא למעלה יכנס לשימוש מאחר והוא זה שהותאם ראשון, אשר מכוון לנתב `post/read` (קונטרולר `post` והפעולה `read` בתוכו) ניתן לגשת לפרמטר GET\r\n\r\n~~~\r\narray(''id''=>100)\r\n~~~\r\n\r\nבעזרת GET_$.\r\n\r\n\r\n> Note|הערה: שימוש בכללים עבור הקישורים ישפיע על ביצועי האפליקציה לרעה. הסיבה לכך היא שבעת ניתוח קישור הבקשה, [CUrlManager] ינסה להתאים אותו מול כל הכללים הקיימים עד שאחד יהיה תואם. ככל שישנם יותר כללים, גדלה ההשפעה לרעה על הביצועים. לכן, אפליקציה עם כניסות רבות ותעבורה גדולה צריכה לצמצם את מספר הכללים שנעשה בהם שימוש.\r\n\r\n### שימוש בפרמטרים במסלולים\r\n\r\nהחל מגרסא 1.0.5, אנו יכולים לפנות לפרמטרים בחלק של המסלול בכלל אשר אנו מגדירים. אפשרות זו מתירה לכלל להיות תואם למספר מסלולים בהתבסס על הקריטריון שנמצא תואם. כמו כן זה יכול לעזור להפחית את מספר הכללים הדרושים לאפליקציה, ובכך לשפר את ביצועי המערכת.\r\n\r\nאנו משתמשים בכללים הבאים כדי להדגים כיצד להגדיר כללים עם פרמטרים:\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ''<_c:(post|comment)>/<id:\\d+>/<_a:(create|update|delete)>'' => ''<_c>/<_a>'',\r\n    ''<_c:(post|comment)>/<id:\\d+>'' => ''<_c>/read'',\r\n    ''<_c:(post|comment)>s'' => ''<_c>/list'',\r\n)\r\n~~~\r\n\r\nבקוד המוצג למעלה, אנו משתמשים בשני פרמטרים בחלק של המסלול בכלל: `c_` ו `a_`. הראשון תואם לקונטרולר שהוא `post` או `comment`, בזמן שהשני תואם לשם פעולה שיכולה להיות `create`, `update` או `delete`. ניתן לשנות את שמות הפרמטרים כל עוד הם לא יתנגשו עם פרמטרים שיכולים להופיע כפרמטרים של GET בקישור.\r\n\r\nשימוש בכללים המוצגים למעלה, הקישור `index.php/post/123/create/` ינותח כמסלול אל `post/create` עם הפרמטרים `id=123` מופיעים במערך של GET_$. ונניח שיש ברשותנו את המסלול `comment/list` ופרמטר GET שהוא `page=2`, אנו יכולים ליצור קישור `index.php/comments?page=2`.\r\n\r\n### הגדרת פרמטרים כסאב-דומיינים\r\n\r\nהחל מגרסא 1.0.11, ניתן להוסיף את החלק של הסאב-דומיינים לכללים כדי לנתח וליצור קישורים. ניתן להגדיר פרמטר כסאב-דומיין כדי לחלץ אותו לאחר מכן כפרמטר GET. לדוגמא, את הקישור `http://admin.example.com/en/profile` ניתן לנתח אל תוך פרמטרים של `user=admin`ו `lang=en`. מצד שני, ניתן להשתמש בכללים המכילים סאב-דומיינים ליצירת קישורים.\r\n\r\nבכדי להשתמש בכללים המכילים פרמטרים בחלק של הסאב-דומיין, יש להגדיר את הכללים עם פרטי הדומיין, לדוגמא:\r\n\r\n~~~\r\n[php]\r\narray(\r\n    ''http://<user:\\w+>.example.com/<lang:\\w+>/profile'' => ''user/profile'',\r\n)\r\n~~~\r\n\r\nהדוגמא למעלה מציינת שהקטע הראשון בסאב-דומיין צריך להיות מיוחס כפרמטר `user` בזמן שהקטע הראשון בחלק לאחר הדומיין צריך להיות מיוחס כפרמטר `lang`. הכלל מתייחס למסלול `user/profile`.\r\n\r\nיש לזכור ש-[CUrlManager::showScriptName] לא יקח בחשבון כקישור יווצר בעזרת כלל המשתמש בפרמטרים בסאב-דומיין.\r\n\r\nכמו כן יש לזכור שכללים עם פרמטרים כסאב-דומיין לא צריכים להכיל את שם תת-התיקיה אם האפליקציה נמצאת בתת-תיקיה של תיקית הווב הראשית. לדוגמא, אם האפליקציה נמצאת תחת `http://www.example.com/sandbox/blog`, אז אנו עדיין צריכים להשתמש באותה השיטה כמו שהוסבר למעלה ללא ציון שם תת-התיקיה `sandbox/blog` אלה פשוט `blog`.\r\n\r\n### הסתרת `index.php`\r\n\r\nישנו דבר נוסף שאנו יכולים לבצע כדי לנקות את הקישורים אף יותר, להסתיר את קובץ הכניסה הראשי `index.php` מהקישורים. זה דורש מאתנו להגדיר את השרת ואת הרכיב [urlManager|CWebApplication::urlManager].\r\n\r\nאנו קודם צריכים להגדיר את שרת הווב ככה שקישורים המגיעים ללא ציון סקריפט הכניסה הראשי עדיין יהיה ניתן לנהל אותם בעזרת הסקריפט. עבור שרתי [Apache](http://httpd.apache.org/), ניתן לבצע זאת על ידי הפעלת התוסף `mod_rewrite` המנהל את כל הנושא של ניתוב מסלולים. אנו יכולים ליצור את הקובץ `wwwroot/blog/.htaccess/` עם התוכן הבא.\r\nדע שניתן להשתמש באותו התוכן בקובץ הגדרות שרת Apache בתוך האלמנט `Directory` עבור `wwwroot/blog/`.\r\n\r\n~~~\r\nOptions +FollowSymLinks\r\nIndexIgnore */*\r\nRewriteEngine on\r\n\r\n# if a directory or a file exists, use it directly\r\nRewriteCond %{REQUEST_FILENAME} !-f\r\nRewriteCond %{REQUEST_FILENAME} !-d\r\n\r\n# otherwise forward it to index.php\r\nRewriteRule . index.php\r\n~~~\r\n\r\nלאחר מכן אנו מגדירים את המאפיין [showScriptName|CUrlManager::showScriptName] הנמצא ברכיב האפליקציה [urlManager|CWebApplication::urlManager] לערך השווה ל-`false`.\r\n\r\nכעת אם אנו נקרא למתודה\r\n\r\n~~~\r\n$this->createUrl(''post/read'',array(''id''=>100))\r\n~~~\r\n\r\nאנו נקבל את הקישור `post/100/`. יותר חשוב, שהאפליקציה שלנו תוכל לנתח ולזהות את הקישור.\r\n\r\n### זיוף סיומת הקישור\r\n\r\nאנו גם יכולים להוסיף סיומת לקישורים. לדוגמא, אנו יכולים לקבל `post/100.html/` במקום `post/100/`. זה נותן תחושה לקישור שהוא עמוד סטטי. בכדי לבצע זאת, עליכם פשוט להגדיר את המאפיין [urlSuffix|CUrlManager::urlSuffix] ברכיב האפליקציה [urlManager|CWebApplication::urlManager] לכל סיומת שתרצו (לדוגמא, `html.` או `xml.` וכדומה...).\r\n\r\n<div class="revision">$Id: topics.url.txt 1809 2010-02-17 22:08:34Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(53, 'topics.webservice', 'topics.webservice', '', '﻿שירותים חיצוניים\r\n===========\r\n\r\n[שרותים חיצוניים](http://en.wikipedia.org/wiki/Web_service) הינם מערכת אשר נועדה לתמוך את הקשר בין שני מחשבים על גבי רשת. במונחים של אפליקצית ווב, זה בדרך כלל מתייחס API שניתן לגשת אליו דרך הרשת ולבצע את פעולותיו על השרת החיצוני המבקש את השירות.\r\nלדוגמא, אפליקצית צד לקוח של [Flex](http://www.adobe.com/products/flex/) יכול להריץ פונקציה הנמצאת בצד השרת של האפליקציה וכתובה ב PHP. השירותים החיצוניים מסתמכים על [SOAP](http://en.wikipedia.org/wiki/SOAP) כשכבת היסוד של הפרוטוקול המקשר.\r\n\r\nYii מספקת את [CWebService] ו [CWebServiceAction] בכדי לפשט את תהליך העבודה ליישום שירותים אלו באפליקצית ווב. ה API מקובצים למחלקות, הנקראות *ספקי שירותים*. Yii מחולל אוטומטית לכל מחלקה מפרט [WSDL](http://www.w3.org/TR/wsdl) המתאר אילו פקודות API קיימות ואיך ניתן להריצן על ידי הלקוח. ברגע שפקודת API מורצת על ידי לקוח, Yii תאתחל את ספק השירות המתאים ותקרא ל API הרצוי בכדי למלא את הבקשה.\r\n\r\n> Note|הערה: א מסתמך על התוסף של PHP בשם [SOAP](http://www.php.net/manual/en/ref.soap.php). יש לוודא שהוא מותקן ומופעל לפני השימוש בדוגמאות בחלק זה.\r\n\r\nהגדרת ספק שירות\r\n-------------------------\r\n\r\nכפי שציינו למעלה, ספק שירות הינו מחלקה אשר מגדירה מתודות שניתן לגשת אליהם מרחוק. Yii מסתמך על [תיעוד הערות](http://java.sun.com/j2se/javadoc/writingdoccomments/) ו  [התבוננות מחלקה](http://php.net/manual/en/book.reflection.php) בכדי לזהות אילו מתודות ניתן לגשת אליהם מרחוק אילו פרמטרים הם מקבלים והערך שהם מחזירים.\r\n\r\nנתחיל עם שירות אגרות חוב. שירות זה מאפשר ללקוח לבקש את המחיר עבור אגרת החוב מסויימת. אנו מגדירים את ספק השירות בצורה הבאה. שימו לב שאנו מגדירים את מחלקת הספק `StockController` על ידי הרחבה של המחלקה [CController]. זה לא חובה. אנו נסביר למה אנו עושים זאת בהמשך.\r\n\r\n~~~\r\n[php]\r\nclass StockController extends CController\r\n{\r\n    /**\r\n     * @param string the symbol of the stock\r\n     * @return float the stock price\r\n     * @soap\r\n     */\r\n    public function getPrice($symbol)\r\n    {\r\n        $prices=array(''IBM''=>100, ''GOOGLE''=>350);\r\n        return isset($prices[$symbol])?$prices[$symbol]:0;\r\n        // החזרת הערך עבור אגרת החוב המנוקבת\r\n    }\r\n}\r\n~~~\r\n\r\nבקוד למעלה, אנו מגדירים את המתודה `getPrice` להיות שירות API על ידי סימון המתודה עם התג `soap@` בתוך הערות התיעוד של המתודה. אנו מסתמכים על הערות התיעוד של המתודה בכדי לציין את סוג הנתון שהפרמטר הראשון במתודה מקבל ואת סוג הנתון המוחזר על ידי מתודה זו. ניתן להגדיר מתודות API נוספות על ידי הגדרתם בצורה דומה.\r\n\r\nהגדרת פעולת ספק שירות\r\n----------------------------\r\n\r\nלאחר הגדרת ספק השירות, אנו צריכים לאפשר גישה ללקוחות הרוצים להשתמש בה. במיוחד, אנו רוצים ליצור פעולה בקונטרולר כדי לחשוף את השירות. ניתן לבצע זאת בצורה פשוטה על ידי הגדרת פעולה [CWebServiceAction] בתוך מחלקת קונטרולר. עבור הדוגמא שלנו, אנו פשוט נוסיף אותו למחלקה `StockController`.\r\n\r\n\r\n~~~\r\n[php]\r\nclass StockController extends CController\r\n{\r\n    public function actions()\r\n    {\r\n        return array(\r\n            ''quote''=>array(\r\n                ''class''=>''CWebServiceAction'',\r\n            ),\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @param string the symbol of the stock\r\n     * @return float the stock price\r\n     * @soap\r\n     */\r\n    public function getPrice($symbol)\r\n    {\r\n       // החזרת הערך עבור אגרת החוב המנוקבת\r\n    }\r\n}\r\n~~~\r\n\r\nזה כל מה שאנו צריכים לעשות בכדי ליצור שירות חיצוני! במידה וניגש לפעולה שיצרנו על ידי גישה לקישור `http://hostname/path/to/index.php?r=stock/quote`, אנו נראה הרבה תוכן XML שהוא בעצם ה WSDL לשירות החיצוני שהרגע הגדרנו.\r\n\r\n> Tip|הערה: כברירת מחדל, [CWebServiceAction] מניח שהקונטרולר הנוכחי הוא מספק השירות. זו הסיבה לזה שהגדרנו את המתודה `getPrice` בתוך המחלקה `StockController`.\r\n\r\nשימוש בשירות חיצוני\r\n---------------------\r\n\r\nבכדי להשלים את הדוגמא, אנו ניצור ''לקוח'' שיצרוך את השירות החיצוני שיצרנו כרגע. הלקוח שצורך את השירות גם הוא כתוב ב PHP, אבל זה יכול להיות כתוב בשפות אחרות, כמו, `Java`, `C#`, `Flex`, ואחרים.\r\n\r\n~~~\r\n[php]\r\n$client=new SoapClient(''http://hostname/path/to/index.php?r=stock/quote'');\r\necho $client->getPrice(''GOOGLE'');\r\n~~~\r\n\r\nהרצת הסקריפט למעלה במסוף או בדפדפן, ואנו נראה `350` שזהו המחיר עבור `GOOGLE`.\r\n\r\nסוגי נתונים\r\n----------\r\n\r\nבעת הגדרת מתודות מחלקה ומאפיינים שניתן לגשת אליהם מרחוק, אנו צריכים להגדיר את סוגי הנתונים עבור הנתונים המגיעים והיוצאים. סוגי הנתונים הפרימיטיבים הבאים ניתנים לשימוש:\r\n\r\n   - str/string: ממופה אל `xsd:string`;\r\n   - int/integer: ממופה אל `xsd:int`;\r\n   - float/double: ממופה אל `xsd:float`;\r\n   - bool/boolean: ממופה אל `xsd:boolean`;\r\n   - date: ממופה אל `xsd:date`;\r\n   - time: ממופה אל `xsd:time`;\r\n   - datetime: ממופה אל `xsd:dateTime`;\r\n   - array: ממופה אל `xsd:string`;\r\n   - object: ממופה אל `xsd:struct`;\r\n   - mixed: ממופה אל `xsd:anyType`.\r\n\r\nבמידה וסוג הנתון לא נמצא ברשימה של הסוגים הפרימיטיבים, הוא נחשב כסוג מורכב המכיל מאפיינים. סוג מורכב מיוצג במונחים של מחלקה, והמאפיינים שלו הם המשתנים במחלקה המסומנים בעזרת `soap@` בתוך הערות התיעוד של המאפיין.\r\n\r\nכמו כן אנו יכולים להשתמש במערך כסוג הנתון על ידי צירוף של `[]` לסוף סוג הנתון הפרימיטיבי או המורכב. בצורה זו אנו מגדירים מערך של הסוג המיוחס.\r\n\r\nלמטה מוצגת דוגמא להגדרת ה API עבור `getPosts` המחזיר מערך של אובייקטים של המחלקה `Post`.\r\n\r\n~~~\r\n[php]\r\nclass PostController extends CController\r\n{\r\n    /**\r\n     * @return Post[] a list of posts\r\n     * @soap\r\n     */\r\n    public function getPosts()\r\n    {\r\n        return Post::model()->findAll();\r\n    }\r\n}\r\n\r\nclass Post extends CActiveRecord\r\n{\r\n    /**\r\n     * @var integer post ID\r\n     * @soap\r\n     */\r\n    public $id;\r\n    /**\r\n     * @var string post title\r\n     * @soap\r\n     */\r\n    public $title;\r\n\r\n    public static function model($className=__CLASS__)\r\n    {\r\n        return parent::model($className);\r\n    }\r\n}\r\n~~~\r\n\r\nמיפוי מחלקות\r\n-------------\r\n\r\nבכדי לקבל את הפרמטרים של הסוגים המורכבים מהלקוח, אפליקציה צריכה להגדיר את המיפוי בין סוגי ה WSDL לבין מחלקות ה PHP המקבילים.\r\nזה נעשה על ידי הגדרת המאפיין [classMap|CWebServiceAction::classMap] של המחלקה [CWebServiceAction].\r\n\r\n~~~\r\n[php]\r\nclass PostController extends CController\r\n{\r\n    public function actions()\r\n    {\r\n        return array(\r\n            ''service''=>array(\r\n                ''class''=>''CWebServiceAction'',\r\n                ''classMap''=>array(\r\n                    ''Post''=>''Post'',  // או פשוט `Post`\r\n                ),\r\n            ),\r\n        );\r\n    }\r\n    ......\r\n}\r\n~~~\r\n\r\n\r\nיירוט הרצת מתודות מרחוק\r\n-------------------------------------\r\n\r\nעל ידי יישום הממשק [IWebServiceProvider], ספק שירות יכול ליירט הרצת מתודות מרחוק. במתודה [IWebServiceProvider::beforeWebMethod], הספק יכול לקבל את האובייקט הנוכחי של [CWebService] ולקבל את שם המתודה המבוקשת כרגע דרך [CWebService::methodName]. היא יכולה להחזיר false אם המתודה לא צריכה לרוץ מכל סיבה שהיא (לדוגמא גישה לא מורשית).\r\n\r\n<div class="revision">$Id: topics.webservice.txt 1808 2010-02-17 21:49:42Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(54, 'upgrade', 'upgrade', '', '﻿עדכון מגרסא 1.0 לגרסא 1.1\r\n=================================\r\n\r\nשינויים הקשורים לתסריטים במודלים\r\n------------------------------------\r\n\r\n- המתודה ()CModel::safeAttributes הוסרה. מאפיינים בטוחים מוגדרים כעת במתודה ()CModel::rules  כאלמנטים שיש לאמת אותם לכל דבר בעזרת פונקציות אימות נתונים.\r\n\r\n- המתודות ()CModel::validate(), CModel::beforeValidate ו ()CModel::afterValidate השתנו. במתודות ()CModel::setAttributes(), CModel::getSafeAttributeNames הפרמטר ''scenario` הוסר. בכדי להגדיר את התסריט של המודל יש להגדיר את המאפיין CModel::scenario.\r\n\r\n- המתודה ()CModel::getValidators השתנתה והמתודה ()CModel::getValidatorsForAttribute הוסרה. המתודה ג עכשיו מחזירה רק את הולידטורים הקשורים לתסריט שהוגדר במאפיין במודל.\r\n\r\n- המתודה ()CModel::isAttributeRequired ו ()CModel::getValidatorsForAttribute השתנו. פרמטר התסריט הוסר. התסריט של המודל יכנס לשימוש במקום.\r\n\r\n- המאפיין CHtml::scenario הוסר. המחלקה CHtml תשתמש במאפיין התסריט של המודל.\r\n\r\nשינויים הקשורים לטעינה נלהבת ב ARR\r\n---------------------------------------------------------------\r\n\r\n- כברירת מחדל, יווצר ביטוי JOIN אחד לכל הקישורים המעורבים בטעינה הנלהבת. במידה וההגדרות `LIMIT` או `OFFSET` בשאילתה בטבלה הראשית מוגדרים, השאילתה תתבצע לבד קודם, לאחר מכן תתבצע שאילתה נוספת שתחזיר את כל האובייקטים המקושרים אליה. קודם לכן בגרסא 1.0, כברירת מחדל התבצעו `N+1` שאילתות SQL במידה וטעינה נלהבת מכילה `N` קישורים מסוג `HAS_MANY` או `MANY_MANY`.\r\n\r\nשינויים הקשורים לשמות מקוצרים לטבלאות ב ARR\r\n------------------------------------------------------------\r\n\r\n- שם הקיצור ברירת המחדל לטבלה מקושרת כעת הוא כשם הקישור עצמו. קודם לכן בגרסא 1.0, כברירת מחדל Yii היה יוצר שם מקוצר לכל טבלה מקושרת באופן אוטומטי, ואנו היינו צריכים להשתמש בקידומת `.??` בכדי להתייחס לשם המקוצר שנוצר אוטומטית.\r\n\r\n- שם המקוצר לטבלה הראשית בשאילתת AR הינו מוגדר ספציפית ל `t`. קודם לכן בגרסא 1.0, השם המקוצר היה זהה לשם הטבלה. זה יגרום לקוד AR נוכחי להפסיק לעבוד במידה והם הגדירו קידומת לעמודות בתור שם הטבלה ספציפית. הפתרון הוא להחליף את הקידומות הללו בקידומת `t.`.\r\n\r\nשינויים הקשורים לאיסוף קלט טבלאי\r\n----------------------------------\r\n\r\n- שמות מאפיינים, שימוש ב\r\n\r\n\r\n~~~\r\n[php]\r\n\r\nField[$i]\r\n\r\n~~~\r\nלא תקף יותר. כעת יש צורך בלכתוב אותם בצורה הבאה\r\n\r\n~~~\r\n[php]\r\n\r\n[$i]Field\r\n\r\n~~~\r\nבכדי שיהיה ניתן לתמוך במערכים עם שדות שונים, לדוגמא\r\n\r\n~~~\r\n[php]\r\n\r\n[$i]Field[$index]\r\n~~~ \r\n\r\n\r\nשינויים נוספים\r\n-------------\r\n\r\n- החתימה של המתודה ההתחלתית של המחלקה [CActiveRecord] השתנתה. הפרמטר הראשון (רשימת התכונות) הוסר.\r\n\r\n<div class="revision">$Id: upgrade.txt 1819 2010-02-18 22:56:55Z qiang.xue $</div>', 'guide', 'he', 1276454981, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(55, 'start.design', 'start.design', '', ' עיצוב כללי\r\n==============\r\n\r\nבהתבסס על ניתוח הדרישות שלנו, אנו מחליטים להשתמש בטבלאות מסד הנתונים הבאות כדי לאחסן את המידע עבור אפליקצית הבלוג שלנו:\r\n\r\n * `tbl_user` מאחסן את פרטי המשתמש, הכוללים את שם המשתמש והסיסמא.\r\n * `tbl_post` מאחסן את פרטי ההודעות. טבלה זו מכילה בעיקר את העמודות הבאות:\r\n  - `title`: שדה חובה, כותרת ההודעה;\r\n  - `content`: שדה חובה, תוכן ההודעה אשר משתמשת בתחביר בפורמט [Markdown](http://daringfireball.net/projects/markdown/syntax);\r\n  - `status`: שדה חובה, סטטוס ההודעה, אשר יכלה להיות אחד מהערכים הבאים:\r\n     *  1, אשר אומר שההודעה במצב טיוטה ואינה מוצגת לציבור הרחב.\r\n     *  2, אשר אומר שההודעה במצב פעיל ומוצגת לציבור הרחב.\r\n     *  3, אשר אומר שההודעה ישנה ואינה מוצגת ברשימת ההודעות (אך עדיין ניתן לגשת להודעה ישירות).\r\n  - `tags`: אופציונלי, רשימה של מילות מפתח אשר מאפיינות את ההודעה מופרדות בפסיק.\r\n * `tbl_comment` מאחסן את תגובות ההודעות. כל תגובה מקושרת אל הודעה ובנויה בעיקר מהעמודות הבאות:\r\n  - `name`: שדה חובה, שם המחבר של התגובה;\r\n  - `email`: שדה חובה, כתובת הדואר האלקטרוני של מחבר התגובה;\r\n  - `website`: אופציונלי, כתובת אתר הבית של מחבר התגובה;\r\n  - `content`: שדה חובה, התגובה עצמה בפורמט של טקסט רגיל.\r\n  - `status`: שדה חובה, סטטוס התגובה, אשר מייצג אם התגובה מאושרת (הערך יהיה 2) או לא (הערך יהיה 1).\r\n * `tbl_tag` מאחסן את תדירות תגיות ההודעות כדי ליצור את אפשרות ענן התגיות. הטבלה בנויה בעיקר מהעמודות הבאות:\r\n  - `name`: שדה חובה, שם יחודי לתגית.\r\n  - `frequency`: שדה חובה, מספר הפעמים שהתגית מופיע בהודעות.\r\n * `tbl_lookup` מאחסן בעיקר פרטי בדיקת מידע. זה בעיקר מהווה כמפה בין ערכים מספריים לבין טקסטים. הקודם הוא היצוג של המידע בקוד שלנו, בזמן שהשני הוא הערך המוצג למשתמשי הקצה. לדוגמא, אנו משתמשים בספרה 1 כדי לייצג הודעה במצב טיוטה ובטקסט `טיוטה` כדי להציג את הסטטוס למשתמשי הקצה. טבלה זו בנויה בעיקר מהעמודות הבאות:\r\n  - `name`: הערך מיוצג כטקסט המוצג למשתמשי הקצה;\r\n  - `code`: הערך המספרי של הנתון המיוצג בקוד;\r\n  - `type`: סוג הנתון;\r\n  - `position`: סדר התצוגה של הנתון הזה אל מול נתונים נוספים מאותו הסוג;\r\n\r\nהדיאגרמה הבאה מציגה את תרשים הטבלאות המוצגת למעלה והקשר ביניהם.\r\n\r\n![דיאגרמת קשרי טבלאות עבור אפליקצית הבלוג](schema.png)\r\n\r\nשאילתות SQL ליצירת הדיאגרמה המוצג למעלה ניתנות להורדה [בעמוד הבא](http://www.yiiframework.com/demos/blog/). בהתקנת ה-Yii שלנו, הם נמצאות בקובץ `/wwwroot/yii/demos/blog/protected/data/schema.sqlite.sql`.\r\n\r\n> Info|מידע: שמות הטבלאות שהגדרנו כולם כתובות באותיות קטנות. הסיבה לכך היא שמסדי נתונים שונים מתייחסים לאותיות גדולות-קטנות בצורה שונה ואנו רוצים להמנע מבעיות כאלו.\r\n>\r\n> כמו כן אנו מגדירים קידומת `tbl_` עבור כל שמות הטבלאות משני סיבות. ראשית, הקידומת מייחסת עבור טבלאות אלה סוג של "מרחב שם" במידה והם יהיו צריכים להמצא עם טבלאות נוספות באותו מסד הנתונים, אשר קורה לעיתים תכופות בשרתי אחסון שיתופיים כשמסד נתונים אחד משותף לכמה אפליקציות. שנית, שימוש בקידומת מפחית את הסיכוי שאחת משמות הטבלאות תיהיה שם שמור במסד בו אנו משתמשים.\r\n\r\nאנו מחלקים את תהליך הפיתוח של אפליקצית הבלוג שלנו לשלושה ציוני דרך.\r\n\r\n * ציון דרך 1: יצירת אב טיפוס של מערכת הבלוג. היא צריכה להכיל את רוב הפונקציונליות.\r\n * ציון דרך 2: השלמת ניהול הודעות. זה כולל יצירה, תצוגת רשימת הודעות, תצוגת הודעה, עדכון ומחיקת הודעות.\r\n * ציון דרך 3: השלמת ניהול תגובות. זה כולל יצירה, תצוגת רשימת תגובות, אישור, עדכון ומחיקת תגובות.\r\n * ציון דרך 4: יישום וידג''טים. זה כולל תפריט משתמש, התחברות, ענן תגיות ותגובות אחרונות.\r\n * ציון דרך 5: כיוונים אחרונים ופריסת האפליקציה.\r\n\r\n<div class="revision">$Id: start.design.txt 1677 2010-01-07 20:29:26Z qiang.xue $</div>\r\n\r\n', 'blog', 'he', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(56, 'start.testdrive', 'start.testdrive', '', 'שלד האפליקציה\n====================\n\nבחלק זה, אנו מתארים כיצד ליצור שלד אפליקציה אשר ישרת אותנו כנקודת ההתחלה. כדי לפשט את התהליך, אנו מניחים שהתיקיה הראשית של השרת שלנו (תיקית ה-www) הינה `/wwwroot'' והכתובת המקבילה לתיקיה זו הינה `http://www.example.com/`.\n\n\nהתקנת Yii\n--------------\n\nאנו קודם מתקינים את הפריימוורק. גשו לעמוד ההורדה באתר [www.yiiframework.com](http://www.yiiframework.com/download) והורידו את הגרסא של Yii (גרסא 1.1.1 ומעלה) וחלצו את הקבצים לתיקיה `/wwwroot/yii`. אנא וודאו שישנה תיקיה `/wwwroot/yii/framework`.\n\n> Tip|טיפ: ניתן להתקין את Yii בכל מקום בשרת, לאו דווקא תחת תיקית הוו (Web Folder). התיקיה `framework` מכילה את כל הקוד הדרוש כדי להריץ אפליקציות ווב הכתובות בעזרת Yii והינה התיקיה היחידה הדרושה להרצת האפליקציות. התקנה אחת של Yii (זאת אומרת תיקיה אחת של `framework` בשרת) ניתנת לשימוש על ידי מספר רב של אפליקציות אשר נכתבו בעזרת Yii.\n\nלאחר התקנת Yii, פתחו את הדפדפן (חלון אינטרנט) וגשו לעמוד בנתב הבא `http://www.example.com/yii/requirements/index.php`. עמוד זה מציג את הדרישות להרצת Yii ואפליקציות אשר נכתבו בעזרתו.\nעבור אפליקצית הבלוג שלנו, מלבד דרישות המינימום הנחוצות על ידי Yii, אנו צריכים להפעיל את התוספים של PHP בשם `pdo` ו `pdo_sqlite` כדי שנוכל לגשת למסד נתונים מסוג SQLite.\n\n\nיצירת שלד האפליקציה\n-----------------------------\n\nלאחר מכן אנו משתמשים בכלי `yiic` כדי ליצור את שלד האפליקציה תחת התיקיה `/wwwroot/blog`. הכלי `yiic` הינו כלי לשורת הפקודות אשר מגיע בכל גרסא של Yii. ניתן להשתמש בו כדי לייצר קוד בכדי להפחית את המטלות החוזרות ביצירת קוד החוזר על עצמו שוב ושוב.\n\nפתחו חלון פקודות והריצו את הפקודה הבאה:\n\n~~~\n% /wwwroot/yii/framework/yiic webapp /wwwroot/blog\nCreate a Web application under ''/wwwroot/blog''? [Yes|No]y\n......\n~~~\n\n> Tip|טיפ: בכדי להשתמש בכלי `yiic` כפי שמוצג למעלה, תוכנית ה CLI של PHP צריכה להמצא תחת נתיב החיפוש של שורת הפקודות. במידה והיא לא נמצאת או אינכם מצליחים להריץ את הפקודה המוצגת למעלה, תוכלו להריץ את אותה הפקודה בצורה הבאה:\n>\n>~~~\n> path/to/php /wwwroot/yii/framework/yiic.php webapp /wwwroot/blog\n>~~~\n\nבכדי לנסות את האפליקציה שהרגע יצרנו, פתחו חלון דפדפן חדש וגשו לכתובת `http://www.example.com/blog/index.php`. תוכלו לראות ששלד האפליקציה שלנו כבר כולל בתוכו ארבע עמודים פעילים לחלוטין: עמוד הבית, עמוד אודות, עמוד יצירת קשר ועמוד ההתחברות.\n\nבחלק הבא, אנו נסביר בקצרה מה יש לנו בתוך שלד האפליקציה הזה.\n\n###קובץ כניסה ראשי (index.php)\n\nיש ברשותנו את קובץ הכניסה הראשי `/wwwroot/blog/index.php` אשר מכיל בתוכו את הקוד הבא:\n\n~~~\n[php]\n<?php\n$yii=''/wwwroot/framework/yii.php'';\n$config=dirname(__FILE__).''/protected/config/main.php'';\n\n// remove the following line when in production mode\ndefined(''YII_DEBUG'') or define(''YII_DEBUG'',true);\n\nrequire_once($yii);\nYii::createWebApplication($config)->run();\n~~~\n\nקובץ זה הינו הקובץ היחידי שמשתמשי הקצה יכולים לגשת אליו ישירות. הקובץ מצרף קודם כל את קובץ ההתחלה הראשי של Yii בשם `yii.php`. לאחר מכן הוא יוצר אובייקט של האפליקציה עם הגדרות האפליקציה שהוגדרו ומריץ את האפליקציה.\n\n###תיקית האפליקציה הראשית\n\nיש ברשותנו גם את תיקית האפליקציה הראשית `/wwwroot/blog/protected`. מרבית הקוד שנכתוב (או ניצור) והנתונים ימוקמו תחת תיקיה זו, ויש להגן עליה מגישה של משתמשי קצה. עבור משתמשי [Apache ](http://httpd.apache.org/), אנו מניחים קובץ בשם `htaccess.` בתיקיה זו המכיל את התוכן הבא:\n\n~~~\ndeny from all\n~~~\n\nעבור שרתי ווב אחרים, אנא קראו את המדריך למשתמש כיצד להגן על תיקיה מפני גישה חיצונית של משתמשי קצה.\n\nרצף עבודת האפליקציה\n--------------------\n\nכדי להבין כיצד Yii עובד, אנו מתארים את רצף העבודה הראשי באפליקציה שלנו בעת הכניסה של משתמש לעמוד יצירת הקשר:\n\n0. המשתמש נכנס אל (מבקש את) הקישור `http://www.example.com/blog/index.php?r=site/contact`;\n1. קובץ הכניסה הראשי מקבל את הבקשה על ידי שרת הווב כדי לעבד את הבקשה;\n2. אובייקט האפליקציה נוצר ומוגדר עם מאפיינים התחלתיים המוגדרים בקובץ הגדרות האפליקציה הנמצא `/wwwroot/blog/protected/config/main.php`;\n3. האפליקציה מנתחת את הבקשה לקונטרולר ופעולה בקונטרולר. עבור עמוד יצירת הקשר, הבקשה מנותחת לקונטרולר `site` והפעולה `contact` (המתודה `actionContact` בקובץ `/wwwroot/blog/protected/controllers/SiteController.php`);\n4. האפליקציה יוצרת את הקונטרולר `site` במונחים של אובייקט של `siteController` ומריצה אותו;\n5. האובייקט של `siteController` מריץ את הפעולה `contact` על ידי קריאה למתודה `actionContact`;\n6. המתודה `actionContact` מעבדת קובץ תצוגה בשם `contact` למשתמש הקצה. כלפי פנים המערכת, זה מתבצע על ידי קריאה וצירוף של הקובץ `/wwwroot/blog/protected/views/site/contact.php` והטמעת התוצאה לקובץ התבנית `/wwwroot/blog/protected/views/layouts/column1.php`.\n\n<div class="revision">$Id: start.testdrive.txt 1734 2010-01-21 18:41:17Z qiang.xue $</div>\n\n', 'blog', 'he', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(57, 'toc', 'toc', '', ' * התחלה\n    - [סקירה](start.overview)\n    - [שלד האפליקציה](start.testdrive)\n    - [ניתוח הדרישות](start.requirements)\n    - [עיצוב כללי](start.design)\n\n* דיגום ראשוני\n    - [הגדרת מסד נתונים](prototype.database)\n    - [פיגומים (יצירת קוד אוטומטית)](prototype.scaffold)\n    - [אימות משתמשים](prototype.auth)\n    - [סיכום](prototype.summary)\n\n* ניהול הודעות\n    - [התאמה אישית של מודל ההודעות](post.model)\n    - [יצירה ועדכון הודעות](post.create)\n    - [תצוגת הודעות](post.display)\n    - [ניהול הודעות](post.admin)\n\n* ניהול תגובות\n    - [התאמה אישית של מודל תגובות](comment.model)\n    - [כתיבה ועדכון תגובות](comment.create)\n    - [ניהול תגובות](comment.admin)\n\n* וידג''טים\n    - [יצירת וידג''ט תפריט משתמשים](portlet.menu)\n    - [יצירת וידג''ט ענן תגיות](portlet.tags)\n    - [יצירת וידג''ט תגובות אחרונות](portlet.comments)\n\n* עבודה מסכמת\n    - [קישורים ידידותיים](final.url)\n    - [תיעוד שגיאות](final.logging)\n    - [כיוון סופי ופריסת האפליקציה](final.deployment)\n    - [שיפורים עתידיים](final.future)\n\n<div class="revision">$Id: toc.txt 1734 2010-01-21 18:41:17Z qiang.xue $</div>\n\n', 'blog', 'he', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(58, 'basics.application', 'basics.application', '', 'Application\n===========\n\nApplication represents the execution context of request processing. Its\nmain task is to resolve the user request and dispatch it to an appropriate\ncontroller for further processing. It also serves as the central place for\nkeeping application-level configurations. For this reason, application is\nalso called `front-controller`.\n\nApplication is created as a singleton by the [entry script](/doc/guide/basics.entry).\nThe application singleton can be accessed at any place via [Yii::app()|YiiBase::app].\n\n\nApplication Configuration\n-------------------------\n\nBy default, application is an instance of [CWebApplication]. To customize\nit, we normally provide a configuration file (or array) to initialize its\nproperty values when the application instance is being created. An alternative\nway of customizing application is to extend [CWebApplication].\n\nThe configuration is an array of key-value pairs. Each key represents the\nname of a property of the application instance, and each value the\ncorresponding property''s initial value. For example, the following\nconfiguration configures the [name|CApplication::name] and\n[defaultController|CWebApplication::defaultController] properties of the\napplication.\n\n~~~\n[php]\narray(\n	''name''=>''Yii Framework'',\n	''defaultController''=>''site'',\n)\n~~~\n\nWe usually store the configuration in a separate PHP script (e.g.\n`protected/config/main.php`). Inside the script, we return the\nconfiguration array as follows,\n\n~~~\n[php]\nreturn array(...);\n~~~\n\nTo apply the configuration, we pass the configuration file name as\na parameter to the application''s constructor, or to [Yii::createWebApplication()]\nlike the following, which is usually done in the [entry script](/doc/guide/basics.entry):\n\n~~~\n[php]\n$app=Yii::createWebApplication($configFile);\n~~~\n\n> Tip: If the application configuration is very complex, we can split it\ninto several files, each returning a portion of the configuration array.\nThen, in the main configuration file, we call PHP `include()` to include\nthe rest configuration files and merge them into a complete configuration\narray.\n\n\nApplication Base Directory\n--------------------------\n\nApplication base directory refers to the root directory that contains all\nsecurity-sensitive PHP scripts and data. By default, it is a subdirectory\nnamed `protected` that is located under the directory containing the entry\nscript. It can be customized via setting the\n[basePath|CWebApplication::basePath] property in the [application configuration](#application-configuration).\n\nContents under the application base directory should be protected from\nbeing accessed by Web users. With [Apache HTTP\nserver](http://httpd.apache.org/), this can be done easily by placing a\n`.htaccess` file under the base directory. The content of the `.htaccess`\nfile is as follows,\n\n~~~\ndeny from all\n~~~\n\nApplication Component\n---------------------\n\nFunctionalities of application can be easily customized and enriched with\nits flexible component architecture. Application manages a set of\napplication components, each implementing specific features.\nFor example, application resolves a user request with the help of [CUrlManager]\nand [CHttpRequest] components.\n\nBy configuring the [components|CApplication::components] property of\napplication, we can customize the class and property values of any\napplication component used in an application. For example, we can\nconfigure [CMemCache] component so that it can use multiple memcache\nservers for caching,\n\n~~~\n[php]\narray(\n	......\n	''components''=>array(\n		......\n		''cache''=>array(\n			''class''=>''CMemCache'',\n			''servers''=>array(\n				array(''host''=>''server1'', ''port''=>11211, ''weight''=>60),\n				array(''host''=>''server2'', ''port''=>11211, ''weight''=>40),\n			),\n		),\n	),\n)\n~~~\n\nIn the above, we add the `cache` element to the `components` array. The\n`cache` element states that the class of the component is\n`CMemCache` and its `servers` property should be initialized as such.\n\nTo access an application component, use `Yii::app()->ComponentID`, where\n`ComponentID` refers to the ID of the component (e.g. `Yii::app()->cache`).\n\nAn application component may be disabled by setting `enabled` to be false\nin its configuration. Null is returned when we access a disabled component.\n\n> Tip: By default, application components are created on demand. This means\nan application component may not be created at all if it is not accessed\nduring a user request. As a result, the overall performance may not be\ndegraded even if an application is configured with many components. Some\napplication components (e.g. [CLogRouter]) may need to be created no matter\nthey are accessed or not. To do so, list their IDs in the [preload|CApplication::preload]\nproperty of the application.\n\nCore Application Components\n---------------------------\n\nYii predefines a set of core application components to provide features\ncommon among Web applications. For example, the\n[request|CWebApplication::request] component is used to resolve user\nrequests and provide information such as URL, cookies. By configuring the\nproperties of these core components, we can change the default behaviors of\nYii in nearly every aspect.\n\nBelow we list the core components that are pre-declared by\n[CWebApplication].\n\n   - [assetManager|CWebApplication::assetManager]: [CAssetManager] -\nmanages the publishing of private asset files.\n\n   - [authManager|CWebApplication::authManager]: [CAuthManager] - manages role-based access control (RBAC).\n\n   - [cache|CApplication::cache]: [CCache] - provides data caching\nfunctionality. Note, you must specify the actual class (e.g.\n[CMemCache], [CDbCache]). Otherwise, null will be returned when you\naccess this component.\n\n   - [clientScript|CWebApplication::clientScript]: [CClientScript] -\nmanages client scripts (javascripts and CSS).\n\n   - [coreMessages|CApplication::coreMessages]: [CPhpMessageSource] -\nprovides translated core messages used by Yii framework.\n\n   - [db|CApplication::db]: [CDbConnection] - provides the database\nconnection. Note, you must configure its\n[connectionString|CDbConnection::connectionString] property in order\nto use this component.\n\n   - [errorHandler|CApplication::errorHandler]: [CErrorHandler] - handles\nuncaught PHP errors and exceptions.\n\n   - [format|CApplication::format]: [CFormatter] - formats data values\nfor display purpose. This has been available since version 1.1.0.\n\n   - [messages|CApplication::messages]: [CPhpMessageSource] - provides\ntranslated messaged used by Yii application.\n\n   - [request|CWebApplication::request]: [CHttpRequest] - provides\ninformation related with user requests.\n\n   - [securityManager|CApplication::securityManager]: [CSecurityManager] -\nprovides security-related services, such as hashing, encryption.\n\n   - [session|CWebApplication::session]: [CHttpSession] - provides\nsession-related functionalities.\n\n   - [statePersister|CApplication::statePersister]: [CStatePersister] -\nprovides global state persistence method.\n\n   - [urlManager|CWebApplication::urlManager]: [CUrlManager] - provides\nURL parsing and creation functionality.\n\n   - [user|CWebApplication::user]: [CWebUser] - represents the identity\ninformation of the current user.\n\n   - [themeManager|CWebApplication::themeManager]: [CThemeManager] - manages themes.\n\n\nApplication Lifecycles\n----------------------\n\nWhen handling a user request, an application will undergo the following\nlifecycles:\n\n   0. Pre-initializes the application with [CApplication::preinit()];\n\n   1. Set up class autoloader and error handling;\n\n   2. Register core application components;\n\n   3. Load application configuration;\n\n   4. Initialize the application with [CApplication::init()]\n       - Register application behaviors;\n	   - Load static application components;\n\n   5. Raise [onBeginRequest|CApplication::onBeginRequest] event;\n\n   6. Process the user request:\n	   - Resolve the user request;\n	   - Create controller;\n	   - Run controller;\n\n   7.Raise [onEndRequest|CApplication::onEndRequest] event;\n\n<div class="revision">$Id: basics.application.txt 1601 2009-12-18 04:31:19Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(59, 'basics.component', 'basics.component', '', 'Component\n=========\n\nYii applications are built upon components which are objects\nwritten to a specification. A component is an instance of\n[CComponent] or its derived class. Using a component mainly involves\naccessing its properties and raising/handling its events. The base class\n[CComponent] specifies how to define properties and events.\n\nComponent Property\n------------------\n\nA component property is like an object''s public member variable. We can\nread its value or assign a value to it. For example,\n\n~~~\n[php]\n$width=$component->textWidth;     // get the textWidth property\n$component->enableCaching=true;   // set the enableCaching property\n~~~\n\nTo define a component property, we can simply declare a public member\nvariable in the component class. A more flexible way, however, is by\ndefining getter and setter methods like the following:\n\n~~~\n[php]\npublic function getTextWidth()\n{\n    return $this->_textWidth;\n}\n\npublic function setTextWidth($value)\n{\n    $this->_textWidth=$value;\n}\n~~~\n\nThe above code defines a writable property named `textWidth` (the name is\ncase-insensitive). When reading the property, `getTextWidth()` is  invoked\nand its returned value becomes the property value; Similarly, when writing\nthe property, `setTextWidth()` is invoked. If the setter method is not\ndefined, the property would be read-only and writing it would throw an\nexception. Using getter and setter methods to define a property has the\nbenefit that additional logic (e.g. performing validation, raising events)\ncan be executed when reading and writing the property.\n\n>Note: There is a slight difference between a property defined via getter/setter\nmethods and a class member variable. The name of the former\nis case-insensitive while the latter is case-sensitive.\n\nComponent Event\n---------------\n\nComponent events are special properties that take methods (called `event\nhandlers`) as their values. Attaching (assigning) a method to an event will\ncause the method to be invoked automatically at the places where the event\nis raised. Therefore, the behavior of a component can be modified in a way\nthat may not be foreseen during the development of the component.\n\nA component event is defined by defining a method whose name starts with\n`on`. Like property names defined via getter/setter methods, event names are\ncase-insensitive. The following code defines an `onClicked` event:\n\n~~~\n[php]\npublic function onClicked($event)\n{\n	$this->raiseEvent(''onClicked'', $event);\n}\n~~~\n\nwhere `$event` is an instance of [CEvent] or its child class representing\nthe event parameter.\n\nWe can attach a method to this event as follows:\n\n~~~\n[php]\n$component->onClicked=$callback;\n~~~\n\nwhere `$callback` refers to a valid PHP callback. It can be a global\nfunction or a class method. If the latter, the callback must be given as an\narray: `array($object,''methodName'')`.\n\nThe signature of an event handler must be as follows:\n\n~~~\n[php]\nfunction methodName($event)\n{\n    ......\n}\n~~~\n\nwhere `$event` is the parameter describing the event (it originates from\nthe `raiseEvent()` call). The `$event` parameter is an instance of [CEvent] or\nits derived class. At the minimum, it contains the information about who\nraises the event.\n\nStarting from version 1.0.10, an event handler can also be an anonymous function\nwhich is supported by PHP 5.3 or above. For example,\n\n~~~\n[php]\n$component->onClicked=function($event) {\n	......\n}\n~~~\n\nIf we call `onClicked()` now, the `onClicked` event will be raised (inside\n`onClicked()`), and the attached event handler will be invoked\nautomatically.\n\nAn event can be attached with multiple handlers. When the event is raised,\nthe handlers will be invoked in the order that they are attached to the event.\nIf a handler decides to prevent the rest handlers from being invoked, it can set\n[$event->handled|CEvent::handled] to be true.\n\n\nComponent Behavior\n------------------\n\nStarting from version 1.0.2, a component has added support for [mixin](http://en.wikipedia.org/wiki/Mixin)\nand can be attached with one or several behaviors. A *behavior* is an object\nwhose methods can be ''inherited'' by its attached component through the means of collecting\nfunctionality instead of specialization (i.e., normal class inheritance).\nA component can be attached with several behaviors and thus achieve ''multiple inheritance''.\n\nBehavior classes must implement the [IBehavior] interface. Most behaviors can\nextend from the [CBehavior] base class. If a behavior needs to be attached to\na [model](/doc/guide/basics.model), it may also extend from [CModelBehavior] or\n[CActiveRecordBehavior] which implements additional features specifc for models.\n\nTo use a behavior, it must be attached to a component first by calling the behavior''s\n[attach()|IBehavior::attach] method. Then we can call a behavior method via the component:\n\n~~~\n[php]\n// $name uniquely identifies the behavior in the component\n$component->attachBehavior($name,$behavior);\n// test() is a method of $behavior\n$component->test();\n~~~\n\nAn attached behavior can be accessed like a normal property of the component.\nFor example, if a behavior named `tree` is attached to a component, we can\nobtain the reference to this behavior object using:\n\n~~~\n[php]\n$behavior=$component->tree;\n// equivalent to the following:\n// $behavior=$component->asa(''tree'');\n~~~\n\nA behavior can be temporarily disabled so that its methods are not available via the component.\nFor example,\n\n~~~\n[php]\n$component->disableBehavior($name);\n// the following statement will throw an exception\n$component->test();\n$component->enableBehavior($name);\n// it works now\n$component->test();\n~~~\n\nIt is possible that two behaviors attached to the same component have methods of the same name.\nIn this case, the method of the first attached behavior will take precedence.\n\nWhen used together with [events](#component-event), behaviors are even more powerful.\nA behavior, when being attached to a component, can attach some of its methods to some events\nof the component. By doing so, the behavior gets a chance to observe or change the normal\nexecution flow of the component.\n\nStarting from version 1.1.0, a behavior''s properties can also be accessed via the component it\nis attached to. The properties include both the public member variables and the properties defined\nvia getters and/or setters of the bheavior. For example, if a behavior has a property named `xyz`\nand the behavior is attached to a component `$a`. Then we can use the expression `$a->xyz` to access\nthe behavior''s property.\n\n<div class="revision">$Id: basics.component.txt 1474 2009-10-18 21:13:52Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(60, 'basics.controller', 'basics.controller', '', 'Controller\n==========\n\nA `controller` is an instance of [CController] or its child class. It is\ncreated by application when the user requests for it. When a controller\nruns, it performs the requested action which usually brings in the needed\nmodels and renders an appropriate view. An `action`, at its simplest form, is\njust a controller class method whose name starts with `action`.\n\nA controller has a default action. When the user request does not specify\nwhich action to execute, the default action will be executed. By default,\nthe default action is named as `index`. It can be changed by setting\n[CController::defaultAction].\n\nBelow is the minimal code needed by a controller class. Since this controller\ndoes not define any action, requesting for it would throw an exception.\n\n~~~\n[php]\nclass SiteController extends CController\n{\n}\n~~~\n\n\nRoute\n-----\n\nControllers and actions are identified by IDs. Controller ID is in the\nformat of `path/to/xyz` which corresponds to the controller class file\n`protected/controllers/path/to/XyzController.php`, where the token `xyz`\nshould be replaced by actual names (e.g. `post` corresponds to\n`protected/controllers/PostController.php`). Action ID is the action method\nname without the `action` prefix. For example, if a controller class\ncontains a method named `actionEdit`, the ID of the corresponding action\nwould be `edit`.\n\n> Note: Before version 1.0.3, the controller ID format was `path.to.xyz`\ninstead of `path/to/xyz`.\n\nUsers request for a particular controller and action in terms of route. A\nroute is formed by concatenating a controller ID and an action ID separated\nby a slash. For example, the route `post/edit` refers to `PostController`\nand its `edit` action. And by default, the URL\n`http://hostname/index.php?r=post/edit` would request for this controller\nand action.\n\n>Note: By default, routes are case-sensitive. Since version 1.0.1, it is\n>possible to make routes case-insensitive by setting [CUrlManager::caseSensitive]\n>to be false in the application configuration. When in case-insensitive mode,\n>make sure you follow the convention that directories containing controller\n>class files are in lower case, and both [controller map|CWebApplication::controllerMap]\n>and [action map|CController::actions] are using keys in lower case.\n\nSince version 1.0.3, an application can contain [modules](/doc/guide/basics.module). The route for a controller action inside a module is in the format of `moduleID/controllerID/actionID`. For more details, see the [section about modules](/doc/guide/basics.module).\n\n\nController Instantiation\n------------------------\n\nA controller instance is created when [CWebApplication] handles an\nincoming request. Given the ID of the controller, the application will use\nthe following rules to determine what the controller class is and where the\nclass file is located.\n\n   - If [CWebApplication::catchAllRequest] is specified, a controller\nwill be created based on this property, and the user-specified controller ID\nwill be ignored. This is mainly used to put the application under\nmaintenance mode and display a static notice page.\n\n   - If the ID is found in [CWebApplication::controllerMap], the\ncorresponding controller configuration will be used to create the\ncontroller instance.\n\n   - If the ID is in the format of `''path/to/xyz''`, the controller class\nname is assumed to be `XyzController` and the corresponding class file is\n`protected/controllers/path/to/XyzController.php`. For example, a controller\nID `admin/user` would be resolved as the controller class `UserController`\nand the class file `protected/controllers/admin/UserController.php`.\nIf the class file does not exist, a 404 [CHttpException] will be raised.\n\nIn case when [modules](/doc/guide/basics.module) are used (available since version 1.0.3), the above process is slighly different. In particular, the application will check if the ID refers to a controller inside a module, and if so, the module instance will be created first followed by the controller instance.\n\n\nAction\n------\n\nAs aforementioned, an action can be defined as a method whose name starts\nwith the word `action`. A more advanced way is to define an action class\nand ask the controller to instantiate it when requested. This allows\nactions to be reused and thus introduces more reusability.\n\nTo define a new action class, do the following:\n\n~~~\n[php]\nclass UpdateAction extends CAction\n{\n	public function run()\n	{\n		// place the action logic here\n	}\n}\n~~~\n\nIn order for the controller to be aware of this action, we override the\n[actions()|CController::actions] method of our controller class:\n\n~~~\n[php]\nclass PostController extends CController\n{\n	public function actions()\n	{\n		return array(\n			''edit''=>''application.controllers.post.UpdateAction'',\n		);\n	}\n}\n~~~\n\nIn the above, we use the path alias\n`application.controllers.post.UpdateAction` to specify that the action\nclass file is `protected/controllers/post/UpdateAction.php`.\n\nWriting class-based actions, we can organize an application in a modular\nfashion. For example, the following directory structure may be used to\norganize the code for controllers:\n\n~~~\nprotected/\n    controllers/\n        PostController.php\n        UserController.php\n        post/\n            CreateAction.php\n            ReadAction.php\n            UpdateAction.php\n        user/\n            CreateAction.php\n            ListAction.php\n            ProfileAction.php\n            UpdateAction.php\n~~~\n\nFilter\n------\n\nFilter is a piece of code that is configured to be executed before and/or\nafter a controller action executes. For example, an access control filter\nmay be executed to ensure that the user is authenticated before executing\nthe requested action; a performance filter may be used to measure the time\nspent in the action execution.\n\nAn action can have multiple filters. The filters are executed in the order\nthat they appear in the filter list. A filter can prevent the execution of\nthe action and the rest of the unexecuted filters.\n\nA filter can be defined as a controller class method. The method name must\nbegin with `filter`. For example, the existence of the\n`filterAccessControl` method defines a filter named `accessControl`. The\nfilter method must be of the signature:\n\n~~~\n[php]\npublic function filterAccessControl($filterChain)\n{\n	// call $filterChain->run() to continue filtering and action execution\n}\n~~~\n\nwhere `$filterChain` is an instance of [CFilterChain] which represents the\nfilter list associated with the requested action. Inside the filter method,\nwe can call `$filterChain->run()` to continue filtering and action\nexecution.\n\nA filter can also be an instance of [CFilter] or its child class. The\nfollowing code defines a new filter class:\n\n~~~\n[php]\nclass PerformanceFilter extends CFilter\n{\n	protected function preFilter($filterChain)\n	{\n		// logic being applied before the action is executed\n		return true; // false if the action should not be executed\n	}\n\n	protected function postFilter($filterChain)\n	{\n		// logic being applied after the action is executed\n	}\n}\n~~~\n\nTo apply filters to actions, we need to override the\n`CController::filters()` method. The method should return an array of\nfilter configurations. For example,\n\n~~~\n[php]\nclass PostController extends CController\n{\n	......\n	public function filters()\n	{\n		return array(\n			''postOnly + edit, create'',\n			array(\n				''application.filters.PerformanceFilter - edit, create'',\n				''unit''=>''second'',\n			),\n		);\n	}\n}\n~~~\n\nThe above code specifies two filters: `postOnly` and `PerformanceFilter`.\nThe `postOnly` filter is method-based (the corresponding filter method is\ndefined in [CController] already); while the `PerformanceFilter` filter is\nobject-based. The path alias `application.filters.PerformanceFilter`\nspecifies that the filter class file is\n`protected/filters/PerformanceFilter`. We use an array to configure\n`PerformanceFilter` so that it may be used to initialize the property\nvalues of the filter object. Here the `unit` property of\n`PerformanceFilter` will be initialized as `''second''`.\n\nUsing the plus and the minus operators, we can specify which actions the\nfilter should and should not be applied to. In the above, the `postOnly`\nshould be applied to the `edit` and `create` actions, while\n`PerformanceFilter` should be applied to all actions EXCEPT `edit` and\n`create`. If neither plus nor minus appears in the filter configuration,\nthe filter will be applied to all actions.\n\n<div class="revision">$Id: basics.controller.txt 1264 2009-07-21 19:34:55Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(61, 'basics.convention', 'basics.convention', '', 'Conventions\n===========\n\nYii favors conventions over configurations. Follow the conventions and one\ncan create sophisticated Yii applications without writing and managing\ncomplex configurations. Of course, Yii can still be customized in nearly\nevery aspect with configurations when needed.\n\nBelow we describe conventions that are recommended for Yii programming.\nFor convenience, we assume that `WebRoot` is the directory that a Yii\napplication is installed at.\n\nURL\n---\n\nBy default, Yii recognizes URLs with the following format:\n\n~~~\nhttp://hostname/index.php?r=ControllerID/ActionID\n~~~\n\nThe `r` GET variable refers to the\n[route](/doc/guide/basics.controller#route) that can be resolved by Yii\ninto controller and action. If `ActionID` is omitted, the controller will\ntake the default action (defined via [CController::defaultAction]); and if\n`ControllerID` is also omitted (or the `r` variable is absent), the\napplication will use the default controller (defined via\n[CWebApplication::defaultController]).\n\nWith the help of [CUrlManager], it is possible to create and recognize\nmore SEO-friendly URLs, such as\n`http://hostname/ControllerID/ActionID.html`. This feature is covered in\ndetail in [URL Management](/doc/guide/topics.url).\n\nCode\n----\n\nYii recommends naming variables, functions and class types in camel case\nwhich capitalizes each word in the name and joins them without spaces.\nVariable and function names should have their first word all in lower-case,\nin order to differentiate from class names (e.g. `$basePath`,\n`runController()`, `LinkPager`). For private class member variables, it is\nrecommended to prefix their names with an underscore character (e.g.\n`$_actionList`).\n\nBecause namespace is not supported prior to PHP 5.3.0, it is recommended\nthat classes be named in some unique way to avoid name conflict with\nthird-party classes. For this reason, all Yii framework classes are\nprefixed with letter "C".\n\nA special rule for controller class names is that they must be appended\nwith the word `Controller`. The controller ID is then defined as the class\nname with first letter in lower case and the word `Controller` truncated.\nFor example, the `PageController` class will have the ID `page`. This rule\nmakes the application more secure. It also makes the URLs related with\ncontrollers a bit cleaner (e.g. `/index.php?r=page/index` instead of\n`/index.php?r=PageController/index`).\n\nConfiguration\n-------------\n\nA configuration is an array of key-value pairs. Each key represents the\nname of a property of the object to be configured, and each value the\ncorresponding property''s initial value. For example, `array(''name''=>''My\napplication'', ''basePath''=>''./protected'')` initializes the `name` and\n`basePath` properties to their corresponding array values.\n\nAny writable properties of an object can be configured. If not configured,\nthe properties will take their default values. When configuring a property,\nit is worthwhile to read the corresponding documentation so that the\ninitial value can be given properly.\n\nFile\n----\n\nConventions for naming and using files depend on their types.\n\nClass files should be named after the public class they contain. For\nexample, the [CController] class is in the `CController.php` file.  A\npublic class is a class that may be used by any other classes. Each class\nfile should contain at most one public class. Private classes (classes that\nare only used by a single public class) may reside in the same file with\nthe public class.\n\nView files should be named after the view name. For example, the `index`\nview is in the `index.php` file. A view file is a PHP script file that\ncontains HTML and PHP code mainly for presentational purpose.\n\nConfiguration files can be named arbitrarily. A configuration file is a\nPHP script whose sole purpose is to return an associative array\nrepresenting the configuration.\n\nDirectory\n---------\n\nYii assumes a default set of directories used for various purposes. Each\nof them can be customized if needed.\n\n   - `WebRoot/protected`: this is the [application base\ndirectory](/doc/guide/basics.application#application-base-directory) holding all\nsecurity-sensitive PHP scripts and data files. Yii has a default alias\nnamed `application` associated with this path. This directory and\neverything under should be protected from being accessed by Web users. It\ncan be customized via [CWebApplication::basePath].\n\n   - `WebRoot/protected/runtime`: this directory holds private temporary\nfiles generated during runtime of the application. This directory must be\nwritable by Web server process. It can be customized via\n[CApplication::runtimePath].\n\n   - `WebRoot/protected/extensions`: this directory holds all third-party\nextensions. It can be customized via [CApplication::extensionPath].\n\n   - `WebRoot/protected/modules`: this directory holds all application\n[modules](/doc/guide/basics.module), each represented as a subdirectory.\n\n   - `WebRoot/protected/controllers`: this directory holds all controller\nclass files. It can be customized via [CWebApplication::controllerPath].\n\n   - `WebRoot/protected/views`: this directory holds all view files,\nincluding controller views, layout views and system views. It can be\ncustomized via [CWebApplication::viewPath].\n\n   - `WebRoot/protected/views/ControllerID`: this directory holds view\nfiles for a single controller class. Here `ControllerID` stands for the ID\nof the controller. It can be customized via [CController::viewPath].\n\n   - `WebRoot/protected/views/layouts`: this directory holds all layout\nview files. It can be customized via [CWebApplication::layoutPath].\n\n   - `WebRoot/protected/views/system`: this directory holds all system\nview files. System views are templates used in displaying exceptions and\nerrors. It can be customized via [CWebApplication::systemViewPath].\n\n   - `WebRoot/assets`: this directory holds published asset files. An\nasset file is a private file that may be published to become accessible to\nWeb users. This directory must be writable by Web server process. It can be\ncustomized via [CAssetManager::basePath].\n\n   - `WebRoot/themes`: this directory holds various themes that can be\napplied to the application. Each subdirectory represents a single theme\nwhose name is the subdirectory name. It can be customized via\n[CThemeManager::basePath].\n\nDatabase\n--------\n\nMost Web applications are backed by some database. For best practice, we propose\nthe following naming conventions for database tables and columns. Note that they\nare not required by Yii.\n\n   - Both database tables and columns are named in lower case.\n\n   - Words in a name should be separated using underscores (e.g. `product_order`).\n\n   - For table names, you may use either singular or plural names, but not both.\nFor simplicity, we recommend using singular names.\n\n   - Table names may be prefixed with a common token such as `tbl_`. This is\nespecially useful when the tables of an application coexist in the same database\nwith the tables of another application. The two sets of tables can be readily\nseparate by using different table name prefixes.\n\n\n\n<div class="revision">$Id: basics.convention.txt 1768 2010-02-01 01:34:15Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(62, 'basics.entry', 'basics.entry', '', 'Entry Script\n============\n\nEntry script is the bootstrap PHP script that handles user requests\ninitially. It is the only PHP script that end users can directly request to\nexecute.\n\nIn most cases, entry script of a Yii application contains the code that\nis as simple as follows,\n\n~~~\n[php]\n// remove the following line when in production mode\ndefined(''YII_DEBUG'') or define(''YII_DEBUG'',true);\n// include Yii bootstrap file\nrequire_once(''path/to/yii/framework/yii.php'');\n// create application instance and run\n$configFile=''path/to/config/file.php'';\nYii::createWebApplication($configFile)->run();\n~~~\n\nThe script first includes the Yii framework bootstrap file `yii.php`. It\nthen creates a Web application instance with the specified configuration\nand runs it.\n\nDebug Mode\n----------\n\nA Yii application can run in either debug or production mode according to\nthe constant value `YII_DEBUG`. By default, this constant value is defined\nas `false`, meaning production mode. To run in debug mode, define this\nconstant as `true` before including the `yii.php` file. Running application\nin debug mode is less efficient because it keeps many internal logs. On the\nother hand, debug mode is also more helpful during development stage\nbecause it provides richer debugging information when error occurs.\n\n<div class="revision">$Id: basics.entry.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(63, 'basics.model', 'basics.model', '', 'Model\n=====\n\nA model is an instance of [CModel] or its child class. Models are used to\nkeep data and their relevant business rules.\n\nA model represents a single data object. It could be a row in a database\ntable or a form of user inputs. Each field of the data object is\nrepresented as an attribute of the model. The attribute has a label and can\nbe validated against a set of rules.\n\nYii implements two kinds of models: form model and active record. They\nboth extend from the same base class [CModel].\n\nA form model is an instance of [CFormModel]. Form model is used to keep\ndata collected from user inputs. Such data are often collected, used and\nthen discarded. For example, on a login page, we can use a form model to\nrepresent the username and password information that are provided by an end\nuser. For more details, please refer to [Working with Form](/doc/guide/form.model)\n\nActive Record (AR) is a design pattern used to abstract database access in\nan object-oriented fashion. Each AR object is an instance of\n[CActiveRecord] or its child class, representing a single row in a database\ntable. The fields in the row are represented as properties of the AR\nobject. Details about AR can be found in [Active Record](/doc/guide/database.ar).\n\n<div class="revision">$Id: basics.model.txt 162 2008-11-05 12:44:08Z weizhuo $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(64, 'basics.module', 'basics.module', '', 'Module\n======\n\n> Note: Support for module has been available since version 1.0.3.\n\nA module is a self-contained software unit that consists of [models](/doc/guide/basics.model), [views](/doc/guide/basics.view), [controllers](/doc/guide/basics.controller) and other supporting components. In many aspects, a module resembles to an [application](/doc/guide/basics.application). The main difference is that a module cannot be deployed alone and it must reside inside of an application. Users can access the controllers in a module like they do with normal application controllers.\n\nModules are useful in several scenarios. For a large-scale application, we may divide it into several modules, each being developed and maintained separately. Some commonly used features, such as user management, comment management, may be developed in terms of modules so that they can be reused easily in future projects.\n\n\nCreating Module\n---------------\n\nA module is organized as a directory whose name serves as its unique [ID|CWebModule::id]. The structure of the module directory is similar to that of the [application base directory](/doc/guide/basics.application#application-base-directory). The following shows the typical directory structure of a module named `forum`:\n\n~~~\nforum/\n   ForumModule.php            the module class file\n   components/                containing reusable user components\n      views/                  containing view files for widgets\n   controllers/               containing controller class files\n      DefaultController.php   the default controller class file\n   extensions/                containing third-party extensions\n   models/                    containing model class files\n   views/                     containing controller view and layout files\n      layouts/                containing layout view files\n      default/                containing view files for DefaultController\n         index.php            the index view file\n~~~\n\nA module must have a module class that extends from [CWebModule]. The class name is determined using the expression `ucfirst($id).''Module''`, where `$id` refers to the module ID (or the module directory name). The module class serves as the central place for storing information shared among the module code. For example, we can use [CWebModule::params] to store module parameters, and use [CWebModule::components] to share [application components](/doc/guide/basics.application#application-component) at the module level.\n\n> Tip: We can use the module generator in Gii to create the basic skeleton of a new module.\n\n\nUsing Module\n------------\n\nTo use a module, first place the module directory under `modules` of the [application base directory](/doc/guide/basics.application#application-base-directory). Then declare the module ID in the [modules|CWebApplication::modules] property of the application. For example, in order to use the above `forum` module, we can use the following [application configuration](/doc/guide/basics.application#application-configuration):\n\n~~~\n[php]\nreturn array(\n	......\n	''modules''=>array(''forum'',...),\n	......\n);\n~~~\n\nA module can also be configured with initial property values. The usage is very similar to configuring [application components](/doc/guide/basics.application#application-component). For example, the `forum` module may have a property named `postPerPage` in its module class which can be configured in the [application configuration](/doc/guide/basics.application#application-configuration) as follows:\n\n~~~\n[php]\nreturn array(\n	......\n	''modules''=>array(\n	    ''forum''=>array(\n	        ''postPerPage''=>20,\n	    ),\n	),\n	......\n);\n~~~\n\nThe module instance may be accessed via the [module|CController::module] property of the currently active controller. Through the module instance, we can then access information that are shared at the module level. For example, in order to access the above `postPerPage` information, we can use the following expression:\n\n~~~\n[php]\n$postPerPage=Yii::app()->controller->module->postPerPage;\n// or the following if $this refers to the controller instance\n// $postPerPage=$this->module->postPerPage;\n~~~\n\nA controller action in a module can be accessed using the [route](/doc/guide/basics.controller#route) `moduleID/controllerID/actionID`. For example, assuming the above `forum` module has a controller named `PostController`, we can use the [route](/doc/guide/basics.controller#route) `forum/post/create` to refer to the `create` action in this controller. The corresponding URL for this route would be `http://www.example.com/index.php?r=forum/post/create`.\n\n> Tip: If a controller is in a sub-directory of `controllers`, we can still use the above [route](/doc/guide/basics.controller#route) format. For example, assuming `PostController` is under `forum/controllers/admin`, we can refer to the `create` action using `forum/admin/post/create`.\n\n\nNested Module\n-------------\n\nModules can be nested. That is, a module can contain another module. We call the former *parent module* while the latter *child module*. Child modules must be placed under the `modules` directory of the parent module. To access a controller action in a child module, we should use the route `parentModuleID/childModuleID/controllerID/actionID`.\n\n\n<div class="revision">$Id: basics.module.txt 2041 2010-04-11 03:54:25Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(65, 'basics.mvc', 'basics.mvc', '', 'Model-View-Controller (MVC)\n===========================\n\nYii implements the model-view-controller (MVC) design pattern which is\nwidely adopted in Web programming. MVC aims to separate business logic from\nuser interface considerations so that developers can more easily change\neach part without affecting the other. In MVC, the model represents the\ninformation (the data) and the business rules; the view contains elements\nof the user interface such as text, form inputs; and the controller manages\nthe communication between the model and the view.\n\nBesides MVC, Yii also introduces a front-controller, called application,\nwhich represents the execution context of request processing. Application\nresolves the user request and dispatches it to an appropriate controller\nfor further handling.\n\nThe following diagram shows the static structure of a Yii application:\n\n![Static structure of Yii application](structure.png)\n\n\nA Typical Workflow\n------------------\nThe following diagram shows a typical workflow of a Yii application when\nit is handling a user request:\n\n![A typical workflow of Yii application](flow.png)\n\n   1. A user makes a request with the URL `http://www.example.com/index.php?r=post/show&id=1`\nand the Web server handles the request by executing the bootstrap script `index.php`.\n   2. The bootstrap script creates an [application](/doc/guide/basics.application)\ninstance and runs it.\n   3. The application obtains the detailed user request information from\nan [application component](/doc/guide/basics.application#application-component)\nnamed `request`.\n   4. The application determines the requested [controller](/doc/guide/basics.controller)\nand [action](/doc/guide/basics.controller#action) with the help\nof an application component named `urlManager`. For this example, the controller\nis `post` which refers to the `PostController` class; and the action is `show`\nwhose actual meaning is determined by the controller.\n   5. The application creates an instance of the requested controller\nto further handle the user request. The controller determines that the action\n`show` refers to a method named `actionShow` in the controller class. It then\ncreates and executes filters (e.g. access control, benchmarking) associated\nwith this action. The action is executed if it is allowed by the filters.\n   6. The action reads a `Post` [model](/doc/guide/basics.model) whose ID is `1` from the database.\n   7. The action renders a [view](/doc/guide/basics.view) named `show` with the `Post` model.\n   8. The view reads and displays the attributes of the `Post` model.\n   9. The view executes some [widgets](/doc/guide/basics.view#widget).\n   10. The view rendering result is embedded in a [layout](/doc/guide/basics.view#layout).\n   11. The action completes the view rendering and displays the result to the user.\n\n\n<div class="revision">$Id: basics.mvc.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(66, 'basics.namespace', 'basics.namespace', '', 'Path Alias and Namespace\n========================\n\nYii uses path aliases extensively. A path alias is associated with a\ndirectory or file path. It is specified in dot syntax, similar to that of\nwidely adopted namespace format:\n\n~~~\nRootAlias.path.to.target\n~~~\n\nwhere `RootAlias` is the alias of some existing directory. By calling [YiiBase::setPathOfAlias()],\nwe can define new path aliases.For convenience, Yii predefines the following root aliases:\n\n - `system`: refers to the Yii framework directory;\n - `zii`: refers to the [Zii library](/doc/guide/extension.use#zii-extensions) directory;\n - `application`: refers to the application''s [base directory](/doc/guide/basics.application#application-base-directory);\n - `webroot`: refers to the directory containing the [entry script](/doc/guide/basics.entry) file. This alias has been available since version 1.0.3.\n - `ext`: refers to the directory containing all third-party [extensions](/doc/guide/extension.overview). This alias has been available since version 1.0.8.\n\nAdditionally, if the application uses [modules](/doc/guide/basics.module), a root alias is also predefined for each module ID and refers to the base path of the corresponding module. This feature has been available since version 1.0.3.\n\nBy using [YiiBase::getPathOfAlias()], an alias can be translated to its\ncorresponding path. For example, `system.web.CController` would be\ntranslated as `yii/framework/web/CController`.\n\nUsing aliases, it is very convenient to import the definition of a class.\nFor example, if we want to include the definition of the [CController]\nclass, we can call the following:\n\n~~~\n[php]\nYii::import(''system.web.CController'');\n~~~\n\nThe [import|YiiBase::import] method differs from `include` and `require`\nin that it is more efficient. The class definition being imported is\nactually not included until it is referenced for the first time. Importing\nthe same namespace multiple times is also much faster than `include_once`\nand `require_once`.\n\n> Tip: When referring to a class defined by the Yii framework, we do not\nneed to import or include it. All core Yii classes are pre-imported.\n\nWe can also use the following syntax to import a whole directory so that\nthe class files under the directory can be automatically included when\nneeded.\n\n~~~\n[php]\nYii::import(''system.web.*'');\n~~~\n\nBesides [import|YiiBase::import], aliases are also used in many other\nplaces to refer to classes. For example, an alias can be passed to\n[Yii::createComponent()] to create an instance of the corresponding class,\neven if the class file was not included previously.\n\nDo not confuse path alias with namespace. A namespace refers to a logical\ngrouping of some class names so that they can be differentiated from other\nclass names even if their names are the same, while path alias is used to\nrefer to a class file or directory. Path alias does not conflict with\nnamespace.\n\n> Tip: Because PHP prior to 5.3.0 does not support namespace\nintrinsically, you cannot create instances of two classes who have the same\nname but with different definitions. For this reason, all Yii framework\nclasses are prefixed with a letter ''C'' (meaning ''class'') so that they can\nbe differentiated from user-defined classes. It is recommended that the\nprefix ''C'' be reserved for Yii framework use only, and user-defined classes\nbe prefixed with other letters.\n\n<div class="revision">$Id: basics.namespace.txt 1602 2009-12-18 19:33:34Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(67, 'basics.view', 'basics.view', '', 'View\n====\n\nA view is a PHP script consisting of mainly elements of user interface. It\ncan contain PHP statements, but it is recommended that these statements\nshould not alter data models and should remain relatively simple. For the\nspirit of separation of logic and presentation, large chunk of logic should\nbe placed in controller or model instead of view.\n\nA view has a name which is used to identify the view script file when\nrendering. The name of a view is the same as the name of its view script\nfile. For example, view `edit` refers to a view script file named as\n`edit.php`. To render a view, call [CController::render()] with the name of\nthe view. The method will look for the corresponding view file under the\ndirectory `protected/views/ControllerID`.\n\nInside the view script, we can access the controller instance using\n`$this`. We can thus `pull` in any property of the controller by\nevaluating `$this->propertyName` in the view.\n\nWe can also use the following `push` approach to pass data to the view:\n\n~~~\n[php]\n$this->render(''edit'', array(\n	''var1''=>$value1,\n	''var2''=>$value2,\n));\n~~~\n\nIn the above, the [render()|CController::render] method will extract the second array\nparameter into variables. As a result, in the view script we can access\nlocal variables `$var1` and `$var2`.\n\nLayout\n------\n\nLayout is a special view that is used to decorate views. It usually\ncontains portions of user interface that are common among several views.\nFor example, a layout may contain header and footer portions and embed\nthe content view in between,\n\n~~~\n[php]\n......header here......\n<?php echo $content; ?>\n......footer here......\n~~~\n\nwhere `$content` stores the rendering result of the content view.\n\nLayout is implicitly applied when calling [render()|CController::render].\nBy default, the view script `protected/views/layouts/main.php` is used as\nthe layout. This can be customized by changing either [CWebApplication::layout]\nor [CController::layout]. To render a view without applying any layout,\ncall [renderPartial()|CController::renderPartial] instead.\n\nWidget\n------\n\nA widget is an instance of [CWidget] or its child class. It is a component\nmainly for presentational purpose. Widgets are usually embedded in a view\nscript to generate some complex yet self-contained user interface. For\nexample, a calendar widget can be used to render a complex calendar user\ninterface. Widgets enable better reusability in user interface.\n\nTo use a widget, do as follows in a view script:\n\n~~~\n[php]\n<?php $this->beginWidget(''path.to.WidgetClass''); ?>\n...body content that may be captured by the widget...\n<?php $this->endWidget(); ?>\n~~~\n\nor\n\n~~~\n[php]\n<?php $this->widget(''path.to.WidgetClass''); ?>\n~~~\n\nThe latter is used when the widget does not need any body content.\n\nWidgets can be configured to customize its behaviors. This is done by\nsettings their initial property values when calling\n[CBaseController::beginWidget] or [CBaseController::widget]. For example,\nwhen using [CMaskedTextField] widget, we would like to specify the mask\nbeing used. We can do so by passing an array of those property initial\nvalues as follows, where the array keys are property names and array values\nthe initial values of the corresponding widget properties:\n\n~~~\n[php]\n<?php\n$this->widget(''CMaskedTextField'',array(\n	''mask''=>''99/99/9999''\n));\n?>\n~~~\n\nTo define a new widget, extend [CWidget] and override its\n[init()|CWidget::init] and [run()|CWidget::run] methods:\n\n~~~\n[php]\nclass MyWidget extends CWidget\n{\n	public function init()\n	{\n		// this method is called by CController::beginWidget()\n	}\n\n	public function run()\n	{\n		// this method is called by CController::endWidget()\n	}\n}\n~~~\n\nLike a controller, a widget can also have its own view. By default, widget\nview files are located under the `views` subdirectory of the directory\ncontaining the widget class file. These views can be rendered by calling\n[CWidget::render()], similar to that in controller. The only difference is\nthat no layout will be applied to a widget view. Also, `$this` in the view refers\nto the widget instance instead of the controller instance.\n\nSystem View\n-----------\n\nSystem views refer to the views used by Yii to display error and logging\ninformation. For example, when a user requests for a non-existing controller\nor action, Yii will throw an exception explaining the error. Yii displays the\nexception using a specific system view.\n\nThe naming of system views follows some rules. Names like `errorXXX` refer\nto views for displaying [CHttpException] with error code `XXX`. For\nexample, if [CHttpException] is raised with error code 404, the `error404`\nview will be displayed.\n\nYii provides a set of default system views located under\n`framework/views`. They can be customized by creating the same-named view\nfiles under `protected/views/system`.\n\n<div class="revision">$Id: basics.view.txt 1809 2010-02-17 22:08:34Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(68, 'basics.workflow', 'basics.workflow', '', 'Development Workflow\n====================\n\nHaving described the fundamental concepts of Yii, we show the common\nworkflow for developing a web application using Yii. The workflow assumes\nthat we have done the requirement analysis as well as the necessary design\nanalysis for the application.\n\n   1. Create the skeleton directory structure. The `yiic` tool described in\n[Creating First Yii Application](/doc/guide/quickstart.first-app) can be\nused to speed up this step.\n\n   2. Configure the [application](/doc/guide/basics.application). This is\ndone by modifying the application configuration file. This step may also\nrequire writing some application components (e.g. the user component).\n\n   3. Create a [model](/doc/guide/basics.model) class for each type of data\nto be managed. Again, `yiic` can be used to automatically generate the\n[active record](/doc/guide/database.ar) class for each interested database\ntable.\n\n   4. Create a [controller](/doc/guide/basics.controller) class for each\ntype of user requests. How to classify user requests depends on the actual\nrequirement. In general, if a model class needs to be accessed by users, it\nshould have a corresponding controller class. The `yiic` tool can automate\nthis step, too.\n\n   5. Implement [actions](/doc/guide/basics.controller#action) and their\ncorresponding [views](/doc/guide/basics.view). This is where the real work\nneeds to be done.\n\n   6. Configure necessary action\n[filters](/doc/guide/basics.controller#filter) in controller classes.\n\n   7. Create [themes](/doc/guide/topics.theming) if the theming feature is\nrequired.\n\n   8. Create translated messages if\n[internationalization](/doc/guide/topics.i18n) is required.\n\n   9. Spot data and views that can be cached and apply appropriate\n[caching](/doc/guide/caching.overview) techniques.\n\n   10. Final [tune up](/doc/guide/topics.performance) and deployment.\n\nFor each of the above steps, test cases may need to be created and\nperformed.\n\n<div class="revision">$Id: basics.workflow.txt 1034 2009-05-19 21:33:55Z qiang.xue $</div>\n', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(69, 'caching.data', 'caching.data', '', 'Data Caching\n============\n\nData caching is about storing some PHP variable in cache and retrieving it\nlater from cache. For this purpose, the cache component base class [CCache]\nprovides two methods that are used most of the time: [set()|CCache::set]\nand [get()|CCache::get].\n\nTo store a variable `$value` in cache, we choose a unique ID and call\n[set()|CCache::set] to store it:\n\n~~~\n[php]\nYii::app()->cache->set($id, $value);\n~~~\n\nThe cached data will remain in the cache forever unless it is removed\nbecause of some caching policy (e.g. caching space is full and the oldest\ndata are removed). To change this behavior, we can also supply an\nexpiration parameter when calling [set()|CCache::set] so that the data will\nbe removed from the cache after a certain period of time:\n\n~~~\n[php]\n// keep the value in cache for at most 30 seconds\nYii::app()->cache->set($id, $value, 30);\n~~~\n\nLater when we need to access this variable (in either the same or a\ndifferent Web request), we call [get()|CCache::get] with the ID to retrieve\nit from cache. If the value returned is false, it means the value is not\navailable in cache and we should regenerate it.\n\n~~~\n[php]\n$value=Yii::app()->cache->get($id);\nif($value===false)\n{\n	// regenerate $value because it is not found in cache\n	// and save it in cache for later use:\n	// Yii::app()->cache->set($id,$value);\n}\n~~~\n\nWhen choosing the ID for a variable to be cached, make sure the ID is\nunique among all other variables that may be cached in the application. It\nis NOT required that the ID is unique across applications because the cache\ncomponent is intelligent enough to differentiate IDs for different\napplications.\n\nSome cache storages, such as MemCache, APC, support retrieving\nmultiple cached values in a batch mode, which may reduce the overhead involved\nin retrieving cached data. Starting from version 1.0.8, a new method named\n[mget()|CCache::mget] is provided to exploit this feature. In case the underlying\ncache storage does not support this feature, [mget()|CCache::mget] will still\nsimulate it.\n\nTo remove a cached value from cache, call [delete()|CCache::delete]; and\nto remove everything from cache, call [flush()|CCache::flush]. Be very\ncareful when calling [flush()|CCache::flush] because it also removes cached\ndata that are from other applications.\n\n> Tip: Because [CCache] implements `ArrayAccess`, a cache component can be\n> used liked an array. The followings are some examples:\n> ~~~\n> [php]\n> $cache=Yii::app()->cache;\n> $cache[''var1'']=$value1;  // equivalent to: $cache->set(''var1'',$value1);\n> $value2=$cache[''var2''];  // equivalent to: $value2=$cache->get(''var2'');\n> ~~~\n\nCache Dependency\n----------------\n\nBesides expiration setting, cached data may also be invalidated according\nto some dependency changes. For example, if we are caching the content of\nsome file and the file is changed, we should invalidate the cached copy and\nread the latest content from the file instead of the cache.\n\nWe represent a dependency as an instance of [CCacheDependency] or its\nchild class. We pass the dependency instance along with the data to be\ncached when calling [set()|CCache::set].\n\n~~~\n[php]\n// the value will expire in 30 seconds\n// it may also be invalidated earlier if the dependent file is changed\nYii::app()->cache->set($id, $value, 30, new CFileCacheDependency(''FileName''));\n~~~\n\nNow if we retrieve `$value` from cache by calling [get()|CCache::get], the\ndependency will be evaluated and if it is changed, we will get a false\nvalue, indicating the data needs to be regenerated.\n\nBelow is a summary of the available cache dependencies:\n\n   - [CFileCacheDependency]: the dependency is changed if the file''s last\nmodification time is changed.\n\n   - [CDirectoryCacheDependency]: the dependency is changed if any of the\nfiles under the directory and its subdirectories is changed.\n\n   - [CDbCacheDependency]: the dependency is changed if the query result\nof the specified SQL statement is changed.\n\n   - [CGlobalStateCacheDependency]: the dependency is changed if the value\nof the specified global state is changed. A global state is a variable that\nis persistent across multiple requests and multiple sessions in an\napplication. It is defined via [CApplication::setGlobalState()].\n\n   - [CChainedCacheDependency]: the dependency is changed if any of the\ndependencies on the chain is changed.\n\n   - [CExpressionDependency]: the dependency is changed if the result of\nthe specified PHP expression is changed. This class has been available\nsince version 1.0.4.\n\n<div class="revision">$Id: caching.data.txt 1855 2010-03-04 22:42:32Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(70, 'caching.dynamic', 'caching.dynamic', '', 'Dynamic Content\n===============\n\nWhen using [fragment caching](/doc/guide/caching.fragment) or [page\ncaching](/doc/guide/caching.page), we often encounter the situation where\nthe whole portion of the output is relatively static except at one or\nseveral places. For example, a help page may display static help\ninformation with the name of the user currently logged in displayed at the\ntop.\n\nTo solve this issue, we can variate the cache content according to the\nusername, but this would be a big waste of our precious cache space since\nmost content are the same except the username. We can also divide the page\ninto several fragments and cache them individually, but this complicates\nour view and makes our code very complex. A better approach is to use the\n*dynamic content* feature provided by [CController].\n\nA dynamic content means a fragment of output that should not be cached\neven if it is enclosed within a fragment cache. To make the content dynamic\nall the time, it has to be generated every time even when the enclosing\ncontent is being served from cache. For this reason, we require that\ndynamic content be generated by some method or function.\n\nWe call [CController::renderDynamic()] to insert dynamic content at the\ndesired place.\n\n~~~\n[php]\n...other HTML content...\n<?php if($this->beginCache($id)) { ?>\n...fragment content to be cached...\n	<?php $this->renderDynamic($callback); ?>\n...fragment content to be cached...\n<?php $this->endCache(); } ?>\n...other HTML content...\n~~~\n\nIn the above, `$callback` refers to a valid PHP callback. It can be a\nstring referring to the name of a method in the current controller class or\na global function. It can also be an array referring to a class method. Any\nadditional parameters to [renderDynamic()|CController::renderDynamic()]\nwill be passed to the callback. The callback should return the dynamic\ncontent instead of displaying it.\n\n<div class="revision">$Id: caching.dynamic.txt 163 2008-11-05 12:51:48Z weizhuo $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(71, 'caching.fragment', 'caching.fragment', '', 'Fragment Caching\n================\n\nFragment caching refers to caching a fragment of a page. For example, if a\npage displays a summary of yearly sale in a table, we can store this table\nin cache to eliminate the time needed to generate it for each request.\n\nTo use fragment caching, we call\n[CController::beginCache()|CBaseController::beginCache()] and\n[CController::endCache()|CBaseController::endCache()] in a controller''s\nview script. The two methods mark the beginning and the end of the page\ncontent that should be cached, respectively. Like [data\ncaching](/doc/guide/caching.data), we need an ID to identify the fragment\nbeing cached.\n\n~~~\n[php]\n...other HTML content...\n<?php if($this->beginCache($id)) { ?>\n...content to be cached...\n<?php $this->endCache(); } ?>\n...other HTML content...\n~~~\n\nIn the above, if [beginCache()|CBaseController::beginCache()] returns\nfalse, the cached content will be automatically inserted at the place;\notherwise, the content inside the `if`-statement will be executed and be\ncached when [endCache()|CBaseController::endCache()] is invoked.\n\nCaching Options\n---------------\n\nWhen calling [beginCache()|CBaseController::beginCache()], we can supply\nan array as the second parameter consisting of caching options to customize\nthe fragment caching. As a matter of fact, the\n[beginCache()|CBaseController::beginCache()] and\n[endCache()|CBaseController::endCache()] methods are a convenient wrapper\nof the [COutputCache] widget. Therefore, the caching options can be initial\nvalues for any properties of [COutputCache].\n\n### Duration\n\nPerhaps the most commonly option is [duration|COutputCache::duration]\nwhich specifies how long the content can remain valid in cache. It is\nsimilar to the expiration parameter of [CCache::set()]. The following code\ncaches the content fragment for at most one hour:\n\n~~~\n[php]\n...other HTML content...\n<?php if($this->beginCache($id, array(''duration''=>3600))) { ?>\n...content to be cached...\n<?php $this->endCache(); } ?>\n...other HTML content...\n~~~\n\nIf we do not set the duration, it would default to 60, meaning the cached\ncontent will be invalidated after 60 seconds.\n\n### Dependency\n\nLike [data caching](/doc/guide/caching.data), content fragment being\ncached can also have dependencies. For example, the content of a post being\ndisplayed depends on whether or not the post is modified.\n\nTo specify a dependency, we set the [dependency|COutputCache::dependency]\noption, which can be either an object implementing [ICacheDependency] or a\nconfiguration array that can be used to generate the dependency object. The\nfollowing code specifies the fragment content depends on the change of\n`lastModified` column value:\n\n~~~\n[php]\n...other HTML content...\n<?php if($this->beginCache($id, array(''dependency''=>array(\n		''class''=>''system.caching.dependencies.CDbCacheDependency'',\n		''sql''=>''SELECT MAX(lastModified) FROM Post'')))) { ?>\n...content to be cached...\n<?php $this->endCache(); } ?>\n...other HTML content...\n~~~\n\n### Variation\n\nContent being cached may be variated according to some parameters. For\nexample, the personal profile may look differently to different users. To\ncache the profile content, we would like the cached copy to be variated\naccording to user IDs. This essentially means that we should use different\nIDs when calling [beginCache()|CBaseController::beginCache()].\n\nInstead of asking developers to variate the IDs according to some scheme,\n[COutputCache] is built-in with such a feature. Below is a summary.\n\n   - [varyByRoute|COutputCache::varyByRoute]: by setting this option\nto true, the cached content will be variated according to\n[route](/doc/guide/basics.controller#route). Therefore, each combination\nof the requested controller and action will have a separate cached content.\n\n   - [varyBySession|COutputCache::varyBySession]: by setting this option\nto true, we can make the cached content to be variated according to session\nIDs. Therefore, each user session may see different content and they are\nall served from cache.\n\n   - [varyByParam|COutputCache::varyByParam]: by setting this option to an\narray of names, we can make the cached content to be variated according to\nthe values of the specified GET parameters. For example, if a page displays\nthe content of a post according to the `id` GET parameter, we can specify\n[varyByParam|COutputCache::varyByParam] to be `array(''id'')` so that we can\ncache the content for each post. Without such variation, we would only be\nable to cache a single post.\n\n   - [varyByExpression|COutputCache::varyByExpression]: by setting this option\nto a PHP expression, we can make the cached content to be variated according\nto the result of this PHP expression. This option has been available since\nversion 1.0.4.\n\n### Request Types\n\nSometimes we want the fragment caching to be enabled only for certain\ntypes of request. For example, for a page displaying a form, we only want\nto cache the form when it is initially requested (via GET request). Any\nsubsequent display (via POST request) of the form should not be cached\nbecause the form may contain user input. To do so, we can specify the\n[requestTypes|COutputCache::requestTypes] option:\n\n~~~\n[php]\n...other HTML content...\n<?php if($this->beginCache($id, array(''requestTypes''=>array(''GET'')))) { ?>\n...content to be cached...\n<?php $this->endCache(); } ?>\n...other HTML content...\n~~~\n\nNested Caching\n--------------\n\nFragment caching can be nested. That is, a cached fragment is enclosed\nwithin a bigger fragment that is also cached. For example, the comments are\ncached in an inner fragment cache, and they are cached together with the\npost content in an outer fragment cache.\n\n~~~\n[php]\n...other HTML content...\n<?php if($this->beginCache($id1)) { ?>\n...outer content to be cached...\n	<?php if($this->beginCache($id2)) { ?>\n	...inner content to be cached...\n	<?php $this->endCache(); } ?>\n...outer content to be cached...\n<?php $this->endCache(); } ?>\n...other HTML content...\n~~~\n\nDifferent caching options can be set to the nested caches. For example,\nthe inner cache and the outer cache in the above example can be set with\ndifferent duration values. When the data cached in the outer cache is\ninvalidated, the inner cache may still provide valid inner fragment.\nHowever, it is not true vice versa. If the outer cache contains valid data,\nit will always provide the cached copy, even though the content in the\ninner cache already expires.\n\n<div class="revision">$Id: caching.fragment.txt 956 2009-04-21 15:16:03Z qiang.xue@gmail.com $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(72, 'caching.overview', 'caching.overview', '', 'Caching\n=======\n\nCaching is a cheap and effective way to improve the performance of a Web\napplication. By storing relatively static data in cache and serving it from\ncache when requested, we save the time needed to generate the data.\n\nUsing cache in Yii mainly involves configuring and accessing a cache\napplication component. The following application configuration specifies a\ncache component that uses memcache with two cache servers.\n\n~~~\n[php]\narray(\n	......\n	''components''=>array(\n		......\n		''cache''=>array(\n			''class''=>''system.caching.CMemCache'',\n			''servers''=>array(\n				array(''host''=>''server1'', ''port''=>11211, ''weight''=>60),\n				array(''host''=>''server2'', ''port''=>11211, ''weight''=>40),\n			),\n		),\n	),\n);\n~~~\n\nWhen the application is running, the cache component can be accessed via\n`Yii::app()->cache`.\n\nYii provides various cache components that can store cached data in\ndifferent media. For example, the [CMemCache] component encapsulates the\nPHP memcache extension and uses memory as the medium of cache storage; the\n[CApcCache] component encapsulates the PHP APC extension; and the\n[CDbCache] component stores cached data in database. The following is a\nsummary of the available cache components:\n\n   - [CMemCache]: uses PHP [memcache extension](http://www.php.net/manual/en/book.memcache.php).\n\n   - [CApcCache]: uses PHP [APC extension](http://www.php.net/manual/en/book.apc.php).\n\n   - [CXCache]: uses PHP [XCache extension](http://xcache.lighttpd.net/).\nNote, this has been available since version 1.0.1.\n\n   - [CEAcceleratorCache]: uses PHP [EAccelerator extension](http://eaccelerator.net/).\n\n   - [CDbCache]: uses a database table to store cached data. By default,\nit will create and use a SQLite3 database under the runtime directory. You\ncan explicitly specify a database for it to use by setting its\n[connectionID|CDbCache::connectionID] property.\n\n   - [CZendDataCache]: uses Zend Data Cache as the underlying caching medium.\nNote, this has been available since version 1.0.4.\n\n   - [CFileCache]: uses files to store cached data. This is particular suitable to\ncache large chunk of data (such as pages). Note that this has been available since version 1.0.6.\n\n   - [CDummyCache]: presents dummy cache that does no caching at all. The purpose\nof this component is to simplify the code that needs to check the availability of cache.\nFor example, during development or if the server doesn''t have actual cache support, we\ncan use this cache component. When an actual cache support is enabled, we can switch\nto use the corresponding cache component. In both cases, we can use the same code\n`Yii::app()->cache->get($key)` to attempt retrieving a piece of data without worrying\nthat `Yii::app()->cache` might be `null`. This component has been available since version 1.0.5.\n\n> Tip: Because all these cache components extend from the same base class\n[CCache], one can switch to use a different type of cache without modifying\nthe code that uses cache.\n\nCaching can be used at different levels. At the lowest level, we use cache\nto store a single piece of data, such as a variable, and we call this\n*data caching*. At the next level, we store in cache a page fragment\nwhich is generated by a portion of a view script. And at the highest\nlevel, we store a whole page in cache and serve it from cache as needed.\n\nIn the next few subsections, we elaborate how to use cache at these\nlevels.\n\n> Note: By definition, cache is a volatile storage medium. It does not\nensure the existence of the cached data even if it does not expire.\nTherefore, do not use cache as a persistent storage (e.g. do not use cache\nto store session data).\n\n<div class="revision">$Id: caching.overview.txt 2005 2010-04-03 16:24:46Z alexander.makarow $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(73, 'caching.page', 'caching.page', '', 'Page Caching\n============\n\nPage caching refers to caching the content of a whole page. Page caching\ncan occur at different places. For example, by choosing an appropriate page\nheader, the client browser may cache the page being viewed for a limited\ntime. The Web application itself can also store the page content in cache.\nIn this subsection, we focus on this latter approach.\n\nPage caching can be considered as a special case of [fragment\ncaching](/doc/guide/caching.fragment). Because the content of a page is\noften generated by applying a layout to a view, it will not work if we\nsimply call [beginCache()|CBaseController::beginCache] and\n[endCache()|CBaseController::endCache] in the layout. The reason is because\nthe layout is applied within the [CController::render()] method AFTER the\ncontent view is evaluated.\n\nTo cache a whole page, we should skip the execution of the action\ngenerating the page content. We can use [COutputCache] as an action\n[filter](/doc/guide/basics.controller#filter) to accomplish this task. The\nfollowing code shows how we configure the cache filter:\n\n~~~\n[php]\npublic function filters()\n{\n	return array(\n		array(\n			''COutputCache'',\n			''duration''=>100,\n			''varyByParam''=>array(''id''),\n		),\n	);\n}\n~~~\n\nThe above filter configuration would make the filter to be applied to all\nactions in the controller. We may limit it to one or a few actions only by\nusing the plus operator. More details can be found in\n[filter](/doc/guide/basics.controller#filter).\n\n> Tip: We can use [COutputCache] as a filter because it extends from\n[CFilterWidget], which means it is both a widget and a filter. In fact, the\nway a widget works is very similar to a filter: a widget (filter) begins\nbefore any enclosed content (action) is evaluated, and the widget (filter)\nends after the enclosed content (action) is evaluated.\n\n<div class="revision">$Id: caching.page.txt 1014 2009-05-10 12:25:55Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(74, 'changes', 'changes', '', 'New Features\n============\n\nThis page summarizes the main new features introduced in each Yii release.\n\nVersion 1.1.3\n-------------\n\n * [Added support to configure widget default values in application configuration](/doc/guide/theming#customizing-widgets-globally)\n\nVersion 1.1.2\n-------------\n\n * [Added a Web-based code generation tool called Gii](/doc/guide/topics.gii)\n\nVersion 1.1.1\n-------------\n\n * Added CActiveForm which simplifies writing form-related code and supports\n seamless and consistent validation on both client and server sides.\n\n * Refactored the code generated by the yiic tool. In particular, the skeleton\n application is now generated with multiple layouts; the operation menu is\n reorganized for CRUD pages; added search and filtering feature to the admin\n page generated by crud command; used CActiveForm to render a form.\n\n * [Added support to allow defining global yiic commands](/doc/guide/topics.console)\n\nVersion 1.1.0\n-------------\n\n * [Added support for writing unit and functional tests](/doc/guide/test.overview)\n\n * [Added support for using widget skins](/doc/guide/topics.theming#skin)\n\n * [Added an extensible form builder](/doc/guide/form.builder)\n\n * Improved the way of declaring safe model attributes. See\n [Securing Attribute Assignments](/doc/guide/form.model#securing-attribute-assignments).\n\n * Changed the default eager loading algorithm for relational active record queries so that all tables are joined in one single SQL statement.\n\n * Changed the default table alias to be the name of active record relations.\n\n * [Added support for using table prefix](/doc/guide/database.dao#using-table-prefix).\n\n * Added a whole set of new extensions known as the [Zii library](http://code.google.com/p/zii/).\n\n * The alias name for the primary table in an AR query is fixed to be ''t''\n\nVersion 1.0.11\n--------------\n\n * Added support for parsing and creating URLs with parameterized hostnames\n     - [Parameterizing Hostnames](/doc/guide/topics.url#parameterizing-hostnames)\n\n\nVersion 1.0.10\n--------------\n\n * Enhanced support for using CPhpMessageSource to manage module messages\n     - [Message Translation](/doc/guide/topics.i18n#message-translation)\n\n * Added support for attaching anonymous functions as event handlers\n     - [Component Event](/doc/guide/basics.component#component-event)\n\nVersion 1.0.8\n-------------\n\n * Added support for retrieving multiple cached values at one time\n	 - [Data Caching](/doc/guide/caching.data)\n\n * Introduced a new default root path alias `ext` which points to the directory\ncontaining all third-party extensions.\n	 - [Using Extensions](/doc/guide/extension.use)\n\nVersion 1.0.7\n-------------\n\n * Added support for displaying call stack information in trace messages\n     - [Logging Context Information](/doc/guide/topics.logging#logging-context-information)\n\n * Added `index` option to AR relations so that related objects can be indexed\nusing the values of a specific column\n     - [Relational Query Options](/doc/guide/database.arr#relational-query-options)\n\nVersion 1.0.6\n-------------\n\n * Added support for using named scope with `update` and `delete` methods:\n     - [Named Scopes](/doc/guide/database.ar#named-scopes)\n\n * Added support for using named scope in the `with` option of relational rules:\n     - [Relational Query with Named Scopes](/doc/guide/database.arr#relational-query-with-named-scopes)\n\n * Added support for profiling SQL executions\n     - [Profiling SQL Executions](/doc/guide/topics.logging#profiling-sql-executions)\n\n * Added support for logging additional context information\n     - [Logging Context Information](/doc/guide/topics.logging#logging-context-information)\n\n * Added support for customizing a single URL rule by setting its urlFormat and caseSensitive options:\n     - [User-friendly URLs](/doc/guide/topics.url#user-friendly-urls)\n\n * Added support for using a controller action to display application errors:\n     - [Handling Errors Using an Action](/doc/guide/topics.error#handling-errors-using-an-action)\n\nVersion 1.0.5\n-------------\n\n * Enhanced active record by supporting named scopes. See:\n     - [Named Scopes](/doc/guide/database.ar#named-scopes)\n     - [Default Named Scope](/doc/guide/database.ar#default-named-scope)\n     - [Relational Query with Named Scopes](/doc/guide/database.arr#relational-query-with-named-scopes)\n\n\n * Enhanced active record by supporting lazy loading with dynamic query options. See:\n     - [Dynamic Relational Query Options](/doc/guide/database.arr#dynamic-relational-query-options)\n\n * Enhanced [CUrlManager] to support parameterizing the route part in URL rules. See:\n     - [Parameterizing Routes in URL Rules](/doc/guide/topics.url#parameterizing-routes)\n\n<div class="revision">$Id: changes.txt 2172 2010-06-07 19:56:01Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(75, 'database.ar', 'database.ar', '', 'Active Record\n=============\n\nAlthough Yii DAO can handle virtually any database-related task, chances\nare that we would spend 90% of our time in writing some SQL statements\nwhich perform the common CRUD (create, read, update and delete) operations.\nIt is also difficult to maintain our code when they are mixed with SQL\nstatements. To solve these problems, we can use Active Record.\n\nActive Record (AR) is a popular Object-Relational Mapping (ORM) technique.\nEach AR class represents a database table (or view) whose attributes are\nrepresented as the AR class properties, and an AR instance represents a row\nin that table. Common CRUD operations are implemented as AR methods. As a\nresult, we can access our data in a more object-oriented way. For example,\nwe can use the following code to insert a new row to the `tbl_post` table:\n\n~~~\n[php]\n$post=new Post;\n$post->title=''sample post'';\n$post->content=''post body content'';\n$post->save();\n~~~\n\nIn the following we describe how to set up AR and use it to perform CRUD\noperations. We will show how to use AR to deal with database relationships\nin the next section. For simplicity, we use the following database table\nfor our examples in this section. Note that if you are using MySQL database,\nyou should replace `AUTOINCREMENT` with `AUTO_INCREMENT` in the following SQL.\n\n~~~\n[sql]\nCREATE TABLE tbl_post (\n	id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\n	title VARCHAR(128) NOT NULL,\n	content TEXT NOT NULL,\n	create_time INTEGER NOT NULL\n);\n~~~\n\n> Note: AR is not meant to solve all database-related tasks. It is best\nused for modeling database tables in PHP constructs and performing queries\nthat do not involve complex SQLs. Yii DAO should be used for those complex\nscenarios.\n\n\nEstablishing DB Connection\n--------------------------\n\nAR relies on a DB connection to perform DB-related operations. By default,\nit assumes that the `db` application component gives the needed\n[CDbConnection] instance which serves as the DB connection. The following\napplication configuration shows an example:\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		''db''=>array(\n			''class''=>''system.db.CDbConnection'',\n			''connectionString''=>''sqlite:path/to/dbfile'',\n			// turn on schema caching to improve performance\n			// ''schemaCachingDuration''=>3600,\n		),\n	),\n);\n~~~\n\n> Tip: Because Active Record relies on the metadata about tables to\ndetermine the column information, it takes time to read the metadata and\nanalyze it. If the schema of your database is less likely to be changed,\nyou should turn on schema caching by configuring the\n[CDbConnection::schemaCachingDuration] property to be a value greater than\n0.\n\nSupport for AR is limited by DBMS. Currently, only the following DBMS are\nsupported:\n\n   - [MySQL 4.1 or later](http://www.mysql.com)\n   - [PostgreSQL 7.3 or later](http://www.postgres.com)\n   - [SQLite 2 and 3](http://www.sqlite.org)\n   - [Microsoft SQL Server 2000 or later](http://www.microsoft.com/sqlserver/)\n   - [Oracle](http://www.oracle.com)\n\n> Note: The support for Microsoft SQL Server has been available since version 1.0.4;\n> And the support for Oracle has been available since version 1.0.5.\n\nIf you want to use an application component other than `db`, or if you\nwant to work with multiple databases using AR, you should override\n[CActiveRecord::getDbConnection()]. The [CActiveRecord] class is the base\nclass for all AR classes.\n\n> Tip: There are two ways to work with multiple databases in AR. If the\nschemas of the databases are different, you may create different base AR\nclasses with different implementation of\n[getDbConnection()|CActiveRecord::getDbConnection]. Otherwise, dynamically\nchanging the static variable [CActiveRecord::db] is a better idea.\n\nDefining AR Class\n-----------------\n\nTo access a database table, we first need to define an AR class by\nextending [CActiveRecord]. Each AR class represents a single database\ntable, and an AR instance represents a row in that table. The following\nexample shows the minimal code needed for the AR class representing the\n`tbl_post` table.\n\n~~~\n[php]\nclass Post extends CActiveRecord\n{\n	public static function model($className=__CLASS__)\n	{\n		return parent::model($className);\n	}\n\n	public function tableName()\n	{\n		return ''tbl_post'';\n	}\n}\n~~~\n\n> Tip: Because AR classes are often referenced in many places, we can\n> import the whole directory containing the AR class, instead of including\n> them one by one. For example, if all our AR class files are under\n> `protected/models`, we can configure the application as follows:\n> ~~~\n> [php]\n> return array(\n> 	''import''=>array(\n> 		''application.models.*'',\n> 	),\n> );\n> ~~~\n\nBy default, the name of the AR class is the same as the database table\nname. Override the [tableName()|CActiveRecord::tableName] method if they\nare different. The [model()|CActiveRecord::model] method is declared as\nsuch for every AR class (to be explained shortly).\n\n> Info: To use the [table prefix feature](/doc/guide/database.dao#using-table-prefix)\n> introduced in version 1.1.0, the [tableName()|CActiveRecord::tableName] method\n> for an AR class may be overridden as follows,\n> ~~~\n> [php]\n> public function tableName()\n> {\n>     return ''{{post}}'';\n> }\n> ~~~\n> That is, instead of returning the fully qualified table name, we return\n> the table name without the prefix and enclose it in double curly brackets.\n\nColumn values of a table row can be accessed as properties of the\ncorresponding AR instance. For example, the following code sets the\n`title` column (attribute):\n\n~~~\n[php]\n$post=new Post;\n$post->title=''a sample post'';\n~~~\n\nAlthough we never explicitly declare the `title` property in the `Post`\nclass, we can still access it in the above code. This is because `title` is\na column in the `tbl_post` table, and CActiveRecord makes it accessible as a\nproperty with the help of the PHP `__get()` magic method. An exception will\nbe thrown if we attempt to access a non-existing column in the same way.\n\n> Info: In this guide, we use lower case for all table names and column names.\nThis is because different DBMS handle case-sensitivity differently.\nFor example, PostgreSQL treats column names as case-insensitive\nby default, and we must quote a column in a query condition if the column\ncontains mixed-case letters. Using lower case would help eliminate this problem.\n\nAR relies on well defined primary keys of tables. If a table does not have a primary key, it is required that the corresponding AR class specify which column(s) should be the primary key by overriding the `primaryKey()` method as follows,\n\n~~~\n[php]\npublic function primaryKey()\n{\n	return ''id'';\n	// For composite primary key, return an array like the following\n	// return array(''pk1'', ''pk2'');\n}\n~~~\n\n\nCreating Record\n---------------\n\nTo insert a new row into a database table, we create a new instance of the\ncorresponding AR class, set its properties associated with the table\ncolumns, and call the [save()|CActiveRecord::save] method to finish the\ninsertion.\n\n~~~\n[php]\n$post=new Post;\n$post->title=''sample post'';\n$post->content=''content for the sample post'';\n$post->create_time=time();\n$post->save();\n~~~\n\nIf the table''s primary key is auto-incremental, after the insertion the AR\ninstance will contain an updated primary key. In the above example, the\n`id` property will reflect the primary key value of the newly inserted\npost, even though we never change it explicitly.\n\nIf a column is defined with some static default value (e.g. a string, a\nnumber) in the table schema, the corresponding property in the AR instance\nwill automatically has such a value after the instance is created. One way\nto change this default value is by explicitly declaring the property in the\nAR class:\n\n~~~\n[php]\nclass Post extends CActiveRecord\n{\n	public $title=''please enter a title'';\n	......\n}\n\n$post=new Post;\necho $post->title;  // this would display: please enter a title\n~~~\n\nStarting from version 1.0.2, an attribute can be assigned a value of [CDbExpression]\ntype before the record is saved (either insertion or updating) to the database.\nFor example, in order to save a timestamp returned by the MySQL `NOW()` function,\nwe can use the following code:\n\n~~~\n[php]\n$post=new Post;\n$post->create_time=new CDbExpression(''NOW()'');\n// $post->create_time=''NOW()''; will not work because\n// ''NOW()'' will be treated as a string\n$post->save();\n~~~\n\n> Tip: While AR allows us to perform database operations without writing\ncumbersom SQL statements, we often want to know what SQL statements are executed\nby AR underneath. This can be achieved by turning on the [logging feature](/doc/guide/topics.logging)\nof Yii. For example, we can turn on [CWebLogRoute] in the application configuration,\nand we will see the executed SQL statements being displayed at the end of each Web page.\nSince version 1.0.5, we can set [CDbConnection::enableParamLogging] to be true in\nthe application configuration so that the parameter values bound to the SQL\nstatements are also logged.\n\n\nReading Record\n--------------\n\nTo read data in a database table, we call one of the `find` methods as\nfollows.\n\n~~~\n[php]\n// find the first row satisfying the specified condition\n$post=Post::model()->find($condition,$params);\n// find the row with the specified primary key\n$post=Post::model()->findByPk($postID,$condition,$params);\n// find the row with the specified attribute values\n$post=Post::model()->findByAttributes($attributes,$condition,$params);\n// find the first row using the specified SQL statement\n$post=Post::model()->findBySql($sql,$params);\n~~~\n\nIn the above, we call the `find` method with `Post::model()`. Remember\nthat the static method `model()` is required for every AR class. The method\nreturns an AR instance that is used to access class-level methods\n(something similar to static class methods) in an object context.\n\nIf the `find` method finds a row satisfying the query conditions, it will\nreturn a `Post` instance whose properties contain the corresponding column\nvalues of the table row. We can then read the loaded values like we do with\nnormal object properties, for example, `echo $post->title;`.\n\nThe `find` method will return null if nothing can be found in the database\nwith the given query condition.\n\nWhen calling `find`, we use `$condition` and `$params` to specify query\nconditions. Here `$condition` can be string representing the `WHERE` clause\nin a SQL statement, and `$params` is an array of parameters whose values\nshould be bound to the placeholders in `$condition`. For example,\n\n~~~\n[php]\n// find the row with postID=10\n$post=Post::model()->find(''postID=:postID'', array('':postID''=>10));\n~~~\n\n> Note: In the above, we may need to escape the reference to the `postID` column\nfor certain DBMS. For example, if we are using PostgreSQL, we would have to write\nthe condition as `"postID"=:postID`, because PostgreSQL by default will treat column\nnames as case-insensitive.\n\nWe can also use `$condition` to specify more complex query conditions.\nInstead of a string, we let `$condition` be a [CDbCriteria] instance, which\nallows us to specify conditions other than the `WHERE` clause. For example,\n\n~~~\n[php]\n$criteria=new CDbCriteria;\n$criteria->select=''title'';  // only select the ''title'' column\n$criteria->condition=''postID=:postID'';\n$criteria->params=array('':postID''=>10);\n$post=Post::model()->find($criteria); // $params is not needed\n~~~\n\nNote, when using [CDbCriteria] as query condition, the `$params` parameter\nis no longer needed since it can be specified in [CDbCriteria], as shown\nabove.\n\nAn alternative way to [CDbCriteria] is passing an array to the `find` method.\nThe array keys and values correspond to the criteria''s property name and value,\nrespectively. The above example can be rewritten as follows,\n\n~~~\n[php]\n$post=Post::model()->find(array(\n	''select''=>''title'',\n	''condition''=>''postID=:postID'',\n	''params''=>array('':postID''=>10),\n));\n~~~\n\n> Info: When a query condition is about matching some columns with the\nspecified values, we can use\n[findByAttributes()|CActiveRecord::findByAttributes]. We let the\n`$attributes` parameters be an array of the values indexed by the column\nnames. In some frameworks, this task can be achieved by calling methods\nlike `findByNameAndTitle`. Although this approach looks attractive, it\noften causes confusion, conflict and issues like case-sensitivity of column\nnames.\n\nWhen multiple rows of data matching the specified query condition, we can\nbring them in all together using the following `findAll` methods, each of\nwhich has its counterpart `find` method, as we already described.\n\n~~~\n[php]\n// find all rows satisfying the specified condition\n$posts=Post::model()->findAll($condition,$params);\n// find all rows with the specified primary keys\n$posts=Post::model()->findAllByPk($postIDs,$condition,$params);\n// find all rows with the specified attribute values\n$posts=Post::model()->findAllByAttributes($attributes,$condition,$params);\n// find all rows using the specified SQL statement\n$posts=Post::model()->findAllBySql($sql,$params);\n~~~\n\nIf nothing matches the query condition, `findAll` would return an empty\narray. This is different from `find` who would return null if nothing is\nfound.\n\nBesides the `find` and `findAll` methods described above, the following\nmethods are also provided for convenience:\n\n~~~\n[php]\n// get the number of rows satisfying the specified condition\n$n=Post::model()->count($condition,$params);\n// get the number of rows using the specified SQL statement\n$n=Post::model()->countBySql($sql,$params);\n// check if there is at least a row satisfying the specified condition\n$exists=Post::model()->exists($condition,$params);\n~~~\n\nUpdating Record\n---------------\n\nAfter an AR instance is populated with column values, we can change them\nand save them back to the database table.\n\n~~~\n[php]\n$post=Post::model()->findByPk(10);\n$post->title=''new post title'';\n$post->save(); // save the change to database\n~~~\n\nAs we can see, we use the same [save()|CActiveRecord::save] method to\nperform insertion and updating operations. If an AR instance is created\nusing the `new` operator, calling [save()|CActiveRecord::save] would insert\na new row into the database table; if the AR instance is the result of some\n`find` or `findAll` method call, calling [save()|CActiveRecord::save] would\nupdate the existing row in the table. In fact, we can use\n[CActiveRecord::isNewRecord] to tell if an AR instance is new or not.\n\nIt is also possible to update one or several rows in a database table\nwithout loading them first. AR provides the following convenient\nclass-level methods for this purpose:\n\n~~~\n[php]\n// update the rows matching the specified condition\nPost::model()->updateAll($attributes,$condition,$params);\n// update the rows matching the specified condition and primary key(s)\nPost::model()->updateByPk($pk,$attributes,$condition,$params);\n// update counter columns in the rows satisfying the specified conditions\nPost::model()->updateCounters($counters,$condition,$params);\n~~~\n\nIn the above, `$attributes` is an array of column values indexed by column\nnames; `$counters` is an array of incremental values indexed by column\nnames; and `$condition` and `$params` are as described in the previous\nsubsection.\n\nDeleting Record\n---------------\n\nWe can also delete a row of data if an AR instance has been populated with\nthis row.\n\n~~~\n[php]\n$post=Post::model()->findByPk(10); // assuming there is a post whose ID is 10\n$post->delete(); // delete the row from the database table\n~~~\n\nNote, after deletion, the AR instance remains unchanged, but the\ncorresponding row in the database table is already gone.\n\nThe following class-level methods are provided to delete rows without the\nneed of loading them first:\n\n~~~\n[php]\n// delete the rows matching the specified condition\nPost::model()->deleteAll($condition,$params);\n// delete the rows matching the specified condition and primary key(s)\nPost::model()->deleteByPk($pk,$condition,$params);\n~~~\n\nData Validation\n---------------\n\nWhen inserting or updating a row, we often need to check if the column\nvalues comply to certain rules. This is especially important if the column\nvalues are provided by end users. In general, we should never trust\nanything coming from the client side.\n\nAR performs data validation automatically when\n[save()|CActiveRecord::save] is being invoked. The validation is based on\nthe rules specified by in the [rules()|CModel::rules] method of the AR class.\nFor more details about how to specify validation rules, refer to\nthe [Declaring Validation Rules](/doc/guide/form.model#declaring-validation-rules)\nsection. Below is the typical workflow needed by saving a record:\n\n~~~\n[php]\nif($post->save())\n{\n	// data is valid and is successfully inserted/updated\n}\nelse\n{\n	// data is invalid. call getErrors() to retrieve error messages\n}\n~~~\n\nWhen the data for inserting or updating is submitted by end users in an\nHTML form, we need to assign them to the corresponding AR properties. We\ncan do so like the following:\n\n~~~\n[php]\n$post->title=$_POST[''title''];\n$post->content=$_POST[''content''];\n$post->save();\n~~~\n\nIf there are many columns, we would see a long list of such assignments.\nThis can be alleviated by making use of the\n[attributes|CActiveRecord::attributes] property as shown below. More\ndetails can be found in the [Securing Attribute Assignments](/doc/guide/form.model#securing-attribute-assignments)\nsection and the [Creating Action](/doc/guide/form.action) section.\n\n~~~\n[php]\n// assume $_POST[''Post''] is an array of column values indexed by column names\n$post->attributes=$_POST[''Post''];\n$post->save();\n~~~\n\n\nComparing Records\n-----------------\n\nLike table rows, AR instances are uniquely identified by their primary key\nvalues. Therefore, to compare two AR instances, we merely need to compare\ntheir primary key values, assuming they belong to the same AR class. A\nsimpler way is to call [CActiveRecord::equals()], however.\n\n> Info: Unlike AR implementation in other frameworks, Yii supports\ncomposite primary keys in its AR. A composite primary key consists of two\nor more columns. Correspondingly, the primary key value is represented as\nan array in Yii. The [primaryKey|CActiveRecord::primaryKey] property gives\nthe primary key value of an AR instance.\n\nCustomization\n-------------\n\n[CActiveRecord] provides a few placeholder methods that can be overridden\nin child classes to customize its workflow.\n\n   - [beforeValidate|CModel::beforeValidate] and\n[afterValidate|CModel::afterValidate]: these are invoked before and\nafter validation is performed.\n\n   - [beforeSave|CActiveRecord::beforeSave] and\n[afterSave|CActiveRecord::afterSave]: these are invoked before and after\nsaving an AR instance.\n\n   - [beforeDelete|CActiveRecord::beforeDelete] and\n[afterDelete|CActiveRecord::afterDelete]: these are invoked before and\nafter an AR instance is deleted.\n\n   - [afterConstruct|CActiveRecord::afterConstruct]: this is invoked for\nevery AR instance created using the `new` operator.\n\n   - [beforeFind|CActiveRecord::beforeFind]: this is invoked before an AR finder\nis used to perform a query (e.g. `find()`, `findAll()`). This has been available\nsince version 1.0.9.\n\n   - [afterFind|CActiveRecord::afterFind]: this is invoked after every AR\ninstance created as a result of query.\n\n\nUsing Transaction with AR\n-------------------------\n\nEvery AR instance contains a property named\n[dbConnection|CActiveRecord::dbConnection] which is a [CDbConnection]\ninstance. We thus can use the\n[transaction](/doc/guide/database.dao#using-transactions) feature provided by Yii\nDAO if it is desired when working with AR:\n\n~~~\n[php]\n$model=Post::model();\n$transaction=$model->dbConnection->beginTransaction();\ntry\n{\n	// find and save are two steps which may be intervened by another request\n	// we therefore use a transaction to ensure consistency and integrity\n	$post=$model->findByPk(10);\n	$post->title=''new post title'';\n	$post->save();\n	$transaction->commit();\n}\ncatch(Exception $e)\n{\n	$transaction->rollBack();\n}\n~~~\n\n\nNamed Scopes\n------------\n\n> Note: The support for named scopes has been available since version 1.0.5.\n> The original idea of named scopes came from Ruby on Rails.\n\nA *named scope* represents a *named* query criteria that can be combined with other named scopes and applied to an active record query.\n\nNamed scopes are mainly declared in the [CActiveRecord::scopes()] method as name-criteria pairs. The following code declares two named scopes, `published` and `recently`, in the `Post` model class:\n\n~~~\n[php]\nclass Post extends CActiveRecord\n{\n	......\n	public function scopes()\n	{\n		return array(\n			''published''=>array(\n				''condition''=>''status=1'',\n			),\n			''recently''=>array(\n				''order''=>''create_time DESC'',\n				''limit''=>5,\n			),\n		);\n	}\n}\n~~~\n\nEach named scope is declared as an array which can be used to initialize a [CDbCriteria] instance. For example, the `recently` named scope specifies that the `order` property to be `create_time DESC` and the `limit` property to be 5, which translates to a query criteria that should bring back the most recent 5 posts.\n\nNamed scopes are mostly used as modifiers to the `find` method calls. Several named scopes may be chained together and result in a more restrictive query result set. For example, to find the recently published posts, we can use the following code:\n\n~~~\n[php]\n$posts=Post::model()->published()->recently()->findAll();\n~~~\n\nIn general, named scopes must appear to the left of a `find` method call. Each of them provides a query criteria, which is combined with other criterias, including the one passed to the `find` method call. The net effect is like adding a list of filters to a query.\n\nStarting from version 1.0.6, named scopes can also be used with `update` and `delete` methods. For example, the following code would delete all recently published posts:\n\n~~~\n[php]\nPost::model()->published()->recently()->delete();\n~~~\n\n> Note: Named scopes can only be used with class-level methods. That is, the method must be called using `ClassName::model()`.\n\n\n### Parameterized Named Scopes\n\nNamed scopes can be parameterized. For example, we may want to customize the number of posts specified by the `recently` named scope. To do so, instead of declaring the named scope in the [CActiveRecord::scopes] method, we need to define a new method whose name is the same as the scope name:\n\n~~~\n[php]\npublic function recently($limit=5)\n{\n	$this->getDbCriteria()->mergeWith(array(\n		''order''=>''create_time DESC'',\n		''limit''=>$limit,\n	));\n	return $this;\n}\n~~~\n\nThen, we can use the following statement to retrieve the 3 recently published posts:\n\n~~~\n[php]\n$posts=Post::model()->published()->recently(3)->findAll();\n~~~\n\nIf we do not supply the parameter 3 in the above, we would retrieve the 5 recently published posts by default.\n\n\n### Default Named Scope\n\nA model class can have a default named scope that would be applied for all queries (including relational ones) about the model. For example, a website supporting multiple languages may only want to display contents that are in the language the current user specifies. Because there may be many queries about the site contents, we can define a default named scope to solve this problem. To do so, we override the [CActiveRecord::defaultScope] method as follows,\n\n~~~\n[php]\nclass Content extends CActiveRecord\n{\n	public function defaultScope()\n	{\n		return array(\n			''condition''=>"language=''".Yii::app()->language."''",\n		);\n	}\n}\n~~~\n\nNow, if the following method call will automatically use the query criteria as defined above:\n\n~~~\n[php]\n$contents=Content::model()->findAll();\n~~~\n\nNote that default named scope only applies to `SELECT` queries. It is ignored for `INSERT`, `UPDATE` and `DELETE` queries.\n\n<div class="revision">$Id: database.ar.txt 1681 2010-01-08 03:04:35Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(76, 'database.arr', 'database.arr', '', 'Relational Active Record\n========================\n\nWe have already seen how to use Active Record (AR) to select data from a\nsingle database table. In this section, we describe how to use AR to join\nseveral related database tables and bring back the joint data set.\n\nIn order to use relational AR, it is recommended that primary-foreign key\nconstraints are declared for tables that need to be joined. The constraints\nwill help to keep the consistency and integrity of the relational data.\n\nFor simplicity, we will use the database schema shown in the\nfollowing entity-relationship (ER) diagram to illustrate examples in this\nsection.\n\n![ER Diagram](er.png)\n\n> Info: Support for foreign key constraints varies in different DBMS.\n> SQLite < 3.6.19 does not support foreign key constraints, but you can still\n> declare the constraints when creating tables.\n\n\nDeclaring Relationship\n----------------------\n\nBefore we use AR to perform relational query, we need to let AR know how\none AR class is related with another.\n\nRelationship between two AR classes is directly associated with the\nrelationship between the database tables represented by the AR classes.\nFrom database point of view, a relationship between two tables A and B has\nthree types: one-to-many (e.g. `tbl_user` and `tbl_post`), one-to-one (e.g.\n`tbl_user` and `tbl_profile`) and many-to-many (e.g. `tbl_category` and `tbl_post`).\nIn AR, there are four types of relationships:\n\n   - `BELONGS_TO`: if the relationship between table A and B is\none-to-many, then B belongs to A (e.g. `Post` belongs to `User`);\n\n   - `HAS_MANY`: if the relationship between table A and B is one-to-many,\nthen A has many B (e.g. `User` has many `Post`);\n\n   - `HAS_ONE`: this is special case of `HAS_MANY` where A has at most one\nB (e.g. `User` has at most one `Profile`);\n\n   - `MANY_MANY`: this corresponds to the many-to-many relationship in\ndatabase. An associative table is needed to break a many-to-many\nrelationship into one-to-many relationships, as most DBMS do not support\nmany-to-many relationship directly. In our example database schema, the\n`tbl_post_category` serves for this purpose. In AR terminology, we can explain\n`MANY_MANY` as the combination of `BELONGS_TO` and `HAS_MANY`. For example,\n`Post` belongs to many `Category` and `Category` has many `Post`.\n\nDeclaring relationship in AR involves overriding the\n[relations()|CActiveRecord::relations] method of [CActiveRecord]. The\nmethod returns an array of relationship configurations. Each array element\nrepresents a single relationship with the following format:\n\n~~~\n[php]\n''VarName''=>array(''RelationType'', ''ClassName'', ''ForeignKey'', ...additional options)\n~~~\n\nwhere `VarName` is the name of the relationship; `RelationType` specifies\nthe type of the relationship, which can be one of the four constants:\n`self::BELONGS_TO`, `self::HAS_ONE`, `self::HAS_MANY` and\n`self::MANY_MANY`; `ClassName` is the name of the AR class related to this\nAR class; and `ForeignKey` specifies the foreign key(s) involved in the\nrelationship. Additional options can be specified at the end for each\nrelationship (to be described later).\n\nThe following code shows how we declare the relationships for the `User`\nand `Post` classes.\n\n~~~\n[php]\nclass Post extends CActiveRecord\n{\n	......\n\n	public function relations()\n	{\n		return array(\n			''author''=>array(self::BELONGS_TO, ''User'', ''author_id''),\n			''categories''=>array(self::MANY_MANY, ''Category'',\n				''tbl_post_category(post_id, category_id)''),\n		);\n	}\n}\n\nclass User extends CActiveRecord\n{\n	......\n\n	public function relations()\n	{\n		return array(\n			''posts''=>array(self::HAS_MANY, ''Post'', ''author_id''),\n			''profile''=>array(self::HAS_ONE, ''Profile'', ''owner_id''),\n		);\n	}\n}\n~~~\n\n> Info: A foreign key may be composite, consisting of two or more columns.\nIn this case, we should concatenate the names of the foreign key columns\nand separate them with space or comma. For `MANY_MANY` relationship type,\nthe associative table name must also be specified in the foreign key. For\nexample, the `categories` relationship in `Post` is specified with the\nforeign key `tbl_post_category(post_id, category_id)`.\n\nThe declaration of relationships in an AR class implicitly adds a property\nto the class for each relationship. After a relational query is performed,\nthe corresponding property will be populated with the related AR\ninstance(s). For example, if `$author` represents a `User` AR instance,\nwe can use `$author->posts` to access its related `Post` instances.\n\nPerforming Relational Query\n---------------------------\n\nThe simplest way of performing relational query is by reading a relational\nproperty of an AR instance. If the property is not accessed previously, a\nrelational query will be initiated, which joins the two related tables and\nfilters with the primary key of the current AR instance. The query result\nwill be saved to the property as instance(s) of the related AR class. This\nis known as the *lazy loading* approach, i.e., the relational query\nis performed only when the related objects are initially accessed. The\nexample below shows how to use this approach:\n\n~~~\n[php]\n// retrieve the post whose ID is 10\n$post=Post::model()->findByPk(10);\n// retrieve the post''s author: a relational query will be performed here\n$author=$post->author;\n~~~\n\n> Info: If there is no related instance for a relationship, the\ncorresponding property could be either null or an empty array. For\n`BELONGS_TO` and `HAS_ONE` relationships, the result is null; for\n`HAS_MANY` and `MANY_MANY`, it is an empty array.\nNote that the `HAS_MANY` and `MANY_MANY` relationships return arrays of objects,\nyou will need to loop through the results before trying to access any properties.\nOtherwise, you may receive "Trying to get property of non-object" errors.\n\nThe lazy loading approach is very convenient to use, but it is not\nefficient in some scenarios. For example, if we want to access the author\ninformation for `N` posts, using the lazy approach would involve executing\n`N` join queries. We should resort to the so-called *eager loading*\napproach under this circumstance.\n\nThe eager loading approach retrieves the related AR instances together\nwith the main AR instance(s). This is accomplished by using the\n[with()|CActiveRecord::with] method together with one of the\n[find|CActiveRecord::find] or [findAll|CActiveRecord::findAll] methods in\nAR. For example,\n\n~~~\n[php]\n$posts=Post::model()->with(''author'')->findAll();\n~~~\n\nThe above code will return an array of `Post` instances. Unlike the lazy\napproach, the `author` property in each `Post` instance is already\npopulated with the related `User` instance before we access the property.\nInstead of executing a join query for each post, the eager loading approach\nbrings back all posts together with their authors in a single join query!\n\nWe can specify multiple relationship names in the\n[with()|CActiveRecord::with] method and the eager loading approach will\nbring them back all in one shot. For example, the following code will bring\nback posts together with their authors and categories:\n\n~~~\n[php]\n$posts=Post::model()->with(''author'',''categories'')->findAll();\n~~~\n\nWe can also do nested eager loading. Instead of a list of relationship\nnames, we pass in a hierarchical representation of relationship names to\nthe [with()|CActiveRecord::with] method, like the following,\n\n~~~\n[php]\n$posts=Post::model()->with(\n	''author.profile'',\n	''author.posts'',\n	''categories'')->findAll();\n~~~\n\nThe above example will bring back all posts together with their author and\ncategories. It will also bring back each author''s profile and posts.\n\nStarting from version 1.1.0, eager loading may also be executed by specifying\nthe [CDbCriteria::with] property, like the following:\n\n~~~\n[php]\n$criteria=new CDbCriteria;\n$criteria->with=array(\n	''author.profile'',\n	''author.posts'',\n	''categories'',\n);\n$posts=Post::model()->findAll($criteria);\n~~~\n\nor\n\n~~~\n[php]\n$posts=Post::model()->findAll(array(\n	''with''=>array(\n		''author.profile'',\n		''author.posts'',\n		''categories'',\n	)\n);\n~~~\n\n\nRelational Query Options\n------------------------\n\nWe mentioned that additional options can be specified in relationship\ndeclaration. These options, specified as name-value pairs, are used to\ncustomize the relational query. They are summarized as below.\n\n   - `select`: a list of columns to be selected for the related AR class.\nIt defaults to ''*'', meaning all columns. Column names referenced in this option\nshould be disambiguated.\n\n   - `condition`: the `WHERE` clause. It defaults to empty. Column names\nreferenced in this option should be disambiguated.\n\n   - `params`: the parameters to be bound to the generated SQL statement.\nThis should be given as an array of name-value pairs. This option has been\navailable since version 1.0.3.\n\n   - `on`: the `ON` clause. The condition specified here will be appended\nto the joining condition using the `AND` operator. Column names referenced\nin this option should be disambiguated.\nThis option does not apply to `MANY_MANY` relations. This option has been\navailable since version 1.0.2.\n\n   - `order`: the `ORDER BY` clause. It defaults to empty. Column names\nreferenced in this option should be disambiguated.\n\n   - `with`: a list of child related objects that should be loaded\ntogether with this object. Be aware that using this option inappropriately\nmay form an infinite relation loop.\n\n   - `joinType`: type of join for this relationship. It defaults to `LEFT\nOUTER JOIN`.\n\n   - `alias`: the alias for the table associated with this relationship.\nThis option has been available since version 1.0.1. It defaults to null,\nmeaning the table alias is the same as the relation name.\n\n   - `together`: whether the table associated with this relationship should\nbe forced to join together with the primary table and other tables.\nThis option is only meaningful for HAS_MANY and MANY_MANY relations.\nIf this option is set false, the table associated with the HAS_MANY or MANY_MANY\nrelation will be joined with the primary table in a separate SQL query, which\nmay improve the overall query performance since less duplicated data is returned.\nThe default value is true. For more details, see the section "Relational Query Performance".\nThis option has been available since version 1.0.3.\n\n   - `group`: the `GROUP BY` clause. It defaults to empty. Column names\nreferenced in this option should be disambiguated.\n\n   - `having`: the `HAVING` clause. It defaults to empty. Column names\nreferenced in this option should be disambiguated.\nNote: option has been available since version 1.0.1.\n\n   - `index`: the name of the column whose values should be used as keys\nof the array that stores related objects. Without setting this option,\nan related object array would use zero-based integer index.\nThis option can only be set for `HAS_MANY` and `MANY_MANY` relations.\nThis option has been available since version 1.0.7.\n\n\nIn addition, the following options are available for certain relationships\nduring lazy loading:\n\n   - `limit`: limit of the rows to be selected. This option does NOT apply\nto `BELONGS_TO` relation.\n\n   - `offset`: offset of the rows to be selected. This option does NOT\napply to `BELONGS_TO` relation.\n\nBelow we modify the `posts` relationship declaration in the `User` by\nincluding some of the above options:\n\n~~~\n[php]\nclass User extends CActiveRecord\n{\n	public function relations()\n	{\n		return array(\n			''posts''=>array(self::HAS_MANY, ''Post'', ''author_id'',\n							''order''=>''posts.create_time DESC'',\n							''with''=>''categories''),\n			''profile''=>array(self::HAS_ONE, ''Profile'', ''owner_id''),\n		);\n	}\n}\n~~~\n\nNow if we access `$author->posts`, we would obtain the author''s posts\nsorted according to their creation time in descending order. Each post\ninstance also has its categories loaded.\n\n\nDisambiguating Column Names\n---------------------------\n\nWhen a column name appears in two or more tables being joined\ntogether, it needs to be disambiguated. This is done by prefixing the\ncolumn name with its table''s alias name.\n\nIn relational AR query, the alias name for the primary table is fixed as `t`,\nwhile the alias name for a relational table\nis the same as the corresponding relation name by default. For example,\nin the following statement, the alias name for `Post` and `Comment` is\n`t` and `comments`, respectively:\n\n~~~\n[php]\n$posts=Post::model()->with(''comments'')->findAll();\n~~~\n\nNow assume both `Post` and `Comment` have a column called `create_time` indicating\nthe creation time of a post or comment, and we would like to fetch posts together\nwith their comments by ordering first the posts'' creation time and then the comments''\ncreation time. We need to disambiguate the `create_time` column like the following:\n\n~~~\n[php]\n$posts=Post::model()->with(''comments'')->findAll(array(\n	''order''=>''t.create_time, comments.create_time''\n));\n~~~\n\n> Note: the behavior of column disambiguation has been changed since version 1.1.0.\n> Previously in version 1.0.x, by default Yii would automatically generate a table\n> alias for each relational table, and we had to use the prefix `??.` to refer to\n> this automatically generated alias. Also, in version 1.0.x, the alias name\n> of the primary table is the table name itself.\n\n\nDynamic Relational Query Options\n--------------------------------\n\nStarting from version 1.0.2, we can use dynamic relational query options\nin both [with()|CActiveRecord::with] and the `with` option. The dynamic\noptions will overwrite existing options as specified in the [relations()|CActiveRecord::relations]\nmethod. For example, with the above `User` model, if we want to use eager\nloading approach to bring back posts belonging to an author in *ascending order*\n(the `order` option in the relation specification is descending order), we\ncan do the following:\n\n~~~\n[php]\nUser::model()->with(array(\n	''posts''=>array(''order''=>''posts.create_time ASC''),\n	''profile'',\n))->findAll();\n~~~\n\nStarting from version 1.0.5, dynamic query options can also be used when using the lazy loading approach to perform relational query. To do so, we should call a method whose name is the same as the relation name and pass the dynamic query options as the method parameter. For example, the following code returns a user''s posts whose `status` is 1:\n\n~~~\n[php]\n$user=User::model()->findByPk(1);\n$posts=$user->posts(array(''condition''=>''status=1''));\n~~~\n\n\nRelational Query Performance\n----------------------------\n\nAs we described above, the eager loading approach is mainly used in the scenario\nwhen we need to access many related objects. It generates a big complex SQL statement\nby joining all needed tables. A big SQL statement is preferrable in many cases\nsince it simplifies filtering based on a column in a related table.\nIt may not be efficient in some cases, however.\n\nConsider an example where we need to find the latest posts together with their comments.\nAssuming each post has 10 comments, using a single big SQL statement, we will bring back\na lot of redundant post data since each post will be repeated for every comment it has.\nNow let''s try another approach: we first query for the latest posts, and then query for their comments.\nIn this new approach, we need to execute two SQL statements. The benefit is that there is\nno redundancy in the query results.\n\nSo which approach is more efficient? There is no absolute answer. Executing a single big SQL statement\nmay be more efficient because it causes less overhead in DBMS for yparsing and executing\nthe SQL statements. On the other hand, using the single SQL statement, we end up with more redundant data\nand thus need more time to read and process them.\n\nFor this reason, Yii provides the `together` query option so that we choose between the two approaches as needed.\nBy default, Yii adopts the first approach, i.e., generating a single SQL statement to perform\neager loading. We can set the `together` option to be false in the relation declarations so that some of\ntables are joined in separate SQL statements. For example, in order to use the second approach\nto query for the latest posts with their comments, we can declare the `comments` relation\nin `Post` class as follows,\n\n~~~\n[php]\npublic function relations()\n{\n	return array(\n		''comments'' => array(self::HAS_MANY, ''Comment'', ''post_id'', ''together''=>false),\n	);\n}\n~~~\n\nWe can also dynamically set this option when we perform the eager loading:\n\n~~~\n[php]\n$posts = Post::model()->with(array(''comments''=>array(''together''=>false)))->findAll();\n~~~\n\n> Note: In version 1.0.x, the default behavior is that Yii will generate and\n> execute `N+1` SQL statements if there are `N` `HAS_MANY` or `MANY_MANY` relations.\n> Each `HAS_MANY` or `MANY_MANY` relation has its own SQL statement. By calling\n> the `together()` method after `with()`, we can enforce only a single SQL statement\n> is generated and executed. For example,\n>\n> ~~~\n> [php]\n> $posts=Post::model()->with(\n> 	''author.profile'',\n> 	''author.posts'',\n> 	''categories'')->together()->findAll();\n> ~~~\n>\n\n\nStatistical Query\n-----------------\n\n> Note: Statistical query has been supported since version 1.0.4.\n\nBesides the relational query described above, Yii also supports the so-called statistical query (or aggregational query). It refers to retrieving the aggregational information about the related objects, such as the number of comments for each post, the average rating for each product, etc. Statistical query can only be performed for objects related in `HAS_MANY` (e.g. a post has many comments) or `MANY_MANY` (e.g. a post belongs to many categories and a category has many posts).\n\nPerforming statistical query is very similar to performing relation query as we described before. We first need to declare the statistical query in the [relations()|CActiveRecord::relations] method of [CActiveRecord] like we do with relational query.\n\n~~~\n[php]\nclass Post extends CActiveRecord\n{\n	public function relations()\n	{\n		return array(\n			''commentCount''=>array(self::STAT, ''Comment'', ''post_id''),\n			''categoryCount''=>array(self::STAT, ''Category'', ''PostCategory(post_id, category_id)''),\n		);\n	}\n}\n~~~\n\nIn the above, we declare two statistical queries: `commentCount` calculates the number of comments belonging to a post, and `categoryCount` calculates the number of categories that a post belongs to. Note that the relationship between `Post` and `Comment` is `HAS_MANY`, while the relationship between `Post` and `Category` is `MANY_MANY` (with the joining table `PostCategory`). As we can see, the declaration is very similar to those relations we described in earlier subsections. The only difference is that the relation type is `STAT` here.\n\n\nWith the above declaration, we can retrieve the number of comments for a post using the expression `$post->commentCount`. When we access this property for the first time, a SQL statement will be executed implicitly to retrieve the corresponding result. As we already know, this is the so-called *lazy loading* approach. We can also use the *eager loading* approach if we need to determine the comment count for multiple posts:\n\n~~~\n[php]\n$posts=Post::model()->with(''commentCount'', ''categoryCount'')->findAll();\n~~~\n\nThe above statement will execute three SQLs to bring back all posts together with their comment counts and category counts. Using the lazy loading approach, we would end up with `2*N+1` SQL queries if there are `N` posts.\n\nBy default, a statistical query will calculate the `COUNT` expression (and thus the comment count and category count in the above example). We can customize it by specifying additional options when we declare it in [relations()|CActiveRecord::relations]. The available options are summarized as below.\n\n   - `select`: the statistical expression. Defaults to `COUNT(*)`, meaning the count of child objects.\n\n   - `defaultValue`: the value to be assigned to those records that do not receive a statistical query result. For example, if a post does not have any comments, its `commentCount` would receive this value. The default value for this option is 0.\n\n   - `condition`: the `WHERE` clause. It defaults to empty.\n\n   - `params`: the parameters to be bound to the generated SQL statement.\nThis should be given as an array of name-value pairs.\n\n   - `order`: the `ORDER BY` clause. It defaults to empty.\n\n   - `group`: the `GROUP BY` clause. It defaults to empty.\n\n   - `having`: the `HAVING` clause. It defaults to empty.\n\n\nRelational Query with Named Scopes\n----------------------------------\n\n> Note: The support for named scopes has been available since version 1.0.5.\n\nRelational query can also be performed in combination with [named scopes](/doc/guide/database.ar#named-scopes). It comes in two forms. In the first form, named scopes are applied to the main model. In the second form, named scopes are applied to the related models.\n\nThe following code shows how to apply named scopes to the main model.\n\n~~~\n[php]\n$posts=Post::model()->published()->recently()->with(''comments'')->findAll();\n~~~\n\nThis is very similar to non-relational queries. The only difference is that we have the `with()` call after the named-scope chain. This query would bring back recently published posts together with their comments.\n\nAnd the following code shows how to apply named scopes to the related models.\n\n~~~\n[php]\n$posts=Post::model()->with(''comments:recently:approved'')->findAll();\n~~~\n\nThe above query will bring back all posts together with their approved comments. Note that `comments` refers to the relation name, while `recently` and `approved` refer to two named scopes declared in the `Comment` model class. The relation name and the named scopes should be separated by colons.\n\nNamed scopes can also be specified in the `with` option of the relational rules declared in [CActiveRecord::relations()]. In the following example, if we access `$user->posts`, it would bring back all *approved* comments of the posts.\n\n~~~\n[php]\nclass User extends CActiveRecord\n{\n	public function relations()\n	{\n		return array(\n			''posts''=>array(self::HAS_MANY, ''Post'', ''author_id'',\n				''with''=>''comments:approved''),\n		);\n	}\n}\n~~~\n\n> Note: Named scopes applied to related models must be specified in [CActiveRecord::scopes]. As a result, they cannot be parameterized.\n\n\n<div class="revision">$Id: database.arr.txt 2063 2010-04-20 21:47:59Z alexander.makarow $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(77, 'database.dao', 'database.dao', '', 'Data Access Objects (DAO)\n=========================\n\nData Access Objects (DAO) provides a generic API to access data stored in\ndifferent database management systems (DBMS). As a result, the underlying\nDBMS can be changed to a different one without requiring change of the code\nwhich uses DAO to access the data.\n\nYii DAO is built on top of [PHP Data Objects\n(PDO)](http://php.net/manual/en/book.pdo.php) which is an extension\nproviding unified data access to many popular DBMS, such as MySQL,\nPostgreSQL. Therefore, to use Yii DAO, the PDO extension and the specific\nPDO database driver (e.g. `PDO_MYSQL`) have to be installed.\n\nYii DAO mainly consists of the following four classes:\n\n   - [CDbConnection]: represents a connection to a database.\n   - [CDbCommand]: represents an SQL statement to execute against a database.\n   - [CDbDataReader]: represents a forward-only stream of rows from a query result set.\n   - [CDbTransaction]: represents a DB transaction.\n\nIn the following, we introduce the usage of Yii DAO in different\nscenarios.\n\nEstablishing Database Connection\n--------------------------------\n\nTo establish a database connection, create a [CDbConnection] instance and\nactivate it. A data source name (DSN) is needed to specify the information\nrequired to connect to the database. A username and password may also be\nneeded to establish the connection. An exception will be raised in case an\nerror occurs during establishing the connection (e.g. bad DSN or invalid\nusername/password).\n\n~~~\n[php]\n$connection=new CDbConnection($dsn,$username,$password);\n// establish connection. You may try...catch possible exceptions\n$connection->active=true;\n......\n$connection->active=false;  // close connection\n~~~\n\nThe format of DSN depends on the PDO database driver in use. In general, a\nDSN consists of the PDO driver name, followed by a colon, followed by the\ndriver-specific connection syntax. See [PDO\ndocumentation](http://www.php.net/manual/en/pdo.construct.php) for complete\ninformation. Below is a list of commonly used DSN formats:\n\n   - SQLite: `sqlite:/path/to/dbfile`\n   - MySQL: `mysql:host=localhost;dbname=testdb`\n   - PostgreSQL: `pgsql:host=localhost;port=5432;dbname=testdb`\n   - SQL Server: `mssql:host=localhost;dbname=testdb`\n   - Oracle: `oci:dbname=//localhost:1521/testdb`\n\nBecause [CDbConnection] extends from [CApplicationComponent], we can also\nuse it as an [application\ncomponent](/doc/guide/basics.application#application-component). To do so, configure\nin a `db` (or other name) application component in the [application\nconfiguration](/doc/guide/basics.application#application-configuration) as follows,\n\n~~~\n[php]\narray(\n	......\n	''components''=>array(\n		......\n		''db''=>array(\n			''class''=>''CDbConnection'',\n			''connectionString''=>''mysql:host=localhost;dbname=testdb'',\n			''username''=>''root'',\n			''password''=>''password'',\n			''emulatePrepare''=>true,  // needed by some MySQL installations\n		),\n	),\n)\n~~~\n\nWe can then access the DB connection via `Yii::app()->db` which is already\nactivated automatically, unless we explictly configure\n[CDbConnection::autoConnect] to be false. Using this approach, the single\nDB connection can be shared in multiple places in our code.\n\nExecuting SQL Statements\n------------------------\n\nOnce a database connection is established, SQL statements can be executed\nusing [CDbCommand]. One creates a [CDbCommand] instance by calling\n[CDbConnection::createCommand()] with the specified SQL statement:\n\n~~~\n[php]\n$command=$connection->createCommand($sql);\n// if needed, the SQL statement may be updated as follows:\n// $command->text=$newSQL;\n~~~\n\nA SQL statement is executed via [CDbCommand] in one of the following two\nways:\n\n   - [execute()|CDbCommand::execute]: performs a non-query SQL statement,\nsuch as `INSERT`, `UPDATE` and `DELETE`. If successful, it returns the\nnumber of rows that are affected by the execution.\n\n   - [query()|CDbCommand::query]: performs an SQL statement that returns\nrows of data, such as `SELECT`. If successful, it returns a [CDbDataReader]\ninstance from which one can traverse the resulting rows of data. For\nconvenience, a set of `queryXXX()` methods are also implemented which\ndirectly return the query results.\n\nAn exception will be raised if an error occurs during the execution of SQL\nstatements.\n\n~~~\n[php]\n$rowCount=$command->execute();   // execute the non-query SQL\n$dataReader=$command->query();   // execute a query SQL\n$rows=$command->queryAll();      // query and return all rows of result\n$row=$command->queryRow();       // query and return the first row of result\n$column=$command->queryColumn(); // query and return the first column of result\n$value=$command->queryScalar();  // query and return the first field in the first row\n~~~\n\nFetching Query Results\n----------------------\n\nAfter [CDbCommand::query()] generates the [CDbDataReader] instance, one\ncan retrieve rows of resulting data by calling [CDbDataReader::read()]\nrepeatedly. One can also use [CDbDataReader] in PHP''s `foreach` language\nconstruct to retrieve row by row.\n\n~~~\n[php]\n$dataReader=$command->query();\n// calling read() repeatedly until it returns false\nwhile(($row=$dataReader->read())!==false) { ... }\n// using foreach to traverse through every row of data\nforeach($dataReader as $row) { ... }\n// retrieving all rows at once in a single array\n$rows=$dataReader->readAll();\n~~~\n\n> Note: Unlike [query()|CDbCommand::query], all `queryXXX()` methods\nreturn data directly. For example, [queryRow()|CDbCommand::queryRow]\nreturns an array representing the first row of the querying result.\n\nUsing Transactions\n------------------\n\nWhen an application executes a few queries, each reading and/or writing\ninformation in the database, it is important to be sure that the database\nis not left with only some of the queries carried out. A transaction,\nrepresented as a [CDbTransaction] instance in Yii, may be initiated in this\ncase:\n\n   - Begin the transaction.\n   - Execute queries one by one. Any updates to the database are not visible to the outside world.\n   - Commit the transaction. Updates become visible if the transaction is successful.\n   - If one of the queries fails, the entire transaction is rolled back.\n\nThe above workflow can be implemented using the following code:\n\n~~~\n[php]\n$transaction=$connection->beginTransaction();\ntry\n{\n	$connection->createCommand($sql1)->execute();\n	$connection->createCommand($sql2)->execute();\n	//.... other SQL executions\n	$transaction->commit();\n}\ncatch(Exception $e) // an exception is raised if a query fails\n{\n	$transaction->rollBack();\n}\n~~~\n\nBinding Parameters\n------------------\n\nTo avoid [SQL injection\nattacks](http://en.wikipedia.org/wiki/SQL_injection) and to improve\nperformance of executing repeatedly used SQL statements, one can "prepare"\nan SQL statement with optional parameter placeholders that are to be\nreplaced with the actual parameters during the parameter binding process.\n\nThe parameter placeholders can be either named (represented as unique\ntokens) or unnamed (represented as question marks). Call\n[CDbCommand::bindParam()] or [CDbCommand::bindValue()] to replace these\nplaceholders with the actual parameters. The parameters do not need to be\nquoted: the underlying database driver does it for you. Parameter binding\nmust be done before the SQL statement is executed.\n\n~~~\n[php]\n// an SQL with two placeholders ":username" and ":email"\n$sql="INSERT INTO tbl_user (username, email) VALUES(:username,:email)";\n$command=$connection->createCommand($sql);\n// replace the placeholder ":username" with the actual username value\n$command->bindParam(":username",$username,PDO::PARAM_STR);\n// replace the placeholder ":email" with the actual email value\n$command->bindParam(":email",$email,PDO::PARAM_STR);\n$command->execute();\n// insert another row with a new set of parameters\n$command->bindParam(":username",$username2,PDO::PARAM_STR);\n$command->bindParam(":email",$email2,PDO::PARAM_STR);\n$command->execute();\n~~~\n\nThe methods [bindParam()|CDbCommand::bindParam] and\n[bindValue()|CDbCommand::bindValue] are very similar. The only difference\nis that the former binds a parameter with a PHP variable reference while\nthe latter with a value. For parameters that represent large blocks of data\nmemory, the former is preferred for performance consideration.\n\nFor more details about binding parameters, see the [relevant PHP\ndocumentation](http://www.php.net/manual/en/pdostatement.bindparam.php).\n\nBinding Columns\n---------------\n\nWhen fetching query results, one can also bind columns with PHP variables\nso that they are automatically populated with the latest data each time a\nrow is fetched.\n\n~~~\n[php]\n$sql="SELECT username, email FROM tbl_user";\n$dataReader=$connection->createCommand($sql)->query();\n// bind the 1st column (username) with the $username variable\n$dataReader->bindColumn(1,$username);\n// bind the 2nd column (email) with the $email variable\n$dataReader->bindColumn(2,$email);\nwhile($dataReader->read()!==false)\n{\n    // $username and $email contain the username and email in the current row\n}\n~~~\n\nUsing Table Prefix\n------------------\n\nStarting from version 1.1.0, Yii provides integrated support for using\ntable prefix. Table prefix means a string that is prepended to the names of\nthe tables in the currently connected database. It is mostly used in a shared\nhosting environment where multiple applications share a single database and use\ndifferent table prefixes to differentiate from each other. For example, one\napplication could use `tbl_` as prefix while the other `yii_`.\n\nTo use table prefix, configure the [CDbConnection::tablePrefix] property to be\nthe desired table prefix. Then, in SQL statements use `{{TableName}}` to refer\nto table names, where `TableName` means the table name without prefix. For example,\nif the database contains a table named `tbl_user` where `tbl_` is configured as the\ntable prefix, then we can use the following code to query about users:\n\n~~~\n[php]\n$sql=''SELECT * FROM {{user}}'';\n$users=$connection->createCommand($sql)->queryAll();\n~~~\n\n<div class="revision">$Id: database.dao.txt 1764 2010-02-01 00:09:12Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(78, 'database.overview', 'database.overview', '', 'Working with Database\n=====================\n\nYii provides powerful support for database programming. Built on top of\nthe PHP Data Objects (PDO) extension, Yii Data Access Objects (DAO) enables\naccessing to different database management systems (DBMS) in a single\nuniform interface. Applications developed using Yii DAO can be easily\nswitched to use a different DBMS without the need to modify the data\naccessing code. Yii Active Record (AR), implemented as a widely adopted\nObject-Relational Mapping (ORM) approach, further simplifies database\nprogramming. Representing a table in terms of a class and a row an\ninstance, Yii AR eliminates the repetitive task of writing those SQL\nstatements that mainly deal with CRUD (create, read, update and delete)\noperations.\n\nAlthough Yii DAO and AR can handle nearly all database-related tasks, you\ncan still use your own database libraries in your Yii application. As a\nmatter of fact, Yii framework is carefully designed to be used together\nwith other third-party libraries.\n\n<div class="revision">$Id: database.overview.txt 163 2008-11-05 12:51:48Z weizhuo $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(79, 'extension.create', 'extension.create', '', 'Creating Extensions\n===================\n\nBecause an extension is meant to be used by third-party developers, it takes\nsome additional efforts to create it. The followings are some general guidelines:\n\n* An extension should be self-contained. That is, its external dependency should\n  be minimal. It would be a headache for its users if an extension requires\n  installation of additional packages, classes or resource files.\n* Files belonging to an extension should be organized under the same\n  directory whose name is the extension name\n* Classes in an extension should be prefixed with some letter(s) to avoid\n  naming conflict with classes in other extensions.\n* An extension should come with detailed installation and API documentation.\n  This would reduce the time and effort needed by other developers when they\n  use the extension.\n* An extension should be using an appropriate license. If you want to make\n  your extension to be used by both open-source and closed-source projects,\n  you may consider using licenses such as BSD, MIT, etc., but not GPL as it\n  requires its derived code to be open-source as well.\n\nIn the following, we describe how to create a new extension, according to\nits categorization as described in [overview](/doc/guide/extension.overview).\nThese descriptions also apply when you are creating a component mainly used\nin your own projects.\n\nApplication Component\n---------------------\n\nAn [application component](/doc/guide/basics.application#application-component)\nshould implement the interface [IApplicationComponent] or extend\nfrom [CApplicationComponent]. The main method needed to be implemented is\n[IApplicationComponent::init] in which the component performs some initialization\nwork. This method is invoked after the component is created and the initial property\nvalues (specified in [application configuration](/doc/guide/basics.application#application-configuration))\nare applied.\n\nBy default, an application component is created and initialized only when it\nis accessed for the first time during request handling. If an application component\nneeds to be created right after the application instance is created, it should\nrequire the user to list its ID in the [CApplication::preload] property.\n\n\nBehavior\n--------\n\nTo create a behavior, one must implement the [IBehavior] interface. For convenience,\nYii provides a base class [CBehavior] that already implements this interface and\nprovides some additional convenient methods. Child classes mainly need to implement\nthe extra methods that they intend to make available to the components being attached to.\n\nWhen developing behaviors for [CModel] and [CActiveRecord], one can also extend\n[CModelBehavior] and [CActiveRecordBehavior], respectively. These base classes offer\nadditional features that are specifically made for [CModel] and [CActiveRecord].\nFor example, the [CActiveRecordBehavior] class implements a set of methods to respond\nto the life cycle events raised in an ActiveRecord object. A child class can thus\noverride these methods to put in customized code which will participate in the AR life cycles.\n\nThe following code shows an example of an ActiveRecord behavior. When this behavior is\nattached to an AR object and when the AR object is being saved by calling `save()`, it will\nautomatically sets the `create_time` and `update_time` attributes with the current timestamp.\n\n~~~\n[php]\nclass TimestampBehavior extends CActiveRecordBehavior\n{\n	public function beforeSave($event)\n	{\n		if($this->owner->isNewRecord)\n			$this->owner->create_time=time();\n		else\n			$this->owner->update_time=time();\n	}\n}\n~~~\n\n\nWidget\n------\n\nA [widget](/doc/guide/basics.view#widget) should extend from [CWidget] or its\nchild classes.\n\nThe easiest way of creating a new widget is extending an existing widget and\noverriding its methods or changing its default property values. For example, if\nyou want to use a nicer CSS style for [CTabView], you could configure its\n[CTabView::cssFile] property when using the widget. You can also extend [CTabView]\nas follows so that you no longer need to configure the property when using the widget.\n\n~~~\n[php]\nclass MyTabView extends CTabView\n{\n	public function init()\n	{\n		if($this->cssFile===null)\n		{\n			$file=dirname(__FILE__).DIRECTORY_SEPARATOR.''tabview.css'';\n			$this->cssFile=Yii::app()->getAssetManager()->publish($file);\n		}\n		parent::init();\n	}\n}\n~~~\n\nIn the above, we override the [CWidget::init] method and assign to\n[CTabView::cssFile] the URL to our new default CSS style if the property\nis not set. We put the new CSS style file under the same directory\ncontaining the `MyTabView` class file so that they can be packaged as\nan extension. Because the CSS style file is not Web accessible, we need\nto publish as an asset.\n\nTo create a new widget from scratch, we mainly need to implement two methods:\n[CWidget::init] and [CWidget::run]. The first method is called when we\nuse `$this->beginWidget` to insert a widget in a view, and the\nsecond method is called when we call `$this->endWidget`.\nIf we want to capture and process the content displayed between these two\nmethod invocations, we can start [output buffering](http://us3.php.net/manual/en/book.outcontrol.php)\nin [CWidget::init] and retrieve the buffered output in [CWidget::run]\nfor further processing.\n\nA widget often involves including CSS, JavaScript or other resource files\nin the page that uses the widget. We call these files *assets* because\nthey stay together with the widget class file and are usually not accessible by\nWeb users. In order to make these files Web accessible, we need to publish\nthem using [CWebApplication::assetManager], as shown in the above code snippet.\nBesides, if we want to include a CSS or JavaScript file in the current page,\nwe need to register it using [CClientScript]:\n\n~~~\n[php]\nclass MyWidget extends CWidget\n{\n	protected function registerClientScript()\n	{\n		// ...publish CSS or JavaScript file here...\n		$cs=Yii::app()->clientScript;\n		$cs->registerCssFile($cssFile);\n		$cs->registerScriptFile($jsFile);\n	}\n}\n~~~\n\nA widget may also have its own view files. If so, create a directory named\n`views` under the directory containing the widget class file, and put all the\nview files there. In the widget class, in order to render a widget view, use\n`$this->render(''ViewName'')`, which is similar to what we do in a controller.\n\nAction\n------\n\nAn [action](/doc/guide/basics.controller#action) should extend from [CAction]\nor its child classes. The main method that needs to be implemented for an action\nis [IAction::run].\n\nFilter\n------\nA [filter](/doc/guide/basics.controller#filter) should extend from [CFilter]\nor its child classes. The main methods that need to be implemented for a filter\nare [CFilter::preFilter] and [CFilter::postFilter]. The former is invoked before\nthe action is executed while the latter after.\n\n~~~\n[php]\nclass MyFilter extends CFilter\n{\n	protected function preFilter($filterChain)\n	{\n		// logic being applied before the action is executed\n		return true; // false if the action should not be executed\n	}\n\n	protected function postFilter($filterChain)\n	{\n		// logic being applied after the action is executed\n	}\n}\n~~~\n\nThe parameter `$filterChain` is of type [CFilterChain] which contains information\nabout the action that is currently filtered.\n\n\nController\n----------\nA [controller](/doc/guide/basics.controller) distributed as an extension\nshould extend from [CExtController], instead of [CController]. The main reason\nis because [CController] assumes the controller view files are located under\n`application.views.ControllerID`, while [CExtController] assumes the view\nfiles are located under the `views` directory which is a subdirectory of\nthe directory containing the controller class file. Therefore, it is easier\nto redistribute the controller since its view files are staying together\nwith the controller class file.\n\n\nValidator\n---------\nA validator should extend from [CValidator] and implement its\n[CValidator::validateAttribute] method.\n\n~~~\n[php]\nclass MyValidator extends CValidator\n{\n	protected function validateAttribute($model,$attribute)\n	{\n		$value=$model->$attribute;\n		if($value has error)\n			$model->addError($attribute,$errorMessage);\n	}\n}\n~~~\n\nConsole Command\n---------------\nA [console command](/doc/guide/topics.console) should extend from\n[CConsoleCommand] and implement its [CConsoleCommand::run] method.\nOptionally, we can override [CConsoleCommand::getHelp] to provide\nsome nice help information about the command.\n\n~~~\n[php]\nclass MyCommand extends CConsoleCommand\n{\n	public function run($args)\n	{\n		// $args gives an array of the command-line arguments for this command\n	}\n\n	public function getHelp()\n	{\n		return ''Usage: how to use this command'';\n	}\n}\n~~~\n\nModule\n------\nPlease refer to the section about [modules](/doc/guide/basics.module#creating-module) on how to create a module.\n\nA general guideline for developing a module is that it should be self-contained. Resource files (such as CSS, JavaScript, images) that are used by a module should be distributed together with the module. And the module should publish them so that they can be Web-accessible.\n\n\nGeneric Component\n-----------------\nDeveloping a generic component extension is like writing a class. Again, the component\nshould also be self-contained so that it can be easily used by other developers.\n\n\n<div class="revision">$Id: extension.create.txt 1423 2009-09-28 01:54:38Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(80, 'extension.integration', 'extension.integration', '', 'Using 3rd-Party Libraries\n=========================\n\nYii is carefully designed so that third-party libraries can be\neasily integrated to further extend Yii''s functionalities.\nWhen using third-party libraries in a project, developers often\nencounter issues about class naming and file inclusion.\nBecause all Yii classes are prefixed with letter `C`, it is less\nlikely class naming issue would occur; and because Yii relies on\n[SPL autoload](http://us3.php.net/manual/en/function.spl-autoload.php)\nto perform class file inclusion, it can play nicely with other libraries\nif they use the same autoloading feature or PHP include path to include\nclass files.\n\n\nBelow we use an example to illustrate how to use the\n[Zend_Search_Lucene](http://www.zendframework.com/manual/en/zend.search.lucene.html)\ncomponent from the [Zend framework](http://www.zendframework.com) in a Yii application.\n\nFirst, we extract the Zend framework release file to a directory\nunder `protected/vendors`, assuming `protected` is the\n[application base directory](/doc/guide/basics.application#application-base-directory).\nVerify that the file `protected/vendors/Zend/Search/Lucene.php` exists.\n\nSecond, at the beginning of a controller class file, insert the following lines:\n\n~~~\n[php]\nYii::import(''application.vendors.*'');\nrequire_once(''Zend/Search/Lucene.php'');\n~~~\n\nThe above code includes the class file `Lucene.php`. Because we are using\na relative path, we need to change the PHP include path so that the file\ncan be located correctly. This is done by calling `Yii::import` before `require_once`.\n\nOnce the above set up is ready, we can use the `Lucene` class in a controller action,\nlike the following:\n\n~~~\n[php]\n$lucene=new Zend_Search_Lucene($pathOfIndex);\n$hits=$lucene->find(strtolower($keyword));\n~~~\n\n\n<div class="revision">$Id: extension.integration.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(81, 'extension.overview', 'extension.overview', '', 'Overview\n========\n\nExtending Yii is a common activity during development. For example, when\nyou write a new controller, you extend Yii by inheriting its  [CController]\nclass; when you write a new widget, you are extending [CWidget] or an existing\nwidget class. If the extended code is designed to be reused by third-party\ndevelopers, we call it an *extension*.\n\nAn extension usually serves for a single purpose. In Yii''s terms, it can be\nclassified as follows,\n\n * [application component](/doc/guide/basics.application#application-component)\n * [behavior](/doc/guide/basics.component#component-behavior)\n * [widget](/doc/guide/basics.view#widget)\n * [controller](/doc/guide/basics.controller)\n * [action](/doc/guide/basics.controller#action)\n * [filter](/doc/guide/basics.controller#filter)\n * [console command](/doc/guide/topics.console)\n * validator: a validator is a component class extending [CValidator].\n * helper: a helper is a class with only static methods. It is like global\n   functions using the class name as their namespace.\n * [module](/doc/guide/basics.module): a module is a self-contained software unit that consists of [models](/doc/guide/basics.model), [views](/doc/guide/basics.view), [controllers](/doc/guide/basics.controller) and other supporting components. In many aspects, a module resembles to an [application](/doc/guide/basics.application). The main difference is that a module is inside an application. For example, we could have a module that provides user management functionalities.\n\nAn extension can also be a component that does not fall into any of the above\ncategories. As a matter of fact, Yii is carefully designed such that nearly\nevery piece of its code can be extended and customized to fit for individual\nneeds.\n\n<div class="revision">$Id: extension.overview.txt 1398 2009-09-06 01:15:01Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(82, 'extension.use', 'extension.use', '', 'Using Extensions\n================\n\nUsing an extension usually involves the following three steps:\n\n  1. Download the extension from Yii''s\n     [extension repository](http://www.yiiframework.com/extensions/).\n  2. Unpack the extension under the `extensions/xyz` subdirectory of\n     [application base directory](/doc/guide/basics.application#application-base-directory),\n     where `xyz` is the name of the extension.\n  3. Import, configure and use the extension.\n\nEach extension has a name that uniquely identifies it among all extensions.\nGiven an extension named as `xyz`, we can always use the path alias\n`ext.xyz` to locate its base directory which contains all files of `xyz`.\n\n> Note: The root path alias `ext` has been available since version 1.0.8.\nPreviously, we would need to use `application.extensions` to refer to the\ndirectory containing all extensions. In the following description, we\nassume `ext` is defined. You will need to replace it with `application.extensions`\nif you are using version 1.0.7 or lower.\n\nDifferent extensions have different requirements about importing,\nconfiguration and usage. In the following, we summarize common usage scenarios\nabout extensions, according to their categorization described in the\n[overview](/doc/guide/extension.overview).\n\n\nZii Extensions\n--------------\n\nBefore we start describing the usage of third-party extensions, we would like to introduce\nthe Zii extension library, which is a set of extensions developed by the Yii developer team\nand included in every release since Yii version 1.1.0. The Zii library is hosted as a\nGoogle project called [zii](http://code.google.com/p/zii/).\n\nWhen using a Zii extension, one must refer to the corresponding class using a path alias\nin the form of `zii.path.to.ClassName`. Here the root alias `zii` is predefined by Yii. It refers\nto the root directory of the Zii library. For example, to use [CGridView], we would use the\nfollowing code in a view script when referring to the extension:\n\n~~~\n[php]\n$this->widget(''zii.widgets.grid.CGridView'', array(\n	''dataProvider''=>$dataProvider,\n));\n~~~\n\n\nApplication Component\n---------------------\n\nTo use an [application component](/doc/guide/basics.application#application-component),\nwe first need to change the [application configuration](/doc/guide/basics.application#application-configuration)\nby adding a new entry to its `components` property, like the following:\n\n~~~\n[php]\nreturn array(\n    // ''preload''=>array(''xyz'',...),\n    ''components''=>array(\n        ''xyz''=>array(\n            ''class''=>''ext.xyz.XyzClass'',\n            ''property1''=>''value1'',\n            ''property2''=>''value2'',\n        ),\n        // other component configurations\n    ),\n);\n~~~\n\nThen, we can access the component at any place using `Yii::app()->xyz`. The component\nwill be lazily created (that is, created when it is accessed for the first time)\nunless we list it the `preload` property.\n\n\nBehavior\n--------\n\n[Behavior](/doc/guide/basics.component#component-behavior) can be used in all sorts of components.\nIts usage involves two steps. In the first step, a behavior is attached to a target component.\nIn the second step, a behavior method is called via the target component. For example:\n\n~~~\n[php]\n// $name uniquely identifies the behavior in the component\n$component->attachBehavior($name,$behavior);\n// test() is a method of $behavior\n$component->test();\n~~~\n\nMore often, a behavior is attached to a component using a configurative way instead of\ncalling the `attachBehavior` method. For example, to attach a behavior to an\n[application component](/doc/guide/basics.application#application-component), we could\nuse the following\n[application configuration](/doc/guide/basics.application#application-configuration):\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		''db''=>array(\n			''class''=>''CDbConnection'',\n			''behaviors''=>array(\n				''xyz''=>array(\n					''class''=>''ext.xyz.XyzBehavior'',\n					''property1''=>''value1'',\n					''property2''=>''value2'',\n				),\n			),\n		),\n		//....\n	),\n);\n~~~\n\nThe above code attaches the `xyz` behavior to the `db` application component. We can do so\nbecause [CApplicationComponent] defines a property named `behaviors`. By setting this property\nwith a list of behavior configurations, the component will attach the corresponding behaviors\nwhen it is being initialized.\n\nFor [CController], [CFormModel] and [CActiveRecord] classes which usually need to be extended,\nattaching behaviors can be done by overriding their `behaviors()` method. The classes will\nautomatically attach any behaviors declared in this method during initialization. For example,\n\n~~~\n[php]\npublic function behaviors()\n{\n	return array(\n		''xyz''=>array(\n			''class''=>''ext.xyz.XyzBehavior'',\n			''property1''=>''value1'',\n			''property2''=>''value2'',\n		),\n	);\n}\n~~~\n\n\nWidget\n------\n\n[Widgets](/doc/guide/basics.view#widget) are mainly used in [views](/doc/guide/basics.view).\nGiven a widget class `XyzClass` belonging to the `xyz` extension, we can use it in\na view as follows,\n\n~~~\n[php]\n// widget that does not need body content\n<?php $this->widget(''ext.xyz.XyzClass'', array(\n    ''property1''=>''value1'',\n    ''property2''=>''value2'')); ?>\n\n// widget that can contain body content\n<?php $this->beginWidget(''ext.xyz.XyzClass'', array(\n    ''property1''=>''value1'',\n    ''property2''=>''value2'')); ?>\n\n...body content of the widget...\n\n<?php $this->endWidget(); ?>\n~~~\n\nAction\n------\n\n[Actions](/doc/guide/basics.controller#action) are used by a [controller](/doc/guide/basics.controller)\nto respond specific user requests. Given an action class `XyzClass` belonging to\nthe `xyz` extension, we can use it by overriding the [CController::actions] method\nin our controller class:\n\n~~~\n[php]\nclass TestController extends CController\n{\n	public function actions()\n	{\n		return array(\n			''xyz''=>array(\n				''class''=>''ext.xyz.XyzClass'',\n				''property1''=>''value1'',\n				''property2''=>''value2'',\n			),\n			// other actions\n		);\n	}\n}\n~~~\n\nThen, the action can be accessed via [route](/doc/guide/basics.controller#route)\n`test/xyz`.\n\nFilter\n------\n[Filters](/doc/guide/basics.controller#filter) are also used by a [controller](/doc/guide/basics.controller).\nTheir mainly pre- and post-process the user request when it is handled by an\n[action](/doc/guide/basics.controller#action).\nGiven a filter class `XyzClass` belonging to\nthe `xyz` extension, we can use it by overriding the [CController::filters] method\nin our controller class:\n\n~~~\n[php]\nclass TestController extends CController\n{\n	public function filters()\n	{\n		return array(\n			array(\n				''ext.xyz.XyzClass'',\n				''property1''=>''value1'',\n				''property2''=>''value2'',\n			),\n			// other filters\n		);\n	}\n}\n~~~\n\nIn the above, we can use plus and minus operators in the first array element\nto apply the filter to limited actions only. For more details, please refer\nto the documentation of [CController].\n\nController\n----------\nA [controller](/doc/guide/basics.controller) provides a set of actions that can\nbe requested by users. In order to use a controller extension, we need to\nconfigure the [CWebApplication::controllerMap] property in the\n[application configuration](/doc/guide/basics.application#application-configuration):\n\n~~~\n[php]\nreturn array(\n	''controllerMap''=>array(\n		''xyz''=>array(\n			''class''=>''ext.xyz.XyzClass'',\n			''property1''=>''value1'',\n			''property2''=>''value2'',\n		),\n		// other controllers\n	),\n);\n~~~\n\nThen, an action `a` in the controller can be accessed via\n[route](/doc/guide/basics.controller#route) `xyz/a`.\n\nValidator\n---------\nA validator is mainly used in a [model](/doc/guide/basics.model) class\n(one that extends from either [CFormModel] or [CActiveRecord]).\nGiven a validator class `XyzClass` belonging to\nthe `xyz` extension, we can use it by overriding the [CModel::rules] method\nin our model class:\n\n~~~\n[php]\nclass MyModel extends CActiveRecord // or CFormModel\n{\n	public function rules()\n	{\n		return array(\n			array(\n				''attr1, attr2'',\n				''ext.xyz.XyzClass'',\n				''property1''=>''value1'',\n				''property2''=>''value2'',\n			),\n			// other validation rules\n		);\n	}\n}\n~~~\n\nConsole Command\n---------------\nA [console command](/doc/guide/topics.console) extension usually enhances\nthe `yiic` tool with an additional command. Given a console command\n`XyzClass` belonging to the `xyz` extension, we can use it by configuring\nthe configuration for the console application:\n\n~~~\n[php]\nreturn array(\n	''commandMap''=>array(\n		''xyz''=>array(\n			''class''=>''ext.xyz.XyzClass'',\n			''property1''=>''value1'',\n			''property2''=>''value2'',\n		),\n		// other commands\n	),\n);\n~~~\n\nThen, we can use the `yiic` tool is equipped with an additional\ncommand `xyz`.\n\n> Note: A console application usually uses a configuration file\nthat is different from the one used by a Web application. If an application\nis created using `yiic webapp` command, then the configuration file\nfor the console application `protected/yiic` is `protected/config/console.php`,\nwhile the configuration file for the Web application is `protected/config/main.php`.\n\n\nModule\n------\nPlease refer to the section about [modules](/doc/guide/basics.module#using-module) on how to use a module.\n\n\nGeneric Component\n-----------------\nTo use a generic [component](/doc/guide/basics.component), we first\nneed to include its class file by using\n\n~~~\nYii::import(''ext.xyz.XyzClass'');\n~~~\n\nThen, we can either create an instance of the class, configure its properties,\nand call its methods. We may also extend it to create new child classes.\n\n\n<div class="revision">$Id: extension.use.txt 1780 2010-02-01 20:32:50Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(83, 'form.action', 'form.action', '', 'Creating Action\n===============\n\nOnce we have a model, we can start to write logic that is needed to\nmanipulate the model. We place this logic inside a controller action. For\nthe login form example, the following code is needed:\n\n~~~\n[php]\npublic function actionLogin()\n{\n	$model=new LoginForm;\n	if(isset($_POST[''LoginForm'']))\n	{\n		// collects user input data\n		$model->attributes=$_POST[''LoginForm''];\n		// validates user input and redirect to previous page if validated\n		if($model->validate())\n			$this->redirect(Yii::app()->user->returnUrl);\n	}\n	// displays the login form\n	$this->render(''login'',array(''model''=>$model));\n}\n~~~\n\nIn the above, we first create a `LoginForm` model instance; if the request is a\nPOST request (meaning the login form is submitted), we populate `$model`\nwith the submitted data `$_POST[''LoginForm'']`; we then validate the input\nand if successful, redirect the user browser to the page that previously\nneeded authentication. If the validation fails, or if the action is\ninitially accessed, we render the `login` view whose content is to be\ndescribed in the next subsection.\n\n> Tip: In the `login` action, we use `Yii::app()->user->returnUrl` to get the\nURL of the page that previously needed authentication. The component\n`Yii::app()->user` is of type [CWebUser] (or its child class) which\nrepresents user session information (e.g. username, status). For more details,\nsee [Authentication and Authorization](/doc/guide/topics.auth).\n\nLet''s pay special attention to the following PHP statement that appears in\nthe `login` action:\n\n~~~\n[php]\n$model->attributes=$_POST[''LoginForm''];\n~~~\n\nAs we described in [Securing Attribute Assignments](/doc/guide/form.model#securing-attribute-assignments),\nthis line of code populates the model with the user submitted data.\nThe `attributes` property is defined by [CModel] which\nexpects an array of name-value pairs and assigns each value to the\ncorresponding model attribute. So if `$_POST[''LoginForm'']` gives us\nsuch an array, the above code would be equivalent to the following lengthy\none (assuming every needed attribute is present in the array):\n\n~~~\n[php]\n$model->username=$_POST[''LoginForm''][''username''];\n$model->password=$_POST[''LoginForm''][''password''];\n$model->rememberMe=$_POST[''LoginForm''][''rememberMe''];\n~~~\n\n> Note: In order to let `$_POST[''LoginForm'']` to give us an array instead of a\nstring, we stick to a convention when naming input fields in the view. In\nparticular, for an input field corresponding to attribute `a` of model\nclass `C`, we name it as `C[a]`. For example, we would use\n`LoginForm[username]` to name the input field corresponding to the\n`username` attribute.\n\nThe remaining task now is to create the `login` view which should contain\nan HTML form with the needed input fields.\n\n<div class="revision">$Id: form.action.txt 1837 2010-02-24 22:49:51Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(84, 'form.builder', 'form.builder', '', 'Using Form Builder\n==================\n\nWhen creating HTML forms, we often find that we are writing a lot of repetitive view code\nwhich are difficult to be reused in a different project. For example, for every\ninput field, we need to associate it with a text label and display possible validation errors.\nTo improve the reusability of these code, we can use the form builder feature which has\nbeen available since Yii version 1.1.0.\n\n\nBasic Concepts\n--------------\n\nThe Yii form builder uses a [CForm] object to represent the specifications needed to describe\nan HTML form, including which data models are associated with the form,\nwhat kind of input fields there are in the form, and how to render the whole form. Developers mainly\nneed to create and configure this [CForm] object, and then call its rendering method to display\nthe form.\n\nForm input specifications are organized in terms of a form element hierarchy.\nAt the root of the hierarchy, it is the [CForm] object. The root form object maintains\nits children in two collections: [CForm::buttons] and [CForm::elements]. The former\ncontains the button elements (such as submit buttons, reset buttons), while the latter\ncontains the input elements, static text and sub-forms. A sub-form is a [CForm] object contained\nin the [CForm::elements] collection of another form. It can have its own data model,\n[CForm::buttons] and [CForm::elements] collections.\n\nWhen users submit a form, the data entered into the input fields of the whole form hierarchy are submitted,\nincluding those input fields that belong to the sub-forms. [CForm] provides convenient methods\nthat can automatically assign the input data to the corresponding model attributes and perform\ndata validation.\n\n\nCreating a Simple Form\n----------------------\n\nIn the following, we show how to use the form builder to create a login form.\n\nFirst, we write the login action code:\n\n~~~\n[php]\npublic function actionLogin()\n{\n	$model = new LoginForm;\n	$form = new CForm(''application.views.site.loginForm'', $model);\n	if($form->submitted(''login'') && $form->validate())\n		$this->redirect(array(''site/index''));\n	else\n		$this->render(''login'', array(''form''=>$form));\n}\n~~~\n\nIn the above code, we create a [CForm] object using the specifications pointed to\nby the path alias `application.views.site.loginForm` (to be explained shortly).\nThe [CForm] object is associated with the `LoginForm` model as described in\n[Creating Model](/doc/guide/form.model).\n\nAs the code reads, if the form is submitted and all inputs are validated without\nany error, we would redirect the user browser to the `site/index` page. Otherwise,\nwe render the `login` view with the form.\n\nThe path alias `application.views.site.loginForm` actually refers to the PHP file\n`protected/views/site/loginForm.php`. The file should return a PHP array representing\nthe configuration needed by [CForm], as shown in the following:\n\n~~~\n[php]\nreturn array(\n	''title''=>''Please provide your login credential'',\n\n    ''elements''=>array(\n        ''username''=>array(\n            ''type''=>''text'',\n            ''maxlength''=>32,\n        ),\n        ''password''=>array(\n            ''type''=>''password'',\n            ''maxlength''=>32,\n        ),\n        ''rememberMe''=>array(\n            ''type''=>''checkbox'',\n        )\n    ),\n\n    ''buttons''=>array(\n        ''login''=>array(\n            ''type''=>''submit'',\n            ''label''=>''Login'',\n        ),\n    ),\n);\n~~~\n\nThe configuration is an associative array consisting of name-value pairs that are\nused to initialize the corresponding properties of [CForm]. The most important properties\nto configure, as we aformentioned, are [CForm::elements] and [CForm::buttons]. Each\nof them takes an array specifying a list of form elements. We will give more details on\nhow to configure form elements in the next sub-section.\n\nFinally, we write the `login` view script, which can be as simple as follows,\n\n~~~\n[php]\n<h1>Login</h1>\n\n<div class="form">\n<?php echo $form; ?>\n</div>\n~~~\n\n> Tip: The above code `echo $form;` is equivalent to `echo $form->render();`.\n> This is because [CForm] implements `__toString` magic method which calls\n> `render()` and returns its result as the string representation of the form object.\n\n\nSpecifying Form Elements\n------------------------\n\nUsing the form builder, the majority of our effort is shifted from writing view script code\nto specifying the form elements. In this sub-section, we describe how to specify the [CForm::elements]\nproperty. We are not going to describe [CForm::buttons] because its configuration is nearly\nthe same as [CForm::elements].\n\nThe [CForm::elements] property accepts an array as its value. Each array element specifies a single\nform element which can be an input element, a static text string or a sub-form.\n\n### Specifying Input Element\n\nAn input element mainly consists of a label, an input field, a hint text and an error display.\nIt must be associated with a model attribute. The specification for an input element is represented\nas a [CFormInputElement] instance. The following code in the [CForm::elements] array\nspecifies a single input element:\n\n~~~\n[php]\n''username''=>array(\n    ''type''=>''text'',\n    ''maxlength''=>32,\n),\n~~~\n\nIt states that the model attribute is named as `username`, and the input field type is `text` whose\n`maxlength` attribute is 32. We can specify other options in the above array as long as they are writable\nproperties of [CFormInputElement]. For example, we may specify the [hint|CFormInputElement::hint] option\nin order to display a hint text, or we may specify the [items|CFormInputElement::items] option if\nthe input field is a list box, a drop-down list, a check-box list or a radio-button list.\n\nThe [type|CFormInputElement::type] option deserves additional attention. It specifies the type of the input\nfield to be rendered. For example, the `text` type means a normal text input field should be rendered;\nthe `password` type means a password input field should be rendered. [CFormInputElement] recognizes the following\nbuilt-in types:\n\n - text\n - hidden\n - password\n - textarea\n - file\n - radio\n - checkbox\n - listbox\n - dropdownlist\n - checkboxlist\n - radiolist\n\nBesides these built-in types, the [type|CFormInputElement::type] option can also take a widget class name\nor the path alias to it. The widget class must extend from [CInputWidget]. When rendering the input element,\nan instance of the specified widget class will be created and rendered. The widget will be configured using\nthe specification as given for the input element.\n\n\n### Specifying Static Text\n\nIn many cases, a form may contain some decorational HTML code besides the input fields. For example, a horizontal\nline may be needed to separate different portions of the form; an image may be needed at certain places to\nenhance the visual appearance of the form. We may specify these HTML code as static text in the [CForm::elements]\ncollection. To do so, we simply specify a static text string as an array element in the appropriate position in\n[CForm::elements]. For example,\n\n~~~\n[php]\nreturn array(\n    ''elements''=>array(\n		......\n        ''password''=>array(\n            ''type''=>''password'',\n            ''maxlength''=>32,\n        ),\n\n        ''<hr />'',\n\n        ''rememberMe''=>array(\n            ''type''=>''checkbox'',\n        )\n    ),\n	......\n);\n~~~\n\nIn the above, we insert a horizontal line between the `password` input and the `rememberMe` input.\n\nStatic text is best used when the text content and their position are irregular. If each input element\nin a form needs to be decorated similarly, we should customize the form rendering approach, as to be explained\nshortly in this section.\n\n\n### Specifying Sub-form\n\nSub-forms are used to divide a lengthy form into several logically connected portions. For example,\nwe may divide user registration form into two sub-forms: login information and profile information.\nEach sub-form may or may not be associated with a data model. In the user registration form example,\nif we store user login information and profile information in two separate database tables (and thus\ntwo data models), then each sub-form would be associated with a corresponding data model. If we store\neverything in a single database table, then neither sub-form has a data model because they share the\nsame model with the root form.\n\nA sub-form is also represented as a [CForm] object. In order to specify a sub-form, we should configure\nthe [CForm::elements] property with an element whose type is `form`:\n\n~~~\n[php]\nreturn array(\n    ''elements''=>array(\n		......\n        ''user''=>array(\n            ''type''=>''form'',\n            ''title''=>''Login Credential'',\n            ''elements''=>array(\n            	''username''=>array(\n            		''type''=>''text'',\n            	),\n            	''password''=>array(\n            		''type''=>''password'',\n            	),\n            	''email''=>array(\n            		''type''=>''text'',\n            	),\n            ),\n        ),\n\n        ''profile''=>array(\n        	''type''=>''form'',\n        	......\n        ),\n        ......\n    ),\n	......\n);\n~~~\n\nLike configuring a root form, we mainly need to specify the [CForm::elements] property for a sub-form.\nIf a sub-form needs to be associated with a data model, we can configure its [CForm::model] property as well.\n\nSometimes, we may want to represent a form using a class other than the default [CForm]. For example,\nas will show shortly in this section, we may extend [CForm] to customize the form rendering logic.\nBy specifying the input element type to be `form`, a sub-form will automatically be represented as an object\nwhose class is the same as its parent form. If we specify the input element type to be something like\n`XyzForm` (a string terminated with `Form`), then the sub-form will be represented as a `XyzForm` object.\n\n\nAccessing Form Elements\n-----------------------\n\nAccessing form elements is as simple as accessing array elements. The [CForm::elements] property returns\na [CFormElementCollection] object, which extends from [CMap] and allows accessing its elements like a normal\narray. For example, in order to access the `username` element in the login form example, we can use the following\ncode:\n\n~~~\n[php]\n$username = $form->elements[''username''];\n~~~\n\nAnd to access the `email` element in the user registration form example, we can use\n\n~~~\n[php]\n$email = $form->elements[''user'']->elements[''email''];\n~~~\n\nBecause [CForm] implements array access for its [CForm::elements] property, the above code can be further\nsimplified as:\n\n~~~\n[php]\n$username = $form[''username''];\n$email = $form[''user''][''email''];\n~~~\n\n\nCreating a Nested Form\n----------------------\n\nWe already described sub-forms. We call a form with sub-forms a nested form. In this section,\nwe use the user registration form as an example to show how to create a nested form associated\nwith multiple data models. We assume the user credential information is stored as a `User` model,\nwhile the user profile information is stored as a `Profile` model.\n\nWe first create the `register` action as follows:\n\n~~~\n[php]\npublic function actionRegister()\n{\n	$form = new CForm(''application.views.user.registerForm'');\n	$form[''user'']->model = new User;\n	$form[''profile'']->model = new Profile;\n	if($form->submitted(''register'') && $form->validate())\n	{\n		$user = $form[''user'']->model;\n		$profile = $form[''profile'']->model;\n		if($user->save(false))\n		{\n			$profile->userID = $user->id;\n			$profile->save(false);\n			$this->redirect(array(''site/index''));\n		}\n	}\n\n	$this->render(''register'', array(''form''=>$form));\n}\n~~~\n\nIn the above, we create the form using the configuration specified by `application.views.user.registerForm`.\nAfter the form is submitted and validated successfully, we attempt to save the user and profile models.\nWe retrieve the user and profile models by accessing the `model` property of the corresponding sub-form objects.\nBecause the input validation is already done, we call `$user->save(false)` to skip the validation. We do\nthis similarly for the profile model.\n\nNext, we write the form configuration file `protected/views/user/registerForm.php`:\n\n~~~\n[php]\nreturn array(\n	''elements''=>array(\n		''user''=>array(\n			''type''=>''form'',\n			''title''=>''Login information'',\n			''elements''=>array(\n		        ''username''=>array(\n		            ''type''=>''text'',\n		        ),\n		        ''password''=>array(\n		            ''type''=>''password'',\n		        ),\n		        ''email''=>array(\n		            ''type''=>''text'',\n		        )\n			),\n		),\n\n		''profile''=>array(\n			''type''=>''form'',\n			''title''=>''Profile information'',\n			''elements''=>array(\n		        ''firstName''=>array(\n		            ''type''=>''text'',\n		        ),\n		        ''lastName''=>array(\n		            ''type''=>''text'',\n		        ),\n			),\n		),\n	),\n\n    ''buttons''=>array(\n        ''register''=>array(\n            ''type''=>''submit'',\n            ''label''=>''Register'',\n        ),\n    ),\n);\n~~~\n\nIn the above, when specifying each sub-form, we also specify its [CForm::title] property.\nThe default form rendering logic will enclose each sub-form in a field-set which uses this property\nas its title.\n\nFinally, we write the simple `register` view script:\n\n~~~\n[php]\n<h1>Register</h1>\n\n<div class="form">\n<?php echo $form; ?>\n</div>\n~~~\n\n\nCustomizing Form Display\n------------------------\n\nThe main benefit of using form builder is the separation of logic (form configuration stored in a separate file)\nand presentation ([CForm::render] method). As a result, we can customize the form display by either overriding\n[CForm::render] or providing a partial view to render the form. Both approaches can keep the form configuration\nintact and can be reused easily.\n\nWhen overriding [CForm::render], one mainly needs to traverse through the [CForm::elements] and [CForm::buttons]\ncollections and call the [CFormElement::render] method of each form element. For example,\n\n~~~\n[php]\nclass MyForm extends CForm\n{\n	public function render()\n	{\n		$output = $this->renderBegin();\n\n		foreach($this->getElements() as $element)\n			$output .= $element->render();\n\n		$output .= $this->renderEnd();\n\n		return $output;\n	}\n}\n~~~\n\nWe may also write a view script `_form` to render a form:\n\n~~~\n[php]\n<?php\necho $form->renderBegin();\n\nforeach($form->getElements() as $element)\n	echo $element->render();\n\necho $form->renderEnd();\n~~~\n\nTo use this view script, we can simply call:\n\n~~~\n[php]\n<div class="form">\n$this->renderPartial(''_form'', array(''form''=>$form));\n</div>\n~~~\n\nIf a generic form rendering does not work for a particular form (for example, the form needs some\nirregular decorations for certain elements), we can do like the following in a view script:\n\n~~~\n[php]\nsome complex UI elements here\n\n<?php echo $form[''username'']; ?>\n\nsome complex UI elements here\n\n<?php echo $form[''password'']; ?>\n\nsome complex UI elements here\n~~~\n\nIn the last approach, the form builder seems not to bring us much benefit, as we still need to write\nsimilar amount of form code. It is still beneficial, however, that the form is specified using\na separate configuration file as it helps developers to better focus on the logic.\n\n\n<div class="revision">$Id: form.builder.txt 1849 2010-03-01 15:54:34Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(85, 'form.model', 'form.model', '', 'Creating Model\n==============\n\nBefore writing the HTML code needed by a form, we should decide what kind\nof data we are expecting from end users and what rules these data should\ncomply with. A model class can be used to record these information. A\nmodel, as defined in the [Model](/doc/guide/basics.model) subsection, is\nthe central place for keeping user inputs and validating them.\n\nDepending on how we make use of the user input, we can create two types of\nmodel. If the user input is collected, used and then discarded, we would\ncreate a [form model](/doc/guide/basics.model); if the user input is\ncollected and saved into database, we would use an [active\nrecord](/doc/guide/database.ar) instead. Both types of model share the same\nbase class [CModel] which defines the common interface needed by form.\n\n> Note: We are mainly using form models in the examples of this section.\nHowever, the same can also be applied to [active\nrecord](/doc/guide/database.ar) models.\n\nDefining Model Class\n--------------------\n\nBelow we create a `LoginForm` model class used to collect user input on a\nlogin page. Because the login information is only used to authenticate the\nuser and does not need to be saved, we create `LoginForm` as a form model.\n\n~~~\n[php]\nclass LoginForm extends CFormModel\n{\n	public $username;\n	public $password;\n	public $rememberMe=false;\n}\n~~~\n\nThree attributes are declared in `LoginForm`: `$username`, `$password` and\n`$rememberMe`. They are used to keep the user-entered username and\npassword, and the option whether the user wants to remember his login.\nBecause `$rememberMe` has a default value `false`, the corresponding option\nwhen initially displayed in the login form will be unchecked.\n\n> Info: Instead of calling these member variables properties, we use the\nname *attributes* to differentiate them from normal properties. An\nattribute is a property that is mainly used to store data coming from user\ninput or database.\n\nDeclaring Validation Rules\n--------------------------\n\nOnce a user submits his inputs and the model gets populated, we need to\nmake sure the inputs are valid before using them. This is done by\nperforming validation of the inputs against a set of rules. We specify the\nvalidation rules in the `rules()` method which should return an array of\nrule configurations.\n\n~~~\n[php]\nclass LoginForm extends CFormModel\n{\n	public $username;\n	public $password;\n	public $rememberMe=false;\n\n	private $_identity;\n\n	public function rules()\n	{\n		return array(\n			array(''username, password'', ''required''),\n			array(''rememberMe'', ''boolean''),\n			array(''password'', ''authenticate''),\n		);\n	}\n\n	public function authenticate($attribute,$params)\n	{\n		$this->_identity=new UserIdentity($this->username,$this->password);\n		if(!$this->_identity->authenticate())\n			$this->addError(''password'',''Incorrect username or password.'');\n	}\n}\n~~~\n\nThe above code specifies that `username` and `password` are both required,\n`password` should be authenticated, and `rememberMe` should be a boolean.\n\nEach rule returned by `rules()` must be of the following format:\n\n~~~\n[php]\narray(''AttributeList'', ''Validator'', ''on''=>''ScenarioList'', ...additional options)\n~~~\n\nwhere `AttributeList` is a string of comma-separated attribute names which\nneed to be validated according to the rule; `Validator` specifies what kind of\nvalidation should be performed; the `on` parameter is optional which specifies\na list of scenarios where the rule should be applied; and additional options\nare name-value pairs which are used to initialize the corresponding validator''s\nproperty values.\n\nThere are three ways to specify `Validator` in a validation rule. First,\n`Validator` can be the name of a method in the model class, like\n`authenticate` in the above example. The validator method must be of the\nfollowing signature:\n\n~~~\n[php]\n/**\n * @param string the name of the attribute to be validated\n * @param array options specified in the validation rule\n */\npublic function ValidatorName($attribute,$params) { ... }\n~~~\n\nSecond, `Validator` can be the name of a validator class. When the rule is\napplied, an instance of the validator class will be created to perform the\nactual validation. The additional options in the rule are used to\ninitialize the instance''s attribute values. A validator class must extend\nfrom [CValidator].\n\n> Note: When specifying rules for an active record model, we can use a\nspecial option named `on`. The option can be either `''insert''` or\n`''update''` so that the rule is applied only when inserting or updating the\nrecord, respectively. If not set, the rule would be applied in both cases\nwhen `save()` is called.\n\nThird, `Validator` can be a predefined alias to a validator class. In the\nabove example, the name `required` is the alias to [CRequiredValidator]\nwhich ensures the attribute value being validated is not empty. Below is\nthe complete list of predefined validator aliases:\n\n   - `boolean`: alias of [CBooleanValidator], ensuring the attribute has\na value that is either [CBooleanValidator::trueValue] or\n[CBooleanValidator::falseValue].\n\n   - `captcha`: alias of [CCaptchaValidator], ensuring the attribute is\nequal to the verification code displayed in a\n[CAPTCHA](http://en.wikipedia.org/wiki/Captcha).\n\n   - `compare`: alias of [CCompareValidator], ensuring the attribute is\nequal to another attribute or constant.\n\n   - `email`: alias of [CEmailValidator], ensuring the attribute is a\nvalid email address.\n\n   - `default`: alias of [CDefaultValueValidator], assigning a default value\nto the specified attributes.\n\n   - `exist`: alias of [CExistValidator], ensuring the attribute value\ncan be found in the specified table column.\n\n   - `file`: alias of [CFileValidator], ensuring the attribute contains\nthe name of an uploaded file.\n\n   - `filter`: alias of [CFilterValidator], transforming the attribute\nwith a filter.\n\n   - `in`: alias of [CRangeValidator], ensuring the data is among a\npre-specified list of values.\n\n   - `length`: alias of [CStringValidator], ensuring the length of the\ndata is within certain range.\n\n   - `match`: alias of [CRegularExpressionValidator], ensuring the data\nmatches a regular expression.\n\n   - `numerical`: alias of [CNumberValidator], ensuring the data is a\nvalid number.\n\n   - `required`: alias of [CRequiredValidator], ensuring the attribute is\nnot empty.\n\n   - `type`: alias of [CTypeValidator], ensuring the attribute is of\nspecific data type.\n\n   - `unique`: alias of [CUniqueValidator], ensuring the data is unique in\na database table column.\n\n   - `url`: alias of [CUrlValidator], ensuring the data is a valid URL.\n\nBelow we list some examples of using the predefined validators:\n\n~~~\n[php]\n// username is required\narray(''username'', ''required''),\n// username must be between 3 and 12 characters\narray(''username'', ''length'', ''min''=>3, ''max''=>12),\n// when in register scenario, password must match password2\narray(''password'', ''compare'', ''compareAttribute''=>''password2'', ''on''=>''register''),\n// when in login scenario, password must be authenticated\narray(''password'', ''authenticate'', ''on''=>''login''),\n~~~\n\n\nSecuring Attribute Assignments\n------------------------------\n\nAfter a model instance is created, we often need to populate its\nattributes with the data submitted by end-users. This can be done\nconveniently using the following massive assignment:\n\n~~~\n[php]\n$model=new LoginForm;\nif(isset($_POST[''LoginForm'']))\n	$model->attributes=$_POST[''LoginForm''];\n~~~\n\nThe last statement is called *massive assignment* which assigns every entry\nin `$_POST[''LoginForm'']` to the corresponding model attribute.\nIt is equivalent to the following assignments:\n\n~~~\n[php]\nforeach($_POST[''LoginForm''] as $name=>$value)\n{\n	if($name is a safe attribute)\n		$model->$name=$value;\n}\n~~~\n\nIt is crucial to determine which attributes are safe. For example, if we\nexpose the primary key of a table to be safe, then an attacker could\nget a chance to modify the primary key of the given record and thus tamper\nthe data he is not authorized to.\n\nThe policy of deciding which attributes are safe is different in version 1.0\nand 1.1. In the following, we will describe them separately.\n\n###Safe Attributes in 1.1\n\nIn version 1.1, an attribute is considered safe if it appears in a validation\nrule that is applicable in the given scenario. For example,\n\n~~~\n[php]\narray(''username, password'', ''required'', ''on''=>''login, register''),\narray(''email'', ''required'', ''on''=>''register''),\n~~~\n\nIn the above, the `username` and `password` attributes are required in `login`\nscenario, while the `username`, `password` and `email` attributes are required\nin `register` scenario. As a result, if we perform a massive assign when in\n`login` scenario, only `username` and `password` will be massively assigned\nsince they are the only attributes appearing in the validation rules for `login`.\nOn the other hand, if the scenario is `register`, the three attributes can\nall be massively assigned.\n\n~~~\n[php]\n// in login scenario\n$model=new User(''login'');\nif(isset($_POST[''User'']))\n	$model->attributes=$_POST[''User''];\n\n// in register scenario\n$model=new User(''register'');\nif(isset($_POST[''User'']))\n	$model->attributes=$_POST[''User''];\n~~~\n\nSo why do we use such a policy to determine if an attribute is safe or not?\nThe rationale behind is that if an attribute already has one or several validation rules\nto check its validity, what else should we worry about it?\n\nIt is important to remember that validation rules are used to check user input data\nrather than the data that we generate in the code (e.g. timestamp, auto-generated primary key).\nTherefore, DO NOT add validation rules for those attributes which do not expect inputs\nfrom end-users.\n\nSometimes, we want to declare an attribute to be safe, even though we do not really have\nany specific rule for it. An example is an article''s content attribute which can take any\nuser input. We can use the special `safe` rule to achieve this goal:\n\n~~~\n[php]\narray(''content'', ''safe'')\n~~~\n\nFor completeness, there is also an `unsafe` rule which is used to explicitly declare an\nattribute to be unsafe:\n\n~~~\n[php]\narray(''permission'', ''unsafe'')\n~~~\n\nThe `unsafe` rule is rarely used, and it is an exception to our previous definition of safe\nattributes.\n\n\n###Safe Attributes in 1.0\n\nIn version 1.0, the task of deciding whether a data entry is safe or not is based on\nthe return value of a method named `safeAttributes` and the specified\nscenario. By default, the method returns all public member variables\nas safe attributes for [CFormModel], while it returns all table columns\nexcept the primary key as safe attributes for [CActiveRecord]. We may\noverride this method to limit safe attributes according to scenarios.\nFor example, a user model may contain many attributes, but in `login`\nscenario we only need to use `username` and `password` attributes.\nWe can specify this limit as follows:\n\n~~~\n[php]\npublic function safeAttributes()\n{\n	return array(\n		parent::safeAttributes(),\n		''login'' => ''username, password'',\n	);\n}\n~~~\n\nMore accurately, the return value of the `safeAttributes` method should be\nof the following structure:\n\n~~~\n[php]\narray(\n   // these attributes can be massively assigned in any scenario\n   // that is not explicitly specified below\n   ''attr1, attr2, ...'',\n	 *\n   // these attributes can be massively assigned only in scenario 1\n   ''scenario1'' => ''attr2, attr3, ...'',\n	 *\n   // these attributes can be massively assigned only in scenario 2\n   ''scenario2'' => ''attr1, attr3, ...'',\n)\n~~~\n\nIf the model is not scenario-sensitive (i.e., it is only used\nin one scenario, or all scenarios share the same set of safe attributes),\nthe return value can be simplified as a single string:\n\n~~~\n[php]\n''attr1, attr2, ...''\n~~~\n\nFor data entries that are not safe, we need to assign them to the corresponding\nattributes using individual assign statements, like the following:\n\n~~~\n[php]\n$model->permission=''admin'';\n$model->id=1;\n~~~\n\n\nTriggering Validation\n---------------------\n\nOnce a model is populated with user-submitted data, we can call [CModel::validate()]\nto trigger the data validation process. The method returns a value\nindicating whether the validation is successful or not. For [CActiveRecord] models,\nvalidation may also be automatically triggered when we call its [CActiveRecord::save()]\nmethod.\n\nWe can set a scenario with the [scenario|CModel::scenario] property and\ntherewith indicate which set of validation rules should be applied.\n\n\nValidation is performed in a scenario basis. The [scenario|CModel::scenario]\nproperty specifies which scenario the model is being used in and which set\nof validation rules should be used. For example, in the `login` scenario, we only want to\nvalidate the `username` and `password` inputs of a user model; while in the `register`\nscenario, we need to validate more inputs, such as `email`, `address`, etc.\nThe following example shows how to perform validation in the `register` scenario:\n\n~~~\n[php]\n// creates a User model in register scenario. It is equivalent to:\n// $model=new User;\n// $model->scenario=''register'';\n$model=new User(''register'');\n\n// populates the input values into the model\n$model->attributes=$_POST[''User''];\n\n// performs the validation\nif($model->validate())   // if the inputs are valid\n    ...\nelse\n    ...\n~~~\n\nThe applicable scenarios that a rule is associated can be specified via\nthe `on` option in the rule. If the `on` option is not set, it means the\nrule will be used for all scenarios. For example,\n\n~~~\n[php]\npublic function rules()\n{\n	return array(\n		array(''username, password'', ''required''),\n		array(''password_repeat'', ''required'', ''on''=>''register''),\n		array(''password'', ''compare'', ''on''=>''register''),\n	);\n}\n~~~\n\nThe first rule will be applied in all scenarios, while the\nnext two rules will only be applied in the `register` scenario.\n\n\nRetrieving Validation Errors\n----------------------------\n\nOnce validation is done, any possible errors will be stored in the model\nobject. We can retrieve the error messages by calling [CModel::getErrors()]\nand [CModel::getError()]. The difference between the two methods is that\nthe first method will return *all* errors for the specified model attribute\nwhile the second method will only return the *first* error.\n\nAttribute Labels\n----------------\n\nWhen designing a form, we often need to display a label for each input\nfield. The label tells a user what kind of information he is expected to\nenter into the field. Although we can hardcode a label in a view, it would\noffer more flexibility and convenience if we specify it in the\ncorresponding model.\n\nBy default, [CModel] will simply return the name of an attribute as its\nlabel. This can be customized by overriding the\n[attributeLabels()|CModel::attributeLabels] method. As we will see in the\nfollowing subsections, specifying labels in the model allows us to create a\nform more quickly and powerful.\n\n<div class="revision">$Id: form.model.txt 1919 2010-03-15 17:25:48Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(86, 'form.overview', 'form.overview', '', 'Working with Form\n=================\n\nCollecting user data via HTML forms is one of the major tasks in Web\napplication development. Besides designing forms, developers need to\npopulate the form with existing data or default values, validate user\ninput, display appropriate error messages for invalid input, and save the\ninput to persistent storage. Yii greatly simplifies this workflow with its\nMVC architecture.\n\nThe following steps are typically needed when dealing with forms in Yii:\n\n   1. Create a model class representing the data fields to be collected;\n   1. Create a controller action with code that responds to form submission.\n   1. Create a form in the view script file associated with the controller action.\n\nIn the next subsections, we describe each of these steps in detail.\n\n<div class="revision">$Id: form.overview.txt 163 2008-11-05 12:51:48Z weizhuo $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(87, 'form.table', 'form.table', '', 'Collecting Tabular Input\n========================\n\nSometimes we want to collect user input in a batch mode. That is, the user\ncan enter the information for multiple model instances and submit them all\nat once. We call this *tabular input* because the input fields are\noften presented in an HTML table.\n\nTo work with tabular input, we first need to create or populate an array\nof model instances, depending on whether we are inserting or updating the\ndata. We then retrieve the user input data from the `$_POST` variable and\nassign it to each model. A slight difference from single model input is\nthat we retrieve the input data using `$_POST[''ModelClass''][$i]` instead of\n`$_POST[''ModelClass'']`.\n\n~~~\n[php]\npublic function actionBatchUpdate()\n{\n	// retrieve items to be updated in a batch mode\n	// assuming each item is of model class ''Item''\n	$items=$this->getItemsToUpdate();\n	if(isset($_POST[''Item'']))\n	{\n		$valid=true;\n		foreach($items as $i=>$item)\n		{\n			if(isset($_POST[''Item''][$i]))\n				$item->attributes=$_POST[''Item''][$i];\n			$valid=$valid && $item->validate();\n		}\n		if($valid)  // all items are valid\n			// ...do something here\n	}\n	// displays the view to collect tabular input\n	$this->render(''batchUpdate'',array(''items''=>$items));\n}\n~~~\n\nHaving the action ready, we need to work on the `batchUpdate` view to\ndisplay the input fields in an HTML table.\n\n~~~\n[php]\n<div class="form">\n<?php echo CHtml::beginForm(); ?>\n<table>\n<tr><th>Name</th><th>Price</th><th>Count</th><th>Description</th></tr>\n<?php foreach($items as $i=>$item): ?>\n<tr>\n<td><?php echo CHtml::activeTextField($item,"[$i]name"); ?></td>\n<td><?php echo CHtml::activeTextField($item,"[$i]price"); ?></td>\n<td><?php echo CHtml::activeTextField($item,"[$i]count"); ?></td>\n<td><?php echo CHtml::activeTextArea($item,"[$i]description"); ?></td>\n</tr>\n<?php endforeach; ?>\n</table>\n\n<?php echo CHtml::submitButton(''Save''); ?>\n<?php echo CHtml::endForm(); ?>\n</div><!-- form -->\n~~~\n\nNote in the above that we use `"[$i]name"` instead of `"name"` as the\nsecond parameter when calling [CHtml::activeTextField].\n\nIf there are validation errors, the corresponding input fields will\nbe highlighted automatically, just like the single model input we described\nearlier on.\n\n<div class="revision">$Id: form.table.txt 2161 2010-06-04 13:34:40Z alexander.makarow $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(88, 'form.view', 'form.view', '', 'Creating Form\n=============\n\nWriting the `login` view is straightforward. We start with a `form` tag\nwhose action attribute should be the URL of the `login` action described\npreviously. We then insert labels and input fields for the attributes\ndeclared in the `LoginForm` class. At the end we insert a submit button\nwhich can be clicked by users to submit the form. All these can be done in\npure HTML code.\n\nYii provides a few helper classes to facilitate view composition. For\nexample, to create a text input field, we can call [CHtml::textField()]; to\ncreate a drop-down list, call [CHtml::dropDownList()].\n\n> Info: One may wonder what is the benefit of using helpers if they\n> require similar amount of code when compared with plain HTML code. The\n> answer is that the helpers can provide more than just HTML code. For\n> example, the following code would generate a text input field which can\n> trigger form submission if its value is changed by users.\n> ~~~\n> [php]\n> CHtml::textField($name,$value,array(''submit''=>''''));\n> ~~~\n> It would otherwise require writing clumsy JavaScript everywhere.\n\nIn the following, we use [CHtml] to create the login form. We assume that\nthe variable `$model` represents `LoginForm` instance.\n\n~~~\n[php]\n<div class="form">\n<?php echo CHtml::beginForm(); ?>\n\n	<?php echo CHtml::errorSummary($model); ?>\n\n	<div class="row">\n		<?php echo CHtml::activeLabel($model,''username''); ?>\n		<?php echo CHtml::activeTextField($model,''username'') ?>\n	</div>\n\n	<div class="row">\n		<?php echo CHtml::activeLabel($model,''password''); ?>\n		<?php echo CHtml::activePasswordField($model,''password'') ?>\n	</div>\n\n	<div class="row rememberMe">\n		<?php echo CHtml::activeCheckBox($model,''rememberMe''); ?>\n		<?php echo CHtml::activeLabel($model,''rememberMe''); ?>\n	</div>\n\n	<div class="row submit">\n		<?php echo CHtml::submitButton(''Login''); ?>\n	</div>\n\n<?php echo CHtml::endForm(); ?>\n</div><!-- form -->\n~~~\n\nThe above code generates a more dynamic form. For example,\n[CHtml::activeLabel()] generates a label associated with the specified\nmodel attribute. If the attribute has an input error, the label''s CSS class\nwill be changed to `error`, which changes the appearance of the label with\nappropriate CSS styles. Similarly, [CHtml::activeTextField()] generates a\ntext input field for the specified model attribute and changes its CSS\nclass upon any input error.\n\nIf we use the CSS style file `form.css` provided by the `yiic` script, the\ngenerated form would be like the following:\n\n![The login page](login1.png)\n\n![The login with error page](login2.png)\n\nStarting from version 1.1.1, a new widget called [CActiveForm] is provided\nto facilitate form creation. The widget is capable of supporting seamless and\nconsistent validation on both client and server sides. Using [CActiveForm],\nthe above view code can be rewritten as:\n\n~~~\n[php]\n<div class="form">\n<?php $form=$this->beginWidget(''CActiveForm''); ?>\n\n	<?php echo $form->errorSummary($model); ?>\n\n	<div class="row">\n		<?php echo $form->label($model,''username''); ?>\n		<?php echo $form->textField($model,''username'') ?>\n	</div>\n\n	<div class="row">\n		<?php echo $form->label($model,''password''); ?>\n		<?php echo $form->passwordField($model,''password'') ?>\n	</div>\n\n	<div class="row rememberMe">\n		<?php echo $form->checkBox($model,''rememberMe''); ?>\n		<?php echo $form->label($model,''rememberMe''); ?>\n	</div>\n\n	<div class="row submit">\n		<?php echo CHtml::submitButton(''Login''); ?>\n	</div>\n\n<?php $this->endWidget(); ?>\n</div><!-- form -->\n~~~\n\n<div class="revision">$Id: form.view.txt 1751 2010-01-25 17:21:31Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(89, 'index', 'index', '', 'The Definitive Guide to Yii\n===========================\n\nThis tutorial is released under [the Terms of Yii Documentation](http://www.yiiframework.com/doc/terms/).\n\nAll Rights Reserved.\n\n2008-2010 &copy; Yii Software LLC.\n\n\n<div class="revision">$Id: index.txt 1679 2010-01-07 21:03:36Z qiang.xue $</div>\n', 'guide', 'source', 1276495043, 16825, 2, 0, 0);
INSERT INTO `documentations` VALUES(90, 'quickstart.first-app-yiic', 'quickstart.first-app-yiic', '', 'Implementing CRUD Operations with `yiic shell`\n==============================================\n\n> Note: The code generators in `yiic shell` have been deprecated since version 1.1.2. Please use the more powerful and extensible Web-based code generators available in [Gii](/doc/guide/topics.gii), instead.\n\nOpen a command line window, and execute the commands listed as follows,\n\n~~~\n% cd WebRoot/testdrive\n% protected/yiic shell\nYii Interactive Tool v1.1\nPlease type ''help'' for help. Type ''exit'' to quit.\n>> model User tbl_user\n   generate models/User.php\n   generate fixtures/tbl_user.php\n   generate unit/UserTest.php\n\nThe following model classes are successfully generated:\n    User\n\nIf you have a ''db'' database connection, you can test these models now with:\n    $model=User::model()->find();\n    print_r($model);\n\n>> crud User\n   generate UserController.php\n   generate UserTest.php\n   mkdir D:/testdrive/protected/views/user\n   generate create.php\n   generate update.php\n   generate index.php\n   generate view.php\n   generate admin.php\n   generate _form.php\n   generate _view.php\n\nCrud ''user'' has been successfully created. You may access it via:\nhttp://hostname/path/to/index.php?r=user\n~~~\n\nIn the above, we use the `yiic shell` command to interact with our\nskeleton application. At the prompt, we execute two sub-commands: `model User tbl_user`\nand `crud User`. The former generates a model class named `User` for the `tbl_user` table,\nwhile the latter analyzes the `User` model and generates the code implementing\nthe corresponding CRUD operations.\n\n> Note: You may encounter errors like "...could not find driver", even\n> though the requirement checker shows you have already enabled PDO\n> and the corresponding PDO driver. If this happens, you may try\n> to run the `yiic` tool as follows,\n>\n> ~~~\n> % php -c path/to/php.ini protected/yiic.php shell\n> ~~~\n>\n> where `path/to/php.ini` represents the correct PHP ini file.\n\nLet''s enjoy our work by browsing the following URL:\n\n~~~\nhttp://hostname/testdrive/index.php?r=user\n~~~\n\nThis will display a list of user entries in the `tbl_user` table.\n\nClick the `Create User` button on the page. We will be brought to the login\npage if we have not logged in before. After logged in, we see\nan input form that allows us to add a new user entry. Complete the form and\nclick on the `Create` button. If there is any input error, a nice error\nprompt will show up which prevents us from saving the input. Back to the\nuser list page, we should see the newly added user appearing in the list.\n\nRepeat the above steps to add more users. Notice that user list page\nwill automatically paginate the user entries if there are too many to be\ndisplayed in one page.\n\nIf we login as an administrator using `admin/admin`, we can view the user\nadmin page with the following URL:\n\n~~~\nhttp://hostname/testdrive/index.php?r=user/admin\n~~~\n\nThis will show us the user entries in a nice tabular format. We can click on the table\nheader cells to sort the corresponding columns. We can click on the buttons\non each row of data to view, update or delete the corresponding row of data.\nWe can browse different pages. We can also filter and search to look for\nthe data we are interested in.\n\nAll these nice features come without requiring us to write a single line\nof code!\n\n![User admin page](first-app6.png)\n\n![Create new user page](first-app7.png)\n\n\n\n<div class="revision">$Id: quickstart.first-app-yiic.txt 2041 2010-04-11 03:54:25Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(91, 'quickstart.first-app', 'quickstart.first-app', '', 'Creating First Yii Application\n==============================\n\nTo get an initial experience with Yii, we describe in this section how to\ncreate our first Yii application. We will use the powerful `yiic` tool\nwhich can be used to automate code creation for certain tasks. For convenience,\nwe assume that `YiiRoot` is the directory where Yii is installed, and `WebRoot`\nis the document root of our Web server.\n\nRun `yiic` on the command line as follows:\n\n~~~\n% YiiRoot/framework/yiic webapp WebRoot/testdrive\n~~~\n\n> Note: When running `yiic` on Mac OS, Linux or Unix, you may need to\n> change the permission of the `yiic` file so that it is executable.\n> Alternatively, you may run the tool as follows,\n>\n> ~~~\n> % cd WebRoot/testdrive\n> % php YiiRoot/framework/yiic.php webapp WebRoot/testdrive\n> ~~~\n\nThis will create a skeleton Yii application under the directory\n`WebRoot/testdrive`. The application has a directory structure that is\nis needed by most Yii applications.\n\nWithout writing a single line of code, we can test drive our first Yii\napplication by accessing the following URL in a Web browser:\n\n~~~\nhttp://hostname/testdrive/index.php\n~~~\n\nAs we can see, the application has four pages: the homepage, the about page,\nthe contact page and the login page. The contact page displays a contact\nform that users can fill in to submit their inquiries to the webmaster,\nand the login page allows users to be authenticated before accessing privileged\ncontents. See the following screenshots for more details.\n\n![Home page](first-app1.png)\n\n![Contact page](first-app2.png)\n\n![Contact page with input errors](first-app3.png)\n\n![Contact page with success](first-app4.png)\n\n![Login page](first-app5.png)\n\n\nThe following diagram shows the directory structure of our application.\nPlease see [Conventions](/doc/guide/basics.convention#directory) for detailed\nexplanation about this structure.\n\n~~~\ntestdrive/\n   index.php                 Web application entry script file\n   index-test.php            entry script file for the functional tests\n   assets/                   containing published resource files\n   css/                      containing CSS files\n   images/                   containing image files\n   themes/                   containing application themes\n   protected/                containing protected application files\n      yiic                   yiic command line script for Unix/Linux\n      yiic.bat               yiic command line script for Windows\n      yiic.php               yiic command line PHP script\n      commands/              containing customized ''yiic'' commands\n         shell/              containing customized ''yiic shell'' commands\n      components/            containing reusable user components\n         Controller.php      the base class for all controller classes\n         Identity.php        the ''Identity'' class used for authentication\n      config/                containing configuration files\n         console.php         the console application configuration\n         main.php            the Web application configuration\n         test.php            the configuration for the functional tests\n      controllers/           containing controller class files\n         SiteController.php  the default controller class\n      data/                  containing the sample database\n         schema.mysql.sql    the DB schema for the sample MySQL database\n         schema.sqlite.sql   the DB schema for the sample SQLite database\n         testdrive.db        the sample SQLite database file\n      extensions/            containing third-party extensions\n      messages/              containing translated messages\n      models/                containing model class files\n         LoginForm.php       the form model for ''login'' action\n         ContactForm.php     the form model for ''contact'' action\n      runtime/               containing temporarily generated files\n      tests/                 containing test scripts\n      views/                 containing controller view and layout files\n         layouts/            containing layout view files\n            main.php         the base layout shared by all pages\n            column1.php      the layout for pages using a single column\n            column2.php      the layout for pages using two columns\n         site/               containing view files for the ''site'' controller\n         	pages/           containing "static" pages\n         	   about.php    the view for the "about" page\n            contact.php      the view for ''contact'' action\n            error.php        the view for ''error'' action (displaying external errors)\n            index.php        the view for ''index'' action\n            login.php        the view for ''login'' action\n~~~\n\nConnecting to Database\n----------------------\n\nMost Web applications are backed by databases. Our test-drive application\nis not an exception. To use a database, we need to tell the\napplication how to connect to it. This is done in the application\nconfiguration file `WebRoot/testdrive/protected/config/main.php`, highlighted as follows,\n\n~~~\n[php]\nreturn array(\n	......\n	''components''=>array(\n		......\n		''db''=>array(\n			''connectionString''=>''sqlite:protected/data/testdrive.db'',\n		),\n	),\n	......\n);\n~~~\n\nThe above code instructs Yii that the application should connect to the SQLite database\n`WebRoot/testdrive/protected/data/testdrive.db` when needed. Note that the SQLite database\nis already included in the skeleton application that we just generated. The database\ncontains only a single table named `tbl_user`:\n\n~~~\n[sql]\nCREATE TABLE tbl_user (\n	id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\n	username VARCHAR(128) NOT NULL,\n	password VARCHAR(128) NOT NULL,\n	email VARCHAR(128) NOT NULL\n);\n~~~\n\nIf you want to try a MySQL database instead, you may use the included MySQL\nschema file `WebRoot/testdrive/protected/data/schema.mysql.sql` to create the database.\n\n> Note: To use Yii''s database feature, we need to enable PHP PDO extension\nand the driver-specific PDO extension. For the test-drive application, we\nneed to turn on both the `php_pdo` and `php_pdo_sqlite` extensions.\n\n\nImplementing CRUD Operations\n----------------------------\n\nNow is the fun part. We would like to implement the CRUD (create, read,\nupdate and delete) operations for the `User` table we just created. This is\nalso commonly needed in practical applications. Instead of taking the trouble\nto write the actual code, we will use Gii -- a powerful Web-based code generator.\n\n> Info: Gii has been available since version 1.1.2. Before that, we can use the aforementioned `yiic` tool to accomplish the same goal. For more details, please refer to [Implementing CRUD Operations with yiic shell](/doc/guide/quickstart.first-app-yiic).\n\n\n### Configuring Gii\n\nIn order to use Gii, we first need to edit the file `WebRoot/testdrive/protected/main.php`, which is known as the [application configuration](/doc/guide/basics.application#application-configuration) file:\n\n~~~\n[php]\nreturn array(\n	......\n	''import''=>array(\n		''application.models.*'',\n		''application.components.*'',\n	),\n\n	''modules''=>array(\n		''gii''=>array(\n			''class''=>''system.gii.GiiModule'',\n			''password''=>''pick up a password here'',\n		),\n	),\n);\n~~~\n\nThen, visit the URL `http://hostname/testdrive/index.php?r=gii`. We will be prompted for a password, which should be the one that we just entered in the above application configuration.\n\n### Generating User Model\n\nAfter login, click on the link `Model Generator`. This will bring us to the following model generation page,\n\n![Model Generator](gii-model.png)\n\nIn the `Table Name` field, enter `tbl_user`. In the `Model Class` field, enter `User`. Then press the `Preview` button. This will show us the new code file to be generated. Now press the `Generate` button. A new file named `User.php` will be generated under `protected/models`. As we will describe later in this guide, this `User` model class allows us to talk to the underlying database `tbl_user` table in an object-oriented fashion.\n\n### Generating CRUD Code\n\nAfter creating the model class file, we will generate the code that implements the CRUD operations about the user data. We choose the `Crud Generator` in Gii, shown as follows,\n\n![CRUD Generator](gii-crud.png)\n\nIn the `Model Class` field, enter `User`. In the `Controller ID` field, enter `user` (in lower case). Now press the `Preview` button followed by the `Generate` button. We are done with the CRUD code generation.\n\n### Accessing CRUD Pages\n\nLet''s enjoy our work by browsing the following URL:\n\n~~~\nhttp://hostname/testdrive/index.php?r=user\n~~~\n\nThis will display a list of user entries in the `tbl_user` table.\n\nClick the `Create User` button on the page. We will be brought to the login\npage if we have not logged in before. After logged in, we see\nan input form that allows us to add a new user entry. Complete the form and\nclick on the `Create` button. If there is any input error, a nice error\nprompt will show up which prevents us from saving the input. Back to the\nuser list page, we should see the newly added user appearing in the list.\n\nRepeat the above steps to add more users. Notice that user list page\nwill automatically paginate the user entries if there are too many to be\ndisplayed in one page.\n\nIf we login as an administrator using `admin/admin`, we can view the user\nadmin page with the following URL:\n\n~~~\nhttp://hostname/testdrive/index.php?r=user/admin\n~~~\n\nThis will show us the user entries in a nice tabular format. We can click on the table\nheader cells to sort the corresponding columns. We can click on the buttons\non each row of data to view, update or delete the corresponding row of data.\nWe can browse different pages. We can also filter and search to look for\nthe data we are interested in.\n\nAll these nice features come without requiring us to write a single line\nof code!\n\n![User admin page](first-app6.png)\n\n![Create new user page](first-app7.png)\n\n\n\n<div class="revision">$Id: quickstart.first-app.txt 2041 2010-04-11 03:54:25Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(92, 'quickstart.installation', 'quickstart.installation', '', 'Installation\n============\n\nInstallation of Yii mainly involves the following two steps:\n\n   1. Download Yii Framework from [yiiframework.com](http://www.yiiframework.com/).\n   2. Unpack the Yii release file to a Web-accessible directory.\n\n> Tip: Yii does not need to be installed under a Web-accessible directory.\nA Yii application has one entry script which is usually the only file that\nneeds to be exposed to Web users. Other PHP scripts, including those from\nYii, should be protected from Web access since they may be exploited for\nhacking.\n\nRequirements\n------------\n\nAfter installing Yii, you may want to verify that your server satisfies\nall the requirements of using Yii. You can do so by accessing the\nrequirement checker script at the following URL in a Web browser:\n\n~~~\nhttp://hostname/path/to/yii/requirements/index.php\n~~~\n\nThe minimum requirement by Yii is that your Web server supports PHP 5.1.0\nor above. Yii has been tested with [Apache HTTP\nserver](http://httpd.apache.org/) on Windows and Linux operating systems.\nIt may also run on other Web servers and platforms, provided PHP 5 is\nsupported.\n\n<div class="revision">$Id: quickstart.installation.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(93, 'quickstart.what-is-yii', 'quickstart.what-is-yii', '', 'What is Yii\n===========\n\nYii is a high-performance component-based PHP framework for developing\nlarge-scale Web applications rapidly. It enables maximum reusability in Web\nprogramming and can significantly accelerate your Web application development process. The\nname Yii (pronounced as `Yee` or `[ji:]`) stands for *easy*,\n*efficient* and *extensible*.\n\nRequirements\n------------\n\nTo run a Yii-powered Web application, you need a Web server supporting\nPHP 5.1.0 or higher.\n\nFor developers who want to use Yii, understanding object-oriented\nprogramming (OOP) is very helpful, because Yii is a pure OOP framework.\n\nWhat is Yii Best for?\n---------------------\n\nYii is a generic Web programming framework that can be used for developing\nvirtually all sorts of Web applications. Because it is light-weighted and\nequipped with sophisticated caching solutions, it is especially suitable\nfor developing high-traffic applications, such as portals, forums, content\nmanagement systems (CMS), e-commerce systems, etc.\n\nHow is Yii Compared with Other Frameworks?\n------------------------------------------\n\nLike most PHP frameworks, Yii is an MVC framework.\n\nYii excels over other PHP frameworks in that it is efficient, feature-rich\nand clearly-documented. Yii is carefully designed from the beginning to fit\nfor serious Web application development. It is neither a byproduct of some\nproject nor a conglomerate of third-party work. It is the result of the\nauthors'' rich experience of Web application development and the\ninvestigation and reflection of the most popular Web programming frameworks\nand applications.\n\n<div class="revision">$Id: quickstart.what-is-yii.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(94, 'test.fixture', 'test.fixture', '', 'Defining Fixtures\n=================\n\nAutomated tests need to be executed many times. To ensure the testing process is repeatable, we would like to run the tests in some known state called *fixture*. For example, to test the post creation feature in a blog application, each time when we run the tests, the tables storing relevant data about posts (e.g. the `Post` table, the `Comment` table) should be restored to some fixed state. The [PHPUnit documentation](http://www.phpunit.de/wiki/Documentation) has described well about generic fixture setup. In this section, we mainly describe how to set up database fixtures, as we just described in the example.\n\nSetting up database fixtures is perhaps one of the most time-consuming parts in testing database-backed Web applications. Yii introduces the [CDbFixtureManager] application component to alleviate this problem. It basically does the following things when running a set of tests:\n\n * Before all tests run, it resets all tables relevant to the tests to some known state.\n * Before a single test method runs, it resets the specified tables to some known state.\n * During the execution of a test method, it provides access to the rows of the data that contribute to the fixture.\n\nTo use [CDbFixtureManager], we configure it in the [application configuration](/doc/guide/basics.application#application-configuration) as follows,\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		''fixture''=>array(\n			''class''=>''system.test.CDbFixtureManager'',\n		),\n	),\n);\n~~~\n\nWe then provide the fixture data under the directory `protected/tests/fixtures`. This directory may be customized to be a different one by configuring the [CDbFixtureManager::basePath] property in the application configuration. The fixture data is organized as a collection of PHP files called fixture files. Each fixture file returns an array representing the initial rows of data for a particular table. The file name is the same as the table name. The following is an example of the fixture data for the `Post` table stored in a file named `Post.php`:\n\n~~~\n[php]\n<?php\nreturn array(\n	''sample1''=>array(\n		''title''=>''test post 1'',\n		''content''=>''test post content 1'',\n		''createTime''=>1230952187,\n		''authorId''=>1,\n	),\n	''sample2''=>array(\n		''title''=>''test post 2'',\n		''content''=>''test post content 2'',\n		''createTime''=>1230952287,\n		''authorId''=>1,\n	),\n);\n~~~\n\nAs we can see, two rows of data are returned in the above. Each row is represented as an associative array whose keys are column names and whose values are the corresponding column values. In addition, each row is indexed by a string (e.g. `sample1`, `sample2`) which is called *row alias*. Later when we write test scripts, we can conveniently refer to a row by its alias. We will describe this in detail in the next section.\n\nYou may notice that we do not specify the `id` column values in the above fixture. This is because the `id` column is defined to be an auto-incremental primary key whose value will be filled up when we insert new rows.\n\nWhen [CDbFixtureManager] is referenced for the first time, it will go through every fixture file and use it to reset the corresponding table. It resets a table by truncating the table, resetting the sequence value for the table''s auto-incremental primary key, and then inserting the rows of data from the fixture file into the table.\n\nSometimes, we may not want to reset every table which has a fixture file before we run a set of tests, because resetting too many fixture files could take very long time. In this case, we can write a PHP script to do the initialization work in a customized way. The script should be saved in a file named `init.php` under the same directory that contains other fixture files. When [CDbFixtureManager] detects the existence of this script, it will execute this script instead of resetting every table.\n\nIt is also possible that we do not like the default way of resetting a table, i.e., truncating it and inserting it with the fixture data. If this is the case, we can write an initialization script for the specific fixture file. The script must be named as the table name suffixed with `.init.php`. For example, the initialization script for the `Post` table would be `Post.init.php`. When [CDbFixtureManager] sees this script, it will execute this script instead of using the default way to reset the table.\n\n> Tip: Having too many fixture files could increase the test time dramatically. For this reason, you should only provide fixture files for those tables whose content may change during the test. Tables that serve as look-ups do not change and thus do not need fixture files.\n\nIn the next two sections, we will describe how to make use of the fixtures managed by [CDbFixtureManager] in unit tests and functional tests.\n\n<div class="revision">$Id: test.fixture.txt 1148 2009-06-18 22:06:22Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(95, 'test.functional', 'test.functional', '', 'Functional Testing\n==================\n\nBefore reading this section, it is recommended that you read the [Selenium documentation](http://seleniumhq.org/docs/) and the [PHPUnit documentation](http://www.phpunit.de/wiki/Documentation) first. We summarize in the following the basic principles of writing a functional test in Yii:\n\n * Like unit test, a functional test is written in terms of a class `XyzTest` which extends from [CWebTestCase], where `Xyz` stands for the class being tested. Because `PHPUnit_Extensions_SeleniumTestCase` is the ancestor class for [CWebTestCase], we can use all methods inherited from this class.\n\n * The functional test class is saved in a PHP file named as `XyzTest.php`. By convention, the functional test file may be stored under the directory `protected/tests/functional`.\n\n * The test class mainly contains a set of test methods named as `testAbc`, where `Abc` is often the name of a feature to be tested. For example, to test the user login feature, we can have a test method named as `testLogin`.\n\n * A test method usually contains a sequence of statements that would issue commands to Selenium RC to interact with the Web application being tested. It also contains assertion statements to verify that the Web application responds as expected.\n\nBefore we describe how to write a functional test, let''s take a look at the `WebTestCase.php` file generated by the `yiic webapp` command. This file defines `WebTestCase` that may serve as the base class for all functional test classes.\n\n~~~\n[php]\ndefine(''TEST_BASE_URL'',''http://localhost/yii/demos/blog/index-test.php/'');\n\nclass WebTestCase extends CWebTestCase\n{\n	/**\n	 * Sets up before each test method runs.\n	 * This mainly sets the base URL for the test application.\n	 */\n	protected function setUp()\n	{\n		parent::setUp();\n		$this->setBrowserUrl(TEST_BASE_URL);\n	}\n\n	......\n}\n~~~\n\nThe class `WebTestCase` mainly sets the base URL of the pages to be tested. Later in test methods, we can use relative URLs to specify which pages to be tested.\n\nWe should also pay attention that in the base test URL, we use `index-test.php` as the entry script instead of `index.php`. The only difference between `index-test.php` and `index.php` is that the former uses `test.php` as the application configuration file while the latter `main.php`.\n\nWe now describe how to test the feature about showing a post in the [blog demo](http://www.yiiframework.com/demos/blog). We first write the test class as follows, noting that the test class extends from the base class we just described:\n\n~~~\n[php]\nclass PostTest extends WebTestCase\n{\n	public $fixtures=array(\n		''posts''=>''Post'',\n	);\n\n	public function testShow()\n	{\n		$this->open(''post/1'');\n	    // verify the sample post title exists\n	    $this->assertTextPresent($this->posts[''sample1''][''title'']);\n	    // verify comment form exists\n	    $this->assertTextPresent(''Leave a Comment'');\n	}\n\n	......\n}\n~~~\n\nLike writing a unit test class, we declare the fixtures to be used by this test. Here we indicate that the `Post` fixture should be used. In the `testShow` test method, we first instruct Selenium RC to open the URL `post/1`. Note that this is a relative URL, and the complete URL is formed by appending it to the base URL we set in the base class (i.e. `http://localhost/yii/demos/blog/index-test.php/post/1`). We then verify that we can find the title of the `sample1` post can be found in the current Web page. And we also verify that the page contains the text `Leave a Comment`.\n\n> Tip: Before running functional tests, the Selenium-RC server must be started. This can be done by executing the command `java -jar selenium-server.jar` under your Selenium server installation directory.\n\n<div class="revision">$Id: test.functional.txt 1662 2010-01-04 19:15:10Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(96, 'test.overview', 'test.overview', '', 'Overview\n========\n\n> Note: The testing support described in this chapter requires Yii version 1.1 or higher. This does not mean, however, that you cannot test applications developed using Yii 1.0.x. There are many great testing frameworks available to help you accomplish this task, such as [PHPUnit](http://www.phpunit.de/), [SimpleTest](http://www.simpletest.org/).\n\nTesting is an indispensable process of software development. Whether we are aware of it or not, we conduct testing all the time when we are developing a Web application. For example, when we write a class in PHP, we may use some `echo` or `die` statement to show that we implement a method correctly; when we implement a Web page containing a complex HTML form, we may try entering some test data to ensure the page interacts with us as expected. More advanced developers would write some code to automate this testing process so that each time when we need to test something, we just need to call up the code and let the computer to perform testing for us. This is known as *automated testing*, which is the main topic of this chapter.\n\nThe testing support provided by Yii includes *unit testing* and *functional testing*.\n\nA unit test verifies that a single unit of code is working as expected. In object-oriented programming, the most basic code unit is a class. A unit test thus mainly needs to verify that each of the class interface methods works properly. That is, given different input parameters, the test verifies the method returns expected results. Unit tests are usually developed by people who write the classes being tested.\n\nA functional test verifies that a feature (e.g. post management in a blog system) is working as expected. Compared with a unit test, a functional test sits at a higher level because a feature being tested often involves multiple classes. Functional tests are usually developed by people who know very well the system requirements (they could be either developers or quality engineers).\n\n\nTest-Driven Development\n=======================\n\nBelow we show the development cycles in the so-called [test-driven development (TDD)](http://en.wikipedia.org/wiki/Test-driven_development):\n\n 1. Create a new test that covers a feature to be implemented. The test is expected to fail at its first execution because the feature has yet to be implemented.\n 2. Run all tests and make sure the new test fails.\n 3. Write code to make the new test pass.\n 4. Run all tests and make sure they all pass.\n 5. Refactor the code that is newly written and make sure the tests still pass.\n\nRepeat step 1 to 5 to push forward the functionality implementation.\n\n\nTest Environment Setup\n======================\n\nThe testing supported provided by Yii requires [PHPUnit](http://www.phpunit.de/) 3.3+ and [Selenium Remote Control](http://seleniumhq.org/projects/remote-control/) 1.0+. Please refer to their documentation on how to install PHPUnit and Selenium Remote Control.\n\nWhen we use the `yiic webapp` console command to create a new Yii application, it will generate the following files and directories for us to write and perform new tests:\n\n~~~\ntestdrive/\n   protected/                containing protected application files\n      tests/                 containing tests for the application\n         fixtures/           containing database fixtures\n         functional/         containing functional tests\n         unit/               containing unit tests\n         report/             containing coverage reports\n         bootstrap.php       the script executed at the very beginning\n         phpunit.xml         the PHPUnit configuration file\n         WebTestCase.php     the base class for Web-based functional tests\n~~~\n\nAs shown in the above, our test code will be mainly put into three directories: `fixtures`, `functional` and `unit`, and the directory `report` will be used to store the generated code coverage reports.\n\nTo execute tests (whether unit tests or functional tests), we can execute the following commands in a console window:\n\n~~~\n% cd testdrive/protected/tests\n% phpunit functional/PostTest.php    // executes an individual test\n% phpunit --verbose functional       // executes all tests under ''functional''\n% phpunit --coverage-html ./report unit\n~~~\n\nIn the above, the last command will execute all tests under the `unit` directory and generate a code-coverage report under the `report` directory. Note that [xdebug extension](http://www.xdebug.org/) must be installed and enabled in order to generate code-coverage reports.\n\n\nTest Bootstrap Script\n====================\n\nLet''s take a look what may be in the `bootstrap.php` file. This file is so special because it is like the [entry script](/doc/guide/basics.entry) and is the starting point when we execute a set of tests.\n\n~~~\n[php]\n$yiit=''path/to/yii/framework/yiit.php'';\n$config=dirname(__FILE__).''/../config/test.php'';\nrequire_once($yiit);\nrequire_once(dirname(__FILE__).''/WebTestCase.php'');\nYii::createWebApplication($config);\n~~~\n\nIn the above, we first include the `yiit.php` file from the Yii framework, which initializes some global constants and includes necessary test base classes.  We then create a Web application instance using the `test.php` configuration file. If we check `test.php`, we shall find that it inherits from the `main.php` configuration file and adds a `fixture` application component whose class is [CDbFixtureManager]. We will describe fixtures in detail in the next section.\n\n~~~\n[php]\nreturn CMap::mergeArray(\n	require(dirname(__FILE__).''/main.php''),\n	array(\n		''components''=>array(\n			''fixture''=>array(\n				''class''=>''system.test.CDbFixtureManager'',\n			),\n			/* uncomment the following to provide test database connection\n			''db''=>array(\n				''connectionString''=>''DSN for test database'',\n			),\n			*/\n		),\n	)\n);\n~~~\n\nWhen we run tests that involve database, we should provide a test database so that the test execution does not interfere with normal development or production activities. To do so, we just need to uncomment the `db` configuration in the above and fill in the `connectionString` property with the DSN (data source name) to the test database.\n\nWith such a bootstrap script, when we run unit tests, we will have an application instance that is nearly the same as the one that serves for Web requests. The main difference is that it has the fixture manager and is using the test database.\n\n\n<div class="revision">$Id: test.overview.txt 1813 2010-02-18 21:33:16Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(97, 'test.unit', 'test.unit', '', 'Unit Testing\n============\n\nBecause the Yii testing framework is built on top of [PHPUnit](http://www.phpunit.de/), it is recommended that you go through the [PHPUnit documentation](http://www.phpunit.de/wiki/Documentation) first to get the basic understanding on how to write a unit test. We summarize in the following the basic principles of writing a unit test in Yii:\n\n * A unit test is written in terms of a class `XyzTest` which extends from [CTestCase] or [CDbTestCase], where `Xyz` stands for the class being tested. For example, to test the `Post` class, we would name the corresponding unit test as `PostTest` by convention. The base class [CTestCase] is meant for generic unit tests, while [CDbTestCase] is suitable for testing [active record](/doc/guide/database.ar) model classes. Because `PHPUnit_Framework_TestCase` is the ancestor class for both classes, we can use all methods inherited from this class.\n\n * The unit test class is saved in a PHP file named as `XyzTest.php`. By convention, the unit test file may be stored under the directory `protected/tests/unit`.\n\n * The test class mainly contains a set of test methods named as `testAbc`, where `Abc` is often the name of the class method to be tested.\n\n * A test method usually contains a sequence of assertion statements (e.g. `assertTrue`, `assertEquals`) which serve as checkpoints on validating the behavior of the target class.\n\n\nIn the following, we mainly describe how to write unit tests for [active record](/doc/guide/database.ar) model classes. We will extend our test classes from [CDbTestCase] because it provides the database fixture support that we introduced in the previous section.\n\nAssume we want to test the `Comment` model class in the [blog demo](http://www.yiiframework.com/demos/blog/). We start by creating a class named `CommentTest` and saving it as `protected/tests/unit/CommentTest.php`:\n\n~~~\n[php]\nclass CommentTest extends CDbTestCase\n{\n	public $fixtures=array(\n		''posts''=>''Post'',\n		''comments''=>''Comment'',\n	);\n\n	......\n}\n~~~\n\nIn this class, we specify the `fixtures` member variable to be an array that specifies which fixtures will be used by this test. The array represents a  mapping from fixture names to model class names or fixture table names (e.g. from fixture name `posts` to model class `Post`). Note that when mapping to fixture table names, we should prefix the table name with a colon (e.g. `:Post`) to differentiate it from model class name. And when using model class names, the corresponding tables will be considered as fixture tables. As we described earlier, fixture tables will be reset to some known state each time when a test method is executed.\n\nFixture names allow us to access the fixture data in test methods in a convenient way. The following code shows its typical usage:\n\n~~~\n[php]\n// return all rows in the ''Comment'' fixture table\n$comments = $this->comments;\n// return the row whose alias is ''sample1'' in the `Post` fixture table\n$post = $this->posts[''sample1''];\n// return the AR instance representing the ''sample1'' fixture data row\n$post = $this->posts(''sample1'');\n~~~\n\n> Note: If a fixture is declared using its table name (e.g. `''posts''=>'':Post''`), then the third usage in the above is not valid because we have no information about which model class the table is associated with.\n\nNext, we write the `testApprove` method to test the `approve` method in the `Comment` model class. The code is very straightforward: we first insert a comment that is pending status; we then verify this comment is in pending status by retrieving it from database; and finally we call the `approve` method and verify the status is changed as expected.\n\n~~~\n[php]\npublic function testApprove()\n{\n	// insert a comment in pending status\n	$comment=new Comment;\n	$comment->setAttributes(array(\n		''content''=>''comment 1'',\n		''status''=>Comment::STATUS_PENDING,\n		''createTime''=>time(),\n		''author''=>''me'',\n		''email''=>''me@example.com'',\n		''postId''=>$this->posts[''sample1''][''id''],\n	),false);\n	$this->assertTrue($comment->save(false));\n\n	// verify the comment is in pending status\n	$comment=Comment::model()->findByPk($comment->id);\n	$this->assertTrue($comment instanceof Comment);\n	$this->assertEquals(Comment::STATUS_PENDING,$comment->status);\n\n	// call approve() and verify the comment is in approved status\n	$comment->approve();\n	$this->assertEquals(Comment::STATUS_APPROVED,$comment->status);\n	$comment=Comment::model()->findByPk($comment->id);\n	$this->assertEquals(Comment::STATUS_APPROVED,$comment->status);\n}\n~~~\n\n\n<div class="revision">$Id: test.unit.txt 1745 2010-01-24 14:23:36Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(98, 'toc', 'toc', '', '* Getting Started\n	- [Overview](index)\n	- [New Features](changes)\n	- [Upgrading from 1.0 to 1.1](upgrade)\n    - [What is Yii](quickstart.what-is-yii)\n    - [Installation](quickstart.installation)\n    - [Creating First Yii Application](quickstart.first-app)\n\n* Fundamentals\n    - [Model-View-Controller (MVC)](basics.mvc)\n    - [Entry Script](basics.entry)\n    - [Application](basics.application)\n    - [Controller](basics.controller)\n    - [Model](basics.model)\n    - [View](basics.view)\n    - [Component](basics.component)\n    - [Module](basics.module)\n    - [Path Alias and Namespace](basics.namespace)\n    - [Conventions](basics.convention)\n    - [Development Workflow](basics.workflow)\n\n* Working with Forms\n    - [Overview](form.overview)\n    - [Creating Model](form.model)\n    - [Creating Action](form.action)\n    - [Creating Form](form.view)\n    - [Collecting Tabular Input](form.table)\n    - [Using Form Builder](form.builder)\n\n* Working with Databases\n    - [Overview](database.overview)\n    - [Database Access Objects](database.dao)\n    - [Active Record](database.ar)\n    - [Relational Active Record](database.arr)\n\n* Caching\n    - [Overview](caching.overview)\n    - [Data Caching](caching.data)\n    - [Fragment Caching](caching.fragment)\n    - [Page Caching](caching.page)\n    - [Dynamic Content](caching.dynamic)\n\n* Extending Yii\n    - [Overview](extension.overview)\n    - [Using Extensions](extension.use)\n    - [Creating Extensions](extension.create)\n    - [Using 3rd-Party Libraries](extension.integration)\n\n* Testing\n	- [Overview](test.overview)\n	- [Defining Fixtures](test.fixture)\n	- [Unit Testing](test.unit)\n	- [Functional Testing](test.functional)\n\n* Special Topics\n	- [Automatic Code Generation](topics.gii)\n    - [URL Management](topics.url)\n    - [Authentication and Authorization](topics.auth)\n    - [Theming and Skin](topics.theming)\n    - [Logging](topics.logging)\n    - [Error Handling](topics.error)\n    - [Web Service](topics.webservice)\n    - [Internationalization (I18N)](topics.i18n)\n    - [Alternative Template Syntax](topics.prado)\n    - [Console Applications](topics.console)\n    - [Security](topics.security)\n    - [Performance Tuning](topics.performance)\n\n<div class="revision">$Id: toc.txt 2040 2010-04-11 02:48:52Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(99, 'topics.auth', 'topics.auth', '', 'Authentication and Authorization\n================================\n\nAuthentication and authorization are required for a Web page that should\nbe limited to certain users. Authentication is about verifying whether\nsomeone is who he claims he is. It usually involves a username and a\npassword, but may include any other methods of demonstrating identity, such\nas a smart card, fingerprints, etc. Authorization is finding out if the\nperson, once identified (authenticated), is permitted to manipulate\nspecific resources. This is usually determined by finding out if that\nperson is of a particular role that has access to the resources.\n\nYii has a built-in authentication/authorization (auth) framework which is\neasy to use and can be customized for special needs.\n\nThe central piece in the Yii auth framework is a pre-declared *user\napplication component* which is an object implementing the [IWebUser]\ninterface. The user component represents the persistent identity\ninformation for the current user. We can access it at any place using\n`Yii::app()->user`.\n\nUsing the user component, we can check if a user is logged in or not via\n[CWebUser::isGuest]; we can [login|CWebUser::login] and\n[logout|CWebUser::logout] a user; we can check if the user can perform\nspecific operations by calling [CWebUser::checkAccess]; and we can also\nobtain the [unique identifier|CWebUser::name] and other persistent identity\ninformation about the user.\n\nDefining Identity Class\n-----------------------\n\nIn order to authenticate a user, we define an identity class which\ncontains the actual authentication logic. The identity class should\nimplement the [IUserIdentity] interface. Different classes may be\nimplemented for different authentication approaches (e.g. OpenID, LDAP). A\ngood start is by extending [CUserIdentity] which is a base class for the\nauthentication approach based on username and password.\n\nThe main work in defining an identity class is the implementation of the\n[IUserIdentity::authenticate] method. An identity class may also declare\nadditional identity information that needs to be persistent during the user\nsession.\n\nIn the following example, we validate the given username and password\nagainst the user table in a database using [Active\nRecord](/doc/guide/database.ar). We also override the `getId` method to\nreturn the `_id` variable which is set during authentication (the default\nimplementation would return the username as the ID). During authentication,\nwe store the retrieved `title` information in a state with the same name by\ncalling [CBaseUserIdentity::setState].\n\n~~~\n[php]\nclass UserIdentity extends CUserIdentity\n{\n	private $_id;\n	public function authenticate()\n	{\n		$record=User::model()->findByAttributes(array(''username''=>$this->username));\n		if($record===null)\n			$this->errorCode=self::ERROR_USERNAME_INVALID;\n		else if($record->password!==md5($this->password))\n			$this->errorCode=self::ERROR_PASSWORD_INVALID;\n		else\n		{\n			$this->_id=$record->id;\n			$this->setState(''title'', $record->title);\n			$this->errorCode=self::ERROR_NONE;\n		}\n		return !$this->errorCode;\n    }\n\n	public function getId()\n	{\n		return $this->_id;\n	}\n}\n~~~\n\nInformation stored in a state (by calling [CBaseUserIdentity::setState]) will be passed\nto [CWebUser] which stores them in a persistent storage, such as session.\nThese information can be accessed like properties of [CWebUser]. For example, we\ncan obtain the `title` information of the current user by `Yii::app()->user->title`\n(This has been available since version 1.0.3. In prior versions, we should use\n`Yii::app()->user->getState(''title'')`, instead.)\n\n> Info: By default, [CWebUser] uses session as persistent storage for user\nidentity information. If cookie-based login is enabled (by setting\n[CWebUser::allowAutoLogin] to be true), the user identity information may\nalso be saved in cookie. Make sure you do not declare sensitive information\n(e.g. password) to be persistent.\n\nLogin and Logout\n----------------\n\nUsing the identity class and the user component, we can\nimplement login and logout actions easily.\n\n~~~\n[php]\n// Login a user with the provided username and password.\n$identity=new UserIdentity($username,$password);\nif($identity->authenticate())\n	Yii::app()->user->login($identity);\nelse\n	echo $identity->errorMessage;\n......\n// Logout the current user\nYii::app()->user->logout();\n~~~\n\nBy default, a user will be logged out after a certain period of inactivity,\ndepending on the [session configuration](http://www.php.net/manual/en/session.configuration.php).\nTo change this behavior, we can set the [allowAutoLogin|CWebUser::allowAutoLogin]\nproperty of the user component to be true and pass a duration parameter to\nthe [CWebUser::login] method. The user will then remain logged in for\nthe specified duration, even if he closes his browser window. Note that\nthis feature requires the user''s browser to accept cookies.\n\n~~~\n[php]\n// Keep the user logged in for 7 days.\n// Make sure allowAutoLogin is set true for the user component.\nYii::app()->user->login($identity,3600*24*7);\n~~~\n\nAccess Control Filter\n---------------------\n\nAccess control filter is a preliminary authorization scheme that checks if\nthe current user can perform the requested controller action. The\nauthorization is based on user''s name, client IP address and request types.\nIt is provided as a filter named as\n["accessControl"|CController::filterAccessControl].\n\n> Tip: Access control filter is sufficient for simple scenarios. For\ncomplex access control, you may use role-based access (RBAC) which is to be\ncovered shortly.\n\nTo control the access to actions in a controller, we install the access\ncontrol filter by overriding [CController::filters] (see\n[Filter](/doc/guide/basics.controller#filter) for more details about\ninstalling filters).\n\n~~~\n[php]\nclass PostController extends CController\n{\n	......\n	public function filters()\n	{\n		return array(\n			''accessControl'',\n		);\n	}\n}\n~~~\n\nIn the above, we specify that the [access\ncontrol|CController::filterAccessControl] filter should be applied to every\naction of `PostController`. The detailed authorization rules used by the\nfilter are specified by overriding [CController::accessRules] in the\ncontroller class.\n\n~~~\n[php]\nclass PostController extends CController\n{\n	......\n	public function accessRules()\n	{\n		return array(\n			array(''deny'',\n				''actions''=>array(''create'', ''edit''),\n				''users''=>array(''?''),\n			),\n			array(''allow'',\n				''actions''=>array(''delete''),\n				''roles''=>array(''admin''),\n			),\n			array(''deny'',\n				''actions''=>array(''delete''),\n				''users''=>array(''*''),\n			),\n		);\n	}\n}\n~~~\n\nThe above code specifies three rules, each represented as an array. The\nfirst element of the array is either `''allow''` or `''deny''` and the rest\nname-value pairs specify the pattern parameters of the rule. These rules\nread: the `create` and `edit` actions cannot be executed by anonymous\nusers; the `delete` action can be executed by users with `admin` role;\nand the `delete` action cannot be executed by anyone.\n\nThe access rules are evaluated one by one in the order they are specified.\nThe first rule that matches the current pattern (e.g. username, roles,\nclient IP, address) determines the authorization result. If this rule is an `allow`\nrule, the action can be executed; if it is a `deny` rule, the action cannot\nbe executed; if none of the rules matches the context, the action can still\nbe executed.\n\n> Tip: To ensure an action does not get executed under certain contexts,\n> it is beneficial to always specify a matching-all `deny` rule at the end\n> of rule set, like the following:\n> ~~~\n> [php]\n> return array(\n>     // ... other rules...\n>     // the following rule denies ''delete'' action for all contexts\n>     array(''deny'',\n>         ''actions''=>array(''delete''),\n>     ),\n> );\n> ~~~\n> The reason for this rule is because if none of the rules matches a context,\n> an action will be executed.\n\nAn access rule can match the following context parameters:\n\n   - [actions|CAccessRule::actions]: specifies which actions this rule\nmatches. This should be an array of action IDs. The comparison is case-insensitive.\n\n   - [controllers|CAccessRule::controllers]: specifies which controllers this rule\nmatches. This should be an array of controller IDs. The comparison is case-insensitive.\nThis option has been available since version 1.0.4.\n\n   - [users|CAccessRule::users]: specifies which users this rule matches.\nThe current user''s [name|CWebUser::name] is used for matching. The comparison\nis case-insensitive. Three special characters can be used here:\n\n	   - `*`: any user, including both anonymous and authenticated users.\n	   - `?`: anonymous users.\n	   - `@`: authenticated users.\n\n   - [roles|CAccessRule::roles]: specifies which roles that this rule matches.\nThis makes use of the [role-based access control](#role-based-access-control)\nfeature to be described in the next subsection. In particular, the rule\nis applied if [CWebUser::checkAccess] returns true for one of the roles.\nNote, you should mainly use roles in an `allow` rule because by definition,\na role represents a permission to do something. Also note, although we use the\nterm `roles` here, its value can actually be any auth item, including roles,\ntasks and operations.\n\n   - [ips|CAccessRule::ips]: specifies which client IP addresses this rule\nmatches.\n\n   - [verbs|CAccessRule::verbs]: specifies which request types (e.g.\n`GET`, `POST`) this rule matches. The comparison is case-insensitive.\n\n   - [expression|CAccessRule::expression]: specifies a PHP expression whose value\nindicates whether this rule matches. In the expression, you can use variable `$user`\nwhich refers to `Yii::app()->user`. This option has been available since version 1.0.3.\n\n\n### Handling Authorization Result\n\nWhen authorization fails, i.e., the user is not allowed to perform the\nspecified action, one of the following two scenarios may happen:\n\n   - If the user is not logged in and if the [loginUrl|CWebUser::loginUrl]\nproperty of the user component is configured to be the URL of the login\npage, the browser will be redirected to that page. Note that by default,\n[loginUrl|CWebUser::loginUrl] points to the `site/login` page.\n\n   - Otherwise an HTTP exception will be displayed with error code 403.\n\nWhen configuring the [loginUrl|CWebUser::loginUrl] property, one can\nprovide a relative or absolute URL. One can also provide an array which\nwill be used to generate a URL by calling [CWebApplication::createUrl]. The\nfirst array element should specify the\n[route](/doc/guide/basics.controller#route) to the login controller\naction, and the rest name-value pairs are GET parameters. For example,\n\n~~~\n[php]\narray(\n	......\n	''components''=>array(\n		''user''=>array(\n			// this is actually the default value\n			''loginUrl''=>array(''site/login''),\n		),\n	),\n)\n~~~\n\nIf the browser is redirected to the login page and the login is\nsuccessful, we may want to redirect the browser back to the page that\ncaused the authorization failure. How do we know the URL for that page? We\ncan get this information from the [returnUrl|CWebUser::returnUrl] property\nof the user component. We can thus do the following to perform the\nredirection:\n\n~~~\n[php]\nYii::app()->request->redirect(Yii::app()->user->returnUrl);\n~~~\n\nRole-Based Access Control\n-------------------------\n\nRole-Based Access Control (RBAC) provides a simple yet powerful\ncentralized access control. Please refer to the [Wiki\narticle](http://en.wikipedia.org/wiki/Role-based_access_control) for more\ndetails about comparing RBAC with other more traditional access control\nschemes.\n\nYii implements a hierarchical RBAC scheme via its\n[authManager|CWebApplication::authManager] application component. In the\nfollowing ,we first introduce the main concepts used in this scheme; we\nthen describe how to define authorization data; at the end we show how to\nmake use of the authorization data to perform access checking.\n\n### Overview\n\nA fundamental concept in Yii''s RBAC is *authorization item*. An\nauthorization item is a permission to do something (e.g. creating new blog\nposts, managing users). According to its granularity and targeted audience,\nauthorization items can be classified as *operations*,\n*tasks* and *roles*. A role consists of tasks, a task\nconsists of operations, and an operation is a permission that is atomic.\nFor example, we can have a system with `administrator` role which consists\nof `post management` task and `user management` task. The `user management`\ntask may consist of `create user`, `update user` and `delete user`\noperations. For more flexibility, Yii also allows a role to consist of\nother roles or operations, a task to consist of other tasks, and an\noperation to consist of other operations.\n\nAn authorization item is uniquely identified by its name.\n\nAn authorization item may be associated with a *business rule*. A\nbusiness rule is a piece of PHP code that will be executed when performing\naccess checking with respect to the item. Only when the execution returns\ntrue, will the user be considered to have the permission represented by the\nitem. For example, when defining an operation `updatePost`, we would like\nto add a business rule that checks if the user ID is the same as the post''s\nauthor ID so that only the author himself can have the permission to update\na post.\n\nUsing authorization items, we can build up an *authorization\nhierarchy*. An item `A` is a parent of another item `B` in the\nhierarchy if `A` consists of `B` (or say `A` inherits the permission(s)\nrepresented by `B`). An item can have multiple child items, and it can also\nhave multipe parent items. Therefore, an authorization hierarchy is a\npartial-order graph rather than a tree. In this hierarchy, role items sit\non top levels, operation items on bottom levels, while task items in\nbetween.\n\nOnce we have an authorization hierarchy, we can assign roles in this\nhierarchy to application users. A user, once assigned with a role, will\nhave the permissions represented by the role. For example, if we assign the\n`administrator` role to a user, he will have the administrator permissions\nwhich include `post management` and `user management` (and the\ncorresponding operations such as `create user`).\n\nNow the fun part starts. In a controller action, we want to check if the\ncurrent user can delete the specified post. Using the RBAC hierarchy and\nassignment, this can be done easily as follows:\n\n~~~\n[php]\nif(Yii::app()->user->checkAccess(''deletePost''))\n{\n	// delete the post\n}\n~~~\n\n### Configuring Authorization Manager\n\nBefore we set off to define an authorization hierarchy and perform access\nchecking, we need to configure the\n[authManager|CWebApplication::authManager] application component. Yii\nprovides two types of authorization managers: [CPhpAuthManager] and\n[CDbAuthManager]. The former uses a PHP script file to store authorization\ndata, while the latter stores authorization data in database. When we\nconfigure the [authManager|CWebApplication::authManager] application\ncomponent, we need to specify which component class to use and what are the\ninitial property values for the component. For example,\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		''db''=>array(\n			''class''=>''CDbConnection'',\n			''connectionString''=>''sqlite:path/to/file.db'',\n		),\n		''authManager''=>array(\n			''class''=>''CDbAuthManager'',\n			''connectionID''=>''db'',\n		),\n	),\n);\n~~~\n\nWe can then access the [authManager|CWebApplication::authManager]\napplication component using `Yii::app()->authManager`.\n\n### Defining Authorization Hierarchy\n\nDefining authorization hierarchy involves three steps: defining\nauthorization items, establishing relationships between authorization\nitems, and assigning roles to application users. The\n[authManager|CWebApplication::authManager] application component provides a\nwhole set of APIs to accomplish these tasks.\n\nTo define an authorization item, call one of the following methods,\ndepending on the type of the item:\n\n   - [CAuthManager::createRole]\n   - [CAuthManager::createTask]\n   - [CAuthManager::createOperation]\n\nOnce we have a set of authorization items, we can call the following\nmethods to establish relationships between authorization items:\n\n   - [CAuthManager::addItemChild]\n   - [CAuthManager::removeItemChild]\n   - [CAuthItem::addChild]\n   - [CAuthItem::removeChild]\n\nAnd finally, we call the following methods to assign role items to\nindividual users:\n\n   - [CAuthManager::assign]\n   - [CAuthManager::revoke]\n\nBelow we show an example about building an authorization hierarchy with\nthe provided APIs:\n\n~~~\n[php]\n$auth=Yii::app()->authManager;\n\n$auth->createOperation(''createPost'',''create a post'');\n$auth->createOperation(''readPost'',''read a post'');\n$auth->createOperation(''updatePost'',''update a post'');\n$auth->createOperation(''deletePost'',''delete a post'');\n\n$bizRule=''return Yii::app()->user->id==$params["post"]->authID;'';\n$task=$auth->createTask(''updateOwnPost'',''update a post by author himself'',$bizRule);\n$task->addChild(''updatePost'');\n\n$role=$auth->createRole(''reader'');\n$role->addChild(''readPost'');\n\n$role=$auth->createRole(''author'');\n$role->addChild(''reader'');\n$role->addChild(''createPost'');\n$role->addChild(''updateOwnPost'');\n\n$role=$auth->createRole(''editor'');\n$role->addChild(''reader'');\n$role->addChild(''updatePost'');\n\n$role=$auth->createRole(''admin'');\n$role->addChild(''editor'');\n$role->addChild(''author'');\n$role->addChild(''deletePost'');\n\n$auth->assign(''reader'',''readerA'');\n$auth->assign(''author'',''authorB'');\n$auth->assign(''editor'',''editorC'');\n$auth->assign(''admin'',''adminD'');\n~~~\n\n> Info: While the above example looks long and tedious, it is mainly for\ndemonstrative purpose. Developers usually need to develop some user\ninterfaces so that end users can use to establish an authorization\nhierarchy more intuitively.\n\n\n### Using Business Rules\n\nWhen we are defining the authorization hierarchy, we can associate a role, a task or an operation with a so-called *business rule*. We may also associate a business rule when we assign a role to a user. A business rule is a piece of PHP code that is executed when we perform access checking. The returning value of the code is used to determine if the role or assignment applies to the current user. In the example above, we associated a business rule with the `updateOwnPost` task. In the business rule we simply check if the current user ID is the same as the specified post''s author ID. The post information in the `$params` array is supplied by developers when performing access checking.\n\n\n### Access Checking\n\nTo perform access checking, we first need to know the name of the\nauthorization item. For example, to check if the current user can create a\npost, we would check if he has the permission represented by the\n`createPost` operation. We then call [CWebUser::checkAccess] to perform the\naccess checking:\n\n~~~\n[php]\nif(Yii::app()->user->checkAccess(''createPost''))\n{\n	// create post\n}\n~~~\n\nIf the authorization rule is associated with a business rule which\nrequires additional parameters, we can pass them as well. For example, to\ncheck if a user can update a post, we would do\n\n~~~\n[php]\n$params=array(''post''=>$post);\nif(Yii::app()->user->checkAccess(''updateOwnPost'',$params))\n{\n	// update post\n}\n~~~\n\n\n### Using Default Roles\n\n> Note: The default role feature has been available since version 1.0.3\n\nMany Web applications need some very special roles that would be assigned to\nevery or most of the system users. For example, we may want to assign some\nprivileges to all authenticated users. It poses a lot of maintenance trouble\nif we explicitly specify and store these role assignments. We can exploit\n*default roles* to solve this problem.\n\nA default role is a role that is implicitly assigned to every user, including\nboth authenticated and guest. We do not need to explicitly assign it to a user.\nWhen [CWebUser::checkAccess] is invoked, default roles will be checked first as if they are\nassigned to the user.\n\nDefault roles must be declared in the [CAuthManager::defaultRoles] property.\nFor example, the following configuration declares two roles to be default roles: `authenticated` and `guest`.\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		''authManager''=>array(\n			''class''=>''CDbAuthManager'',\n			''defaultRoles''=>array(''authenticated'', ''guest''),\n		),\n	),\n);\n~~~\n\nBecause a default role is assigned to every user, it usually needs to be\nassociated with a business rule that determines whether the role\nreally applies to the user. For example, the following code defines two\nroles, `authenticated` and `guest`, which effectively apply to authenticated\nusers and guest users, respectively.\n\n~~~\n[php]\n$bizRule=''return !Yii::app()->user->isGuest;'';\n$auth->createRole(''authenticated'', ''authenticated user'', $bizRule);\n\n$bizRule=''return Yii::app()->user->isGuest;'';\n$auth->createRole(''guest'', ''guest user'', $bizRule);\n~~~\n\n<div class="revision">$Id: topics.auth.txt 1808 2010-02-17 21:49:42Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(100, 'topics.console', 'topics.console', '', 'Console Applications\n====================\n\nConsole applications are mainly used by a Web application to perform\noffline work, such as code generation, search index compiling, email\nsending, etc. Yii provides a framework for writing console applications in\nan object-oriented and systematic way.\n\nYii represents each console task in terms of a [command|CConsoleCommand],\nand a [console application|CConsoleApplication] instance is used to\ndispatch a command line request to an appropriate command. The application\ninstance is created in an entry script. To execute a console task, we\nsimply run the corresponding command on the command line as follows,\n\n~~~\nphp entryScript.php CommandName Param0 Param1 ...\n~~~\n\nwhere `CommandName` refers to the command name which is case-insensitive,\nand `Param0`, `Param1` and so on are parameters to be passed to the command\ninstance.\n\nThe entry script for a console application is usually written like the\nfollowing, similar to that in a Web application,\n\n~~~\n[php]\ndefined(''YII_DEBUG'') or define(''YII_DEBUG'',true);\n// include Yii bootstrap file\nrequire_once(''path/to/yii/framework/yii.php'');\n// create application instance and run\n$configFile=''path/to/config/file.php'';\nYii::createConsoleApplication($configFile)->run();\n~~~\n\nWe then create command classes which should extend from [CConsoleCommand].\nEach command class should be named as its command name appended with\n`Command`. For example, to define an `email` command, we should write an\n`EmailCommand` class. All command class files should be placed under the\n`commands` subdirectory of the [application base\ndirectory](/doc/guide/basics.application#application-base-directory).\n\n> Tip: By configuring [CConsoleApplication::commandMap], one can also have\ncommand classes in different naming conventions and located in different\ndirectories.\n\nWriting a command class mainly involves implementing the\n[CConsoleCommand::run] method. Command line parameters are passed as an\narray to this method. Below is an example:\n\n~~~\n[php]\nclass EmailCommand extends CConsoleCommand\n{\n	public function run($args)\n	{\n		$receiver=$args[0];\n		// send email to $receiver\n	}\n}\n~~~\n\nAt any time in a command, we can access the console application instance\nvia `Yii::app()`. Like a Web application instance, console application can\nalso be configured. For example, we can configure a `db` application\ncomponent to access the database. The configuration is usually specified as\na PHP file and passed to the constructor of the console application class\n(or [createConsoleApplication|YiiBase::createConsoleApplication] in the\nentry script).\n\nUsing the `yiic` Tool\n---------------------\n\nWe have used the `yiic` tool to [create our first\napplication](/doc/guide/quickstart.first-app). The `yiic` tool is in fact\nimplemented as a console application whose entry script file is\n`framework/yiic.php`. Using `yiic`, we can accomplish tasks such as\ncreating a Web application skeleton, generating a controller class or model\nclass, generating code needed by CRUD operations, extracting messages to be\ntranslated, etc.\n\nWe can enhance `yiic` by adding our own customized commands. To do so, we\nshould start with a skeleton application created using `yiic webapp`\ncommand, as described in [Creating First Yii\nApplication](/doc/guide/quickstart.first-app). The `yiic webapp` command\nwill generate two files under the `protected` directory: `yiic` and\n`yiic.bat`. They are the *local* version of the `yiic` tool created\nspecifically for the Web application.\n\nWe can then create our own commands under the `protected/commands`\ndirectory. Running the local `yiic` tool, we will see our own commands\nappearing together with the standard ones. We can also create our own\ncommands to be used in the `yiic shell` tool. To do so, just drop our\ncommand class files under the `protected/commands/shell` directory.\n\nStarting from version 1.1.1, we can also create global commands that\ncan be shared by all Yii applications on the same machine. To do so, define\nan environment variable named `YII_CONSOLE_COMMANDS` which should point to\nan existing directory. We then put our global command class files under\nthis directory, and we will see these commands become available wherever\nwe use the `yiic` tool.\n\n<div class="revision">$Id: topics.console.txt 1870 2010-03-09 22:23:19Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(101, 'topics.error', 'topics.error', '', 'Error Handling\n==============\n\nYii provides a complete error handling framework based on the PHP 5\nexception mechanism. When the application is created to handle an incoming\nuser request, it registers its [handleError|CApplication::handleError]\nmethod to handle PHP warnings and notices; and it registers its\n[handleException|CApplication::handleException] method to handle uncaught\nPHP exceptions. Consequently, if a PHP warning/notice or an uncaught\nexception occurs during the application execution, one of the error\nhandlers will take over the control and start the necessary error handling\nprocedure.\n\n> Tip: The registration of error handlers is done in the application''s\nconstructor by calling PHP functions\n[set_exception_handler](http://www.php.net/manual/en/function.set-exception-handler.php)\nand [set_error_handler](http://www.php.net/manual/en/function.set-error-handler.php).\nIf you do not want Yii to handle the errors and exceptions, you may define\nconstant `YII_ENABLE_ERROR_HANDLER` and `YII_ENABLE_EXCEPTION_HANDLER` to\nbe false in the [entry script](/doc/guide/basics.entry).\n\nBy default, [errorHandler|CApplication::errorHandler] (or\n[exceptionHandler|CApplication::exceptionHandler]) will raise an\n[onError|CApplication::onError] event (or\n[onException|CApplication::onException] event). If the error (or exception)\nis not handled by any event handler, it will call for help from the\n[errorHandler|CErrorHandler] application component.\n\nRaising Exceptions\n------------------\n\nRaising exceptions in Yii is not different from raising a normal PHP\nexception. One uses the following syntax to raise an exception when needed:\n\n~~~\n[php]\nthrow new ExceptionClass(''ExceptionMessage'');\n~~~\n\nYii defines two exception classes: [CException] and [CHttpException]. The\nformer is a generic exception class, while the latter represents an\nexception that should be displayed to end users. The latter also carries a\n[statusCode|CHttpException::statusCode] property representing an HTTP\nstatus code. The class of an exception determines how it should be\ndisplayed, as we will explain next.\n\n> Tip: Raising a [CHttpException] exception is a simple way of reporting\nerrors caused by user misoperation. For example, if the user provides an\ninvalid post ID in the URL, we can simply do the following to show a 404\nerror (page not found):\n~~~\n[php]\n// if post ID is invalid\nthrow new CHttpException(404,''The specified post cannot be found.'');\n~~~\n\nDisplaying Errors\n-----------------\n\nWhen an error is forwarded to the [CErrorHandler] application component,\nit chooses an appropriate view to display the error. If the error is meant\nto be displayed to end users, such as a [CHttpException], it will use a\nview named `errorXXX`, where `XXX` stands for the HTTP status code (e.g.\n400, 404, 500). If the error is an internal one and should only be\ndisplayed to developers, it will use a view named `exception`. In the\nlatter case, complete call stack as well as the error line information will\nbe displayed.\n\n> Info: When the application runs in [production\nmode](/doc/guide/basics.entry#debug-mode), all errors including those internal\nones will be displayed using view `errorXXX`. This is because the call\nstack of an error may contain sensitive information. In this case,\ndevelopers should rely on the error logs to determine what is the real\ncause of an error.\n\n[CErrorHandler] searches for the view file corresponding to a view in the\nfollowing order:\n\n   1. `WebRoot/themes/ThemeName/views/system`: this is the `system` view\ndirectory under the currently active theme.\n\n   2. `WebRoot/protected/views/system`: this is the default `system` view\ndirectory for an application.\n\n   3. `yii/framework/views`: this is the standard system view directory\nprovided by the Yii framework.\n\nTherefore, if we want to customize the error display, we can simply create\nerror view files under the system view directory of our application or\ntheme. Each view file is a normal PHP script consisting of mainly HTML\ncode. For more details, please refer to the default view files under the\nframework''s `view` directory.\n\n\n### Handling Errors Using an Action\n\nStarting from version 1.0.6, Yii allows using a [controller action](/doc/guide/basics.controller#action)\nto handle the error display work. To do so, we should configure the error handler\nin the application configuration as follows:\n\n~~~\n[php]\nreturn array(\n	......\n	''components''=>array(\n		''errorHandler''=>array(\n			''errorAction''=>''site/error'',\n		),\n	),\n);\n~~~\n\nIn the above, we configure the [CErrorHandler::errorAction] property to be the route\n`site/error` which refers to the `error` action in `SiteController`. We may use a different\nroute if needed.\n\nWe can write the `error` action like the following:\n\n~~~\n[php]\npublic function actionError()\n{\n	if($error=Yii::app()->errorHandler->error)\n		$this->render(''error'', $error);\n}\n~~~\n\nIn the action, we first retrieve the detailed error information from [CErrorHandler::error].\nIf it is not empty, we render the `error` view together with the error information.\nThe error information returned from [CErrorHandler::error] is an array with the following fields:\n\n * `code`: the HTTP status code (e.g. 403, 500);\n * `type`: the error type (e.g. [CHttpException], `PHP Error`);\n * `message`: the error message;\n * `file`: the name of the PHP script file where the error occurs;\n * `line`: the line number of the code where the error occurs;\n * `trace`: the call stack of the error;\n * `source`: the context source code where the error occurs.\n\n> Tip: The reason we check if [CErrorHandler::error] is empty or not is because\nthe `error` action may be directly requested by an end user, in which case there is no error.\nSince we are passing the `$error` array to the view, it will be automatically expanded\nto individual variables. As a result, in the view we can access directly the variables such as\n`$code`, `$type`.\n\n\nMessage Logging\n---------------\n\nA message of level `error` will always be logged when an error occurs. If\nthe error is caused by a PHP warning or notice, the message will be logged\nwith category `php`; if the error is caused by an uncaught exception, the\ncategory would be `exception.ExceptionClassName` (for [CHttpException] its\n[statusCode|CHttpException::statusCode] will also be appended to the\ncategory). One can thus exploit the [logging](/doc/guide/topics.logging)\nfeature to monitor errors happened during application execution.\n\n<div class="revision">$Id: topics.error.txt 1064 2009-05-26 00:15:33Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(102, 'topics.gii', 'topics.gii', '', 'Automatic Code Generation\n=========================\n\nStarting from version 1.1.2, Yii is equipped with a Web-based code generation tool called *Gii*. It supercedes the previous `yiic shell` generation tool which runs on command line. In this section, we will describe how to use Gii and how to extend Gii to increase our development productivity.\n\nUsing Gii\n---------\n\nGii is implemented in terms of a module and must be used within an existing Yii application. To use Gii, we first modify the application configuration as follows:\n\n~~~\n[php]\nreturn array(\n	......\n	''modules''=>array(\n		''gii''=>array(\n			''class''=>''system.gii.GiiModule'',\n			''password''=>''pick up a password here'',\n			// ''ipFilters''=>array(...a list of IPs...),\n			// ''newFileMode''=>0666,\n			// ''newDirMode''=>0777,\n		),\n	),\n);\n~~~\n\nIn the above, we declare a module named `gii` whose class is [GiiModule]. We also specify a password for the module which we will be prompted for when accessing Gii.\n\nBy default for security reasons, Gii is configured to be accessible only on localhost. If we want to make it accessible on other trustable computers, we can configure the [GiiModule::ipFilters] property as shown in the above code.\n\nBecause Gii may generate and save new code files in the existing application, we need to make sure that the Web server process has the proper permission to do so. The above [GiiModule::newFileMode] and [GiiModule::newDirMode] properties control how the new files and directories should be generated.\n\n> Note: Gii is mainly provided as a development tool. Therefore, it should only be installed on a development machine. Because it can generate new PHP script files in the application, we should pay sufficient attention to its security measures (e.g. password, IP filters).\n\nWe can now access Gii via the URL `http://hostname/path/to/index.php?r=gii`. Here we assume `http://hostname/path/to/index.php` is the URL for accessing the existing Yii application.\n\nIf the existing Yii application uses `path`-format URLs (see [URL management](/doc/guide/topics.url)), we can access Gii via the URL `http://hostnamepath/to/index.php/gii`. We may need to add the following URL rules to the front of the existing URL rules:\n\n~~~\n[php]\n''components''=>array(\n	......\n	''urlManager''=>array(\n		''urlFormat''=>''path'',\n		''rules''=>array(\n			''gii''=>''gii'',\n			''gii/<controller:\\w+>''=>''gii/<controller>'',\n			''gii/<controller:\\w+>/<action:\\w+>''=>''gii/<controller>/<action>'',\n			...existing rules...\n		),\n	),\n)\n~~~\n\nGii comes with a few default code generators. Each code generator is responsible for generating a specific type of code. For example, the controller generator generates a controller class together with a few action view scripts; the model generator generates an ActiveRecord class for the specified database table.\n\nThe basic workflow of using a generator is as follows:\n\n1. Enter the generator page;\n2. Fill in the fields that specify the code generation parameters. For example, to use the module generator to create a new module, you need to specify the module ID;\n3. Press the `Preview` button to preview the code to be generated. You will see a table showing a list of code files to be generated. You can click on any of them to preview the code;\n4. Press the `Generate` button to generate the code files;\n5. Review the code generation log.\n\n\nExtending Gii\n-------------\n\nWhile the default code generators coming with Gii can generate very powerful code, we often want to customize them or create new ones to fit for our taste and needs. For example, we may want the generated code to be in our own favorite coding styles, or we may want to make the code to support multiple languages. All these can be done easily with Gii.\n\nGii can be extended in two ways: customizing the code templates of the existing code generators, and writing new code generators.\n\n###Structure of a Code Generator\n\nA code generator is stored under a directory whose name is treated as the generator name. The directory usually consists of the following content:\n\n~~~\nmodel/                       the model generator root folder\n   ModelCode.php             the code model used to generate code\n   ModelGenerator.php        the code generation controller\n   views/                    containing view scripts for the generator\n      index.php              the default view script\n   templates/                containing code template sets\n      default/               the ''default'' code template set\n         model.php           the code template for generating model class code\n~~~\n\n###Generator Search Path\n\nGii looks for available generators in a set of directories specified by the [GiiModule::generatorPaths] property. When customization is needed, we can configure this property in the application configuration as follows,\n\n~~~\n[php]\nreturn array(\n	''modules''=>array(\n		''gii''=>array(\n			''class''=>''system.gii.GiiModule'',\n			''generatorPaths''=>array(\n				''application.gii'',   // a path alias\n			),\n		),\n	),\n);\n~~~\n\nThe above configuration instructs Gii to look for generators under the directory aliased as `application.gii`, in addition to the default location `system.gii.generators`.\n\nIt is possible to have two generators with the same name but under different search paths. In this case, the generator under the path specified earlier in [GiiModule::generatorPaths] will take precedence.\n\n\n###Customizing Code Templates\n\nThis is the easiest and the most common way of extending Gii. We use an example to explain how to customize code templates. Assume we want to customize the code generated by the model generator.\n\nWe first create a directory named `protected/gii/model/templates/compact`. Here `model` means that we are going to *override* the default model generator. And `templates/compact` means we will add a new code template set named `compact`.\n\nWe then modify our application configuration to add `application.gii` to [GiiModule::generatorPaths], as shown in the previous sub-section.\n\nNow open the model code generator page. Click on the `Code Template` field. We should see a dropdown list which contains our newly created template directory `compact`. However, if we choose this template to generate the code, we will see an error. This is because we have yet to put any actual code template file in this new `compact` template set.\n\nCopy the file `framework/gii/generators/model/templates/default/model.php` to `protected/gii/model/templates/compact`. If we try generating again with the `compact` template, we should succeed. However, the code generated is no different from the one generated by the `default` template set.\n\nIt is time for us to do the real customization work. Open the file `protected/gii/model/templates/compact/model.php` to edit it. Remember that this file will be used like a view script, which means it can contain PHP expressions and statements. Let''s modify the template so that the `attributeLabels()` method in the generated code uses `Yii::t()` to translate the attribute labels:\n\n~~~\n[php]\npublic function attributeLabels()\n{\n	return array(\n<?php foreach($labels as $name=>$label): ?>\n			<?php echo "''$name'' => Yii::t(''application'', ''$label''),\\n"; ?>\n<?php endforeach; ?>\n	);\n}\n~~~\n\nIn each code template, we can access some predefined variables, such as `$labels` in the above example. These variables are provided by the corresponding code generator. Different code generators may provide different set of variables in their code templates. Please read the description in the default code templates carefully.\n\n\n###Creating New Generators\n\nIn this sub-section, we show how to create a new generator that can generate a new widget class.\n\nWe first create a directory named `protected/gii/widget`. Under this directory, we will create the following files:\n\n* `WidgetGenerator.php`: contains the `WidgetGenerator` controller class. This is the entry point of the widget generator.\n* `WidgetCode.php`: contains the `WidgetCode` model class. This class has the main logic for code generation.\n* `views/index.php`: the view script showing the code generator input form.\n* `templates/default/widget.php`: the default code template for generating a widget class file.\n\n\n#### Creating `WidgetGenerator.php`\n\nThe `WidgetGenerator.php` file is extremely simple. It only contains the following code:\n\n~~~\n[php]\nclass WidgetGenerator extends CCodeGenerator\n{\n	public $codeModel=''application.gii.widget.WidgetCode'';\n}\n~~~\n\nIn the above code, we specify that the generator will use the model class whose path alias is `application.gii.widget.WidgetCode`. The `WidgetGenerator` class extends from [CCodeGenerator] which implements a lot of functionalities, including the controller actions needed to coordinate the code generation process.\n\n#### Creating `WidgetCode.php`\n\nThe `WidgetCode.php` file contains the `WidgetCode` model class that has the main logic for generating a widget class based on the user input. In this example, we assume that the only input we want from the user is the widget class name. Our `WidgetCode` looks like the following:\n\n~~~\n[php]\nclass WidgetCode extends CCodeModel\n{\n	public $className;\n\n	public function rules()\n	{\n		return array_merge(parent::rules(), array(\n			array(''className'', ''required''),\n			array(''className'', ''match'', ''pattern''=>''/^\\w+$/''),\n		));\n	}\n\n	public function attributeLabels()\n	{\n		return array_merge(parent::attributeLabels(), array(\n			''className''=>''Widget Class Name'',\n		));\n	}\n\n	public function prepare()\n	{\n		$path=Yii::getPathOfAlias(''application.components.'' . $this->className) . ''.php'';\n		$code=$this->render($this->templatepath.''/widget.php'');\n\n		$this->files[]=new CCodeFile($path, $code);\n	}\n}\n~~~\n\nThe `WidgetCode` class extends from [CCodeModel]. Like a normal model class, in this class we can declare `rules()` and `attributeLabels()` to validate user inputs and provide attribute labels, respectively. Note that because the base class [CCodeModel] already defines some rules and attribute labels, we should merge them with our new rules and labels here.\n\nThe `prepare()` method prepares the code to be generated. Its main task is to prepare a list of [CCodeFile] objects, each of which represent a code file being generated. In our example, we only need to create one [CCodeFile] object that represents the widget class file being generated. The new widget class will be generated under the `protected/components` directory. We call [CCodeFile::render] method to generate the actual code. This method includes the code template as a PHP script and returns the echoed content as the generated code.\n\n\n#### Creating `views/index.php`\n\nHaving the controller (`WidgetGenerator`) and the model (`WidgetCode`), it is time for us to create the view `views/index.php`.\n\n~~~\n[php]\n<h1>Widget Generator</h1>\n\n<?php $form=$this->beginWidget(''CCodeForm'', array(''model''=>$model)); ?>\n\n	<div class="row">\n		<?php echo $form->labelEx($model,''className''); ?>\n		<?php echo $form->textField($model,''className'',array(''size''=>65)); ?>\n		<div class="tooltip">\n			Widget class name must only contain word characters.\n		</div>\n		<?php echo $form->error($model,''className''); ?>\n	</div>\n\n<?php $this->endWidget(); ?>\n~~~\n\nIn the above, we mainly display a form using the [CCodeForm] widget. In this form, we display the field to collect the input for the `className` attribute in `WidgetCode`.\n\nWhen creating the form, we can exploit two nice features provided by the [CCodeForm] widget. One is about input tooltips. The other is about sticky inputs.\n\nIf you have tried any default code generator, you will notice that when setting focus in one input field, a nice tooltip will show up next to the field. This can easily achieved here by writing next to the input field a `div` whose CSS class is `tooltip`.\n\nFor some input fields, we may want to remember their last valid values so that the user can save the trouble of re-entering them each time they use the generator to generate code. An example is the input field collecting the controller base class name default controller generator. These sticky fields are initially displayed as highlighted static text. If we click on them, they will turn into input fields to take user inputs.\n\nIn order to declare an input field to be sticky, we need to do two things.\n\nFirst, we need to declare a `sticky` validation rule for the corresponding model attribute. For example, the default controller generator has the following rule to declare that `baseClass` and `actions` attributes are sticky:\n\n~~~\n[php]\npublic function rules()\n{\n	return array_merge(parent::rules(), array(\n		......\n		array(''baseClass, actions'', ''sticky''),\n	));\n}\n~~~\n\nSecond, we need to add a CSS class named `sticky` to the container `div` of the input field in the view, like the following:\n\n~~~\n[php]\n<div class="row sticky">\n	...input field here...\n</div>\n~~~\n\n#### Creating `templates/default/widget.php`\n\nFinally, we create the code template `templates/default/widget.php`. As we described earlier, this is used like a view script that can contain PHP expressions and statements. In a code template, we can always access the `$this` variable which refers to the code model object. In our example, `$this` refers to the `WidgetModel` object. We can thus get the user-entered widget class name via `$this->className`.\n\n~~~\n[php]\n<?php echo ''<?php''; ?>\n\nclass <?php echo $this->className; ?> extends CWidget\n{\n	public function run()\n	{\n\n	}\n}\n~~~\n\nThis concludes the creation of a new code generator. We can access this code generator immediately via the URL `http://hostname/path/to/index.php?r=gii/widget`.\n\n<div class="revision">$Id: topics.gii.txt 2055 2010-04-17 22:33:46Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(103, 'topics.i18n', 'topics.i18n', '', 'Internationalization\n====================\n\nInternationalization (I18N) refers to the process of designing a software\napplication so that it can be adapted to various languages and regions\nwithout engineering changes. For Web applications, this is of particular\nimportance because the potential users may be from worldwide.\n\nYii provides support for I18N in several aspects.\n\n   - It provides the locale data for each possible language and variant.\n   - It provides message and file translation service.\n   - It provides locale-dependent date and time formatting.\n   - It provides locale-dependent number formatting.\n\nIn the following subsections, we will elaborate each of the above aspects.\n\nLocale and Language\n-------------------\n\nLocale is a set of parameters that defines the user''s language, country\nand any special variant preferences that the user wants to see in their\nuser interface. It is usually identified by an ID consisting of a language\nID and a region ID. For example, the ID `en_US` stands for the locale of\nEnglish and United States. For consistency, all locale IDs in Yii are\ncanonicalized to the format of `LanguageID` or `LanguageID_RegionID`\nin lower case (e.g. `en`, `en_us`).\n\nLocale data is represented as a [CLocale] instance. It provides\nlocale-dependent information, including currency symbols, number symbols,\ncurrency formats, number formats, date and time formats, and date-related\nnames. Since the language information is already implied in the locale ID,\nit is not provided by [CLocale]. For the same reason, we often\ninterchangeably using the term locale and language.\n\nGiven a locale ID, one can get the corresponding [CLocale] instance by\n`CLocale::getInstance($localeID)` or `CApplication::getLocale($localeID)`.\n\n> Info: Yii comes with locale data for nearly every language and region.\nThe data is obtained from [Common Locale Data Repository](http://unicode.org/cldr/) (CLDR). For each locale, only a\nsubset of the CLDR data is provided as the original data contains a lot of\nrarely used information. Starting from version 1.1.0, users can also supply\ntheir own customized locale data. To do so, configure the [CApplication::localeDataPath]\nproperty with the directory that contains the customized locale data.\nPlease refer to the locale data files under `framework/i18n/data` in order\nto create customized locale data files.\n\nFor a Yii application, we differentiate its [target\nlanguage|CApplication::language] from [source\nlanguage|CApplication::sourceLanguage]. The target language is the language\n(locale) of the users that the application is targeted at, while the source\nlanguage refers to the language (locale) that the application source files\nare written in. Internationalization occurs only when the two languages are\ndifferent.\n\nOne can configure [target language|CApplication::language] in the\n[application configuration](/doc/guide/basics.application#application-configuration), or\nchange it dynamically before any internationalization occurs.\n\n> Tip: Sometimes, we may want to set the target language as the language\npreferred by a user (specified in user''s browser preference). To do so, we\ncan retrieve the user preferred language ID using\n[CHttpRequest::preferredLanguage].\n\nTranslation\n-----------\n\nThe most needed I18N feature is perhaps translation, including message\ntranslation and view translation. The former translates a text message to\nthe desired language, while the latter translates a whole file to the\ndesired language.\n\nA translation request consists of the object to be translated, the source\nlanguage that the object is in, and the target language that the object\nneeds to be translated to. In Yii, the source language is default to the\n[application source language|CApplication::sourceLanguage] while the target\nlanguage is default to the [application language|CApplication::language].\nIf the source and target languages are the same, translation will not\noccur.\n\n### Message Translation\n\nMessage translation is done by calling [Yii::t()|YiiBase::t]. The method\ntranslates the given message from [source\nlanguage|CApplication::sourceLanguage] to [target\nlanguage|CApplication::language].\n\nWhen translating a message, its category has to be specified since a\nmessage may be translated differently under different categories\n(contexts). The category `yii` is reserved for messages used by the Yii\nframework core code.\n\nMessages can contain parameter placeholders which will be replaced with\nthe actual parameter values when calling [Yii::t()|YiiBase::t]. For\nexample, the following message translation request would replace the\n`{alias}` placeholder in the original message with the actual alias value.\n\n~~~\n[php]\nYii::t(''yii'', ''Path alias "{alias}" is redefined.'',\n	array(''{alias}''=>$alias))\n~~~\n\n> Note: Messages to be translated must be constant strings. They should\nnot contain variables that would change message content (e.g. `"Invalid\n{$message} content."`). Use parameter placeholders if a message needs to\nvary according to some parameters.\n\nTranslated messages are stored in a repository called *message\nsource*. A message source is represented as an instance of\n[CMessageSource] or its child class. When [Yii::t()|YiiBase::t] is invoked,\nit will look for the message in the message source and return its\ntranslated version if it is found.\n\nYii comes with the following types of message sources. You may also extend\n[CMessageSource] to create your own message source type.\n\n   - [CPhpMessageSource]: the message translations are stored as key-value\npairs in a PHP array. The original message is the key and the translated\nmessage is the value. Each array represents the translations for a\nparticular category of messages and is stored in a separate PHP script file\nwhose name is the category name. The PHP translation files for the same\nlanguage are stored under the same directory named as the locale ID. And\nall these directories are located under the directory specified by\n[basePath|CPhpMessageSource::basePath].\n\n   - [CGettextMessageSource]: the message translations are stored as [GNU\nGettext](http://www.gnu.org/software/gettext/) files.\n\n   - [CDbMessageSource]: the message translations are stored in database\ntables. For more details, see the API documentation for [CDbMessageSource].\n\nA message source is loaded as an [application\ncomponent](/doc/guide/basics.application#application-component). Yii pre-declares an\napplication component named [messages|CApplication::messages] to store\nmessages that are used in user application. By default, the type of this\nmessage source is [CPhpMessageSource] and the base path for storing the PHP\ntranslation files is `protected/messages`.\n\nIn summary, in order to use message translation, the following steps are\nneeded:\n\n   1. Call [Yii::t()|YiiBase::t] at appropriate places;\n\n   2. Create PHP translation files as\n`protected/messages/LocaleID/CategoryName.php`. Each file simply returns an\narray of message translations. Note, this assumes you are using the default\n[CPhpMessageSource] to store the translated messages.\n\n   3. Configure [CApplication::sourceLanguage] and [CApplication::language].\n\n> Tip: The `yiic` tool in Yii can be used to manage message translations\nwhen [CPhpMessageSource] is used as the message source. Its `message` command\ncan automatically extract messages to be translated from selected source files\nand merge them with existing translations if necessary.\n\nStarting from version 1.0.10, when using [CPhpMessageSource] to manage message source,\nmessages for an extension class (e.g. a widget, a module) can be specially managed and used. In particular, if a message\nbelongs to an extension whose class name is `Xyz`, then the message category can be specified\nin the format of `Xyz.categoryName`. The corresponding message file will be assumed to be\n`BasePath/messages/LanguageID/categoryName.php`, where `BasePath` refers to\nthe directory that contains the extension class file. And when using `Yii::t()` to\ntranslate an extension message, the following format should be used, instead:\n\n~~~\n[php]\nYii::t(''Xyz.categoryName'', ''message to be translated'')\n~~~\n\nSince version 1.0.2, Yii has added the support for [choice format|CChoiceFormat]. Choice format\nrefers to choosing a translated according to a given number value. For example,\nin English the word ''book'' may either take a singular form or a plural form\ndepending on the number of books, while in other languages, the word may not have\ndifferent form (such as Chinese) or may have more complex 	plural form rules\n(such as Russian). Choice format solves this problem in a simple yet effective way.\n\nTo use choice format, a translated message must consist of a sequence of\nexpression-message pairs separated by `|`, as shown below:\n\n~~~\n[php]\n''expr1#message1|expr2#message2|expr3#message3''\n~~~\n\nwhere `exprN` refers to a valid PHP expression which evaluates to a boolean value\nindicating whether the corresponding message should be returned. Only the message\ncorresponding to the first expression that evaluates to true will be returned.\nAn expression can contain a special variable named `n` (note, it is not `$n`)\nwhich will take the number value passed as the first message parameter. For example,\nassuming a translated message is:\n\n~~~\n[php]\n''n==1#one book|n>1#many books''\n~~~\n\nand we are passing a number value 2 in the message parameter array when\ncalling [Yii::t()|YiiBase::t], we would obtain `many books` as the final\ntranslated message.\n\nAs a shortcut notation, if an expression is a number, it will be treated as\n`n==Number`. Therefore, the above translated message can be also be written as:\n\n~~~\n[php]\n''1#one book|n>1#many books''\n~~~\n\n\n### File Translation\n\nFile translation is accomplished by calling\n[CApplication::findLocalizedFile()]. Given the path of a file to be\ntranslated, the method will look for a file with the same name under the\n`LocaleID` subdirectory. If found, the file path will be returned;\notherwise, the original file path will be returned.\n\nFile translation is mainly used when rendering a view. When calling one of\nthe render methods in a controller or widget, the view files will be\ntranslated automatically. For example, if the [target\nlanguage|CApplication::language] is `zh_cn` while the [source\nlanguage|CApplication::sourceLanguage] is `en_us`, rendering a view named\n`edit` would resulting in searching for the view file\n`protected/views/ControllerID/zh_cn/edit.php`. If the file is found, this\ntranslated version will be used for rendering; otherwise, the file\n`protected/views/ControllerID/edit.php` will be rendered instead.\n\nFile translation may also be used for other purposes, for example,\ndisplaying a translated image or loading a locale-dependent data file.\n\nDate and Time Formatting\n------------------------\n\nDate and time are often in different formats in different countries or\nregions. The task of date and time formatting is thus to generate a date or\ntime string that fits for the specified locale. Yii provides\n[CDateFormatter] for this purpose.\n\nEach [CDateFormatter] instance is associated with a target locale. To get\nthe formatter associated with the target locale of the whole application,\nwe can simply access the [dateFormatter|CApplication::dateFormatter]\nproperty of the application.\n\nThe [CDateFormatter] class mainly provides two methods to format a UNIX\ntimestamp.\n\n   - [format|CDateFormatter::format]: this method formats the given UNIX\ntimestamp into a string according to a customized pattern (e.g.\n`$dateFormatter->format(''yyyy-MM-dd'',$timestamp)`).\n\n   - [formatDateTime|CDateFormatter::formatDateTime]: this method formats\nthe given UNIX timestamp into a string according to a pattern predefined in\nthe target locale data (e.g. `short` format of date, `long` format of\ntime).\n\nNumber Formatting\n-----------------\n\nLike data and time, numbers may also be formatted differently in different\ncountries or regions. Number formatting includes decimal formatting,\ncurrency formatting and percentage formatting. Yii provides\n[CNumberFormatter] for these tasks.\n\nTo get the number formatter associated with the target locale of the whole\napplication, we can access the\n[numberFormatter|CApplication::numberFormatter] property of the\napplication.\n\nThe following methods are provided by [CNumberFormatter] to format an\ninteger or double value.\n\n   - [format|CNumberFormatter::format]: this method formats the given\nnumber into a string according to a customized pattern (e.g.\n`$numberFormatter->format(''#,##0.00'',$number)`).\n\n   - [formatDecimal|CNumberFormatter::formatDecimal]: this method formats\nthe given number using the decimal pattern predefined in the target locale\ndata.\n\n   - [formatCurrency|CNumberFormatter::formatCurrency]: this method\nformats the given number and currency code using the currency pattern\npredefined in the target locale data.\n\n   - [formatPercentage|CNumberFormatter::formatPercentage]: this method\nformats the given number using the percentage pattern predefined in the\ntarget locale data.\n\n<div class="revision">$Id: topics.i18n.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(104, 'topics.logging', 'topics.logging', '', 'Logging\n=======\n\nYii provides a flexible and extensible logging feature. Messages logged\ncan be classified according to log levels and message categories. Using\nlevel and category filters, selected messages can be further routed to\ndifferent destinations, such as files, emails, browser windows, etc.\n\nMessage Logging\n---------------\n\nMessages can be logged by calling either [Yii::log] or [Yii::trace]. The\ndifference between these two methods is that the latter logs a message only\nwhen the application is in [debug mode](/doc/guide/basics.entry#debug-mode).\n\n~~~\n[php]\nYii::log($message, $level, $category);\nYii::trace($message, $category);\n~~~\n\nWhen logging a message, we need to specify its category and level.\nCategory is a string in the format of `xxx.yyy.zzz` which resembles to the\n[path alias](/doc/guide/basics.namespace). For example, if a message is\nlogged in [CController], we may use the category `system.web.CController`.\nMessage level should be one of the following values:\n\n   - `trace`: this is the level used by [Yii::trace]. It is for tracing\nthe execution flow of the application during development.\n\n   - `info`: this is for logging general information.\n\n   - `profile`: this is for performance profile which is to be described\nshortly.\n\n   - `warning`: this is for warning messages.\n\n   - `error`: this is for fatal error messages.\n\nMessage Routing\n---------------\n\nMessages logged using [Yii::log] or [Yii::trace] are kept in memory. We\nusually need to display them in browser windows, or save them in some\npersistent storage such as files, emails. This is called *message\nrouting*, i.e., sending messages to different destinations.\n\nIn Yii, message routing is managed by a [CLogRouter] application\ncomponent. It manages a set of the so-called *log routes*. Each log\nroute represents a single log destination. Messages sent along a log route\ncan be filtered according to their levels and categories.\n\nTo use message routing, we need to install and preload a [CLogRouter]\napplication component. We also need to configure its\n[routes|CLogRouter::routes] property with the log routes that we want. The\nfollowing shows an example of the needed [application\nconfiguration](/doc/guide/basics.application#application-configuration):\n\n~~~\n[php]\narray(\n	......\n	''preload''=>array(''log''),\n	''components''=>array(\n		......\n		''log''=>array(\n			''class''=>''CLogRouter'',\n			''routes''=>array(\n				array(\n					''class''=>''CFileLogRoute'',\n					''levels''=>''trace, info'',\n					''categories''=>''system.*'',\n				),\n				array(\n					''class''=>''CEmailLogRoute'',\n					''levels''=>''error, warning'',\n					''emails''=>''admin@example.com'',\n				),\n			),\n		),\n	),\n)\n~~~\n\nIn the above example, we have two log routes. The first route is\n[CFileLogRoute] which saves messages in a file under the application\nruntime directory. Only messages whose level is `trace` or `info` and whose\ncategory starts with `system.` are saved. The second route is\n[CEmailLogRoute] which sends messages to the specified email addresses.\nOnly messages whose level is `error` or `warning` are sent.\n\nThe following log routes are available in Yii:\n\n   - [CDbLogRoute]: saves messages in a database table.\n   - [CEmailLogRoute]: sends messages to specified email addresses.\n   - [CFileLogRoute]: saves messages in a file under the application runtime directory.\n   - [CWebLogRoute]: displays messages at the end of the current Web page.\n   - [CProfileLogRoute]: displays profiling messages at the end of the current Web page.\n\n> Info: Message routing occurs at the end of the current request cycle\nwhen the [onEndRequest|CApplication::onEndRequest] event is raised. To explicitly\nterminate the processing of the current request, call [CApplication::end()] instead\nof `die()` or `exit()`, because [CApplication::end()] will raise the\n[onEndRequest|CApplication::onEndRequest] event so that the messages can\nbe properly logged.\n\n### Message Filtering\n\nAs we mentioned, messages can be filtered according to their levels and\ncategories before they are sent long a log route. This is done by setting\nthe [levels|CLogRoute::levels] and [categories|CLogRoute::categories]\nproperties of the corresponding log route. Multiple levels or categories\nshould be concatenated by commas.\n\nBecause message categories are in the format of `xxx.yyy.zzz`, we may\ntreat them as a category hierarchy. In particular, we say `xxx` is the\nparent of `xxx.yyy` which is the parent of `xxx.yyy.zzz`. We can then use\n`xxx.*` to represent category `xxx` and all its child and grandchild\ncategories.\n\n### Logging Context Information\n\nStarting from version 1.0.6, we can specify to log additional context information,\nsuch as PHP predefined variables (e.g. `$_GET`, `$_SERVER`), session ID, user name, etc.\nThis is accomplished by specifying the [CLogRoute::filter] property of a log route to be\na suitable log filter.\n\nThe framework comes with the convenient [CLogFilter] that may be used as the needed log\nfilter in most cases. By default, [CLogFilter] will log a message with variables like\n`$_GET`, `$_SERVER` which often contains valuable system context information.\n[CLogFilter] can also be configured to prefix each logged message with session ID, username, etc.,\nwhich may greatly simplifying the global search when we are checking the numerous logged messages.\n\nThe following configuration shows how to enable logging context information. Note that each\nlog route may have its own log filter. And by default, a log route does not have a log filter.\n\n~~~\n[php]\narray(\n	......\n	''preload''=>array(''log''),\n	''components''=>array(\n		......\n		''log''=>array(\n			''class''=>''CLogRouter'',\n			''routes''=>array(\n				array(\n					''class''=>''CFileLogRoute'',\n					''levels''=>''error'',\n					''filter''=>''CLogFilter'',\n				),\n				...other log routes...\n			),\n		),\n	),\n)\n~~~\n\n\nStarting from version 1.0.7, Yii supports logging call stack information in the messages that are\nlogged by calling `Yii::trace`. This feature is disabled by default because it lowers performance.\nTo use this feature, simply define a constant named `YII_TRACE_LEVEL` at the beginning of the entry\nscript (before including `yii.php`) to be an integer greater than 0. Yii will then append to\nevery trace message with the file name and line number of the call stacks belonging to application\ncode. The number `YII_TRACE_LEVEL` determines how many layers of each call stack should be recorded.\nThis information is particularly useful during development stage as it can help us identify the\nplaces that trigger the trace messages.\n\n\nPerformance Profiling\n---------------------\n\nPerformance profiling is a special type of message logging. Performance\nprofiling can be used to measure the time needed for the specified code\nblocks and find out what the performance bottleneck is.\n\nTo use performance profiling, we need to identify which code blocks need\nto be profiled. We mark the beginning and the end of each code block by\ninserting the following methods:\n\n~~~\n[php]\nYii::beginProfile(''blockID'');\n...code block being profiled...\nYii::endProfile(''blockID'');\n~~~\n\nwhere `blockID` is an ID that uniquely identifies the code block.\n\nNote, code blocks need to be nested properly. That is, a code block cannot\nintersect with another. It must be either at a parallel level or be\ncompletely enclosed by the other code block.\n\nTo show profiling result, we need to install a [CLogRouter] application\ncomponent with a [CProfileLogRoute] log route. This is the same as we do\nwith normal message routing. The [CProfileLogRoute] route will display the\nperformance results at the end of the current page.\n\n\n### Profiling SQL Executions\n\nProfiling is especially useful when working with database since SQL executions\nare often the main performance bottleneck of an application. While we can manually\ninsert `beginProfile` and `endProfile` statements at appropriate places to measure\nthe time spent in each SQL execution, starting from version 1.0.6, Yii provides\na more systematic approach to solve this problem.\n\nBy setting [CDbConnection::enableProfiling] to be true in the application configuration,\nevery SQL statement being executed will be profiled. The results can be readily displayed\nusing the aforementioned [CProfileLogRoute], which can show us how much time is spent\nin executing what SQL statement. We can also call [CDbConnection::getStats()] to retrieve\nthe total number SQL statements executed and their total execution time.\n\n\n<div class="revision">$Id: topics.logging.txt 1147 2009-06-18 19:14:12Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(105, 'topics.performance', 'topics.performance', '', 'Performance Tuning\n==================\n\nPerformance of Web applications is affected by many factors. Database\naccess, file system operations, network bandwidth are all potential\naffecting factors. Yii has tried in every aspect to reduce the performance\nimpact caused by the framework. But still, there are many places in the\nuser application that can be improved to boost performance.\n\nEnabling APC Extension\n----------------------\n\nEnabling the [PHP APC\nextension](http://www.php.net/manual/en/book.apc.php) is perhaps the\neasiest way to improve the overall performance of an application. The\nextension caches and optimizes PHP intermediate code and avoids the time\nspent in parsing PHP scripts for every incoming request.\n\nDisabling Debug Mode\n--------------------\n\nDisabling debug mode is another easy way to improve performance. A Yii\napplication runs in debug mode if the constant `YII_DEBUG` is defined as\ntrue. Debug mode is useful during development stage, but it would impact\nperformance because some components cause extra burden in debug mode. For\nexample, the message logger may record additional debug information for\nevery message being logged.\n\nUsing `yiilite.php`\n-------------------\n\nWhen the [PHP APC extension](http://www.php.net/manual/en/book.apc.php) is\nenabled, we can replace `yii.php` with a different Yii bootstrap file named\n`yiilite.php` to further boost the performance of a Yii-powered application.\n\nThe file `yiilite.php` comes with every Yii release. It is the result of\nmerging some commonly used Yii class files. Both comments and trace\nstatements are stripped from the merged file. Therefore, using\n`yiilite.php` would reduce the number of files being included and avoid\nexecution of trace statements.\n\nNote, using `yiilite.php` without APC may actually reduce performance,\nbecause `yiilite.php` contains some classes that are not necessarily used\nin every request and would take extra parsing time. It is also observed that\nusing `yiilite.php` is slower with some server configurations, even when\nAPC is turned on. The best way to judge whether to use `yiilite.php` or not\nis to run a benchmark using the included `hello world` demo.\n\nUsing Caching Techniques\n------------------------\n\nAs described in the [Caching](/doc/guide/caching.overview) section, Yii\nprovides several caching solutions that may improve the performance of a\nWeb application significantly. If the generation of some data takes long\ntime, we can use the [data caching](/doc/guide/caching.data) approach to\nreduce the data generation frequency; If a portion of page remains\nrelatively static, we can use the [fragment\ncaching](/doc/guide/caching.fragment) approach to reduce its rendering\nfrequency; If a whole page remains relative static, we can use the [page\ncaching](/doc/guide/caching.page) approach to save the rendering cost for\nthe whole page.\n\nIf the application is using [Active Record](/doc/guide/database.ar), we\nshould turn on the schema caching to save the time of parsing database\nschema. This can be done by configuring the\n[CDbConnection::schemaCachingDuration] property to be a value greater than 0.\n\nBesides these application-level caching techniques, we can also use\nserver-level caching solutions to boost the application performance. As a\nmatter of fact, the [APC caching](/doc/guide/topics.performance#enabling-apc-extension) we\ndescribed earlier belongs to this category. There are other server\ntechniques, such as [Zend Optimizer](http://Zend.com/ZendOptimizer),\n[eAccelerator](http://eaccelerator.net/),\n[Squid](http://www.squid-cache.org/), to name a few.\n\nDatabase Optimization\n---------------------\n\nFetching data from database is often the main performance bottleneck in a\nWeb application. Although using caching may alleviate the performance hit,\nit does not fully solve the problem. When the database contains enormous\ndata and the cached data is invalid, fetching the latest data could be\nprohibitively expensive without proper database and query design.\n\nDesign index wisely in a database. Indexing can make `SELECT` queries much\nfaster, but it may slow down `INSERT`, `UPDATE` or `DELETE` queries.\n\nFor complex queries, it is recommended to create a database view for it\ninstead of issuing the queries inside the PHP code and asking DBMS to parse\nthem repetitively.\n\nDo not overuse [Active Record](/doc/guide/database.ar). Although [Active\nRecord](/doc/guide/database.ar) is good at modelling data in an OOP\nfashion, it actually degrades performance due to the fact that it needs to\ncreate one or several objects to represent each row of query result. For\ndata intensive applications, using [DAO](/doc/guide/database.dao) or\ndatabase APIs at lower level could be a better choice.\n\nLast but not least, use `LIMIT` in your `SELECT` queries. This avoids\nfetching overwhelming data from database and exhausting the memory\nallocated to PHP.\n\nMinimizing Script Files\n-----------------------\n\nComplex pages often need to include many external JavaScript and CSS files. Because each file would cause one extra round trip to the server and back, we should minimize the number of script files by merging them into fewer ones. We should also consider reducing the size of each script file to reduce the network transmission time. There are many tools around to help on these two aspects.\n\nFor a page generated by Yii, chances are that some script files are rendered by components that we do not want to modify (e.g. Yii core components, third-party components). In order to minimizing these script files, we need two steps.\n\n> Note: The `scriptMap` feature described in the following has been available since version 1.0.3.\n\nFirst, we declare the scripts to be minimized by configuring the [scriptMap|CClientScript::scriptMap] property of the [clientScript|CWebApplication::clientScript] application component. This can be done either in the application configuration or in code. For example,\n\n~~~\n[php]\n$cs=Yii::app()->clientScript;\n$cs->scriptMap=array(\n	''jquery.js''=>''/js/all.js'',\n	''jquery.ajaxqueue.js''=>''/js/all.js'',\n	''jquery.metadata.js''=>''/js/all.js'',\n	......\n);\n~~~\n\nWhat the above code does is that it maps those JavaScript files to the URL `/js/all.js`. If any of these JavaScript files need to be included by some components, Yii will include the URL (once) instead of the individual script files.\n\nSecond, we need to use some tools to merge (and perhaps compress) the JavaScript files into a single one and save it as `js/all.js`.\n\nThe same trick also applies to CSS files.\n\nWe can also improve page loading speed with the help of [Google AJAX Libraries API](http://code.google.com/apis/ajaxlibs/). For example, we can include `jquery.js` from Google servers instead of our own server. To do so, we first configure the `scriptMap` as follows,\n\n~~~\n[php]\n$cs=Yii::app()->clientScript;\n$cs->scriptMap=array(\n	''jquery.js''=>false,\n	''jquery.ajaxqueue.js''=>false,\n	''jquery.metadata.js''=>false,\n	......\n);\n~~~\n\nBy mapping these script files to false, we prevent Yii from generating the code to include these files. Instead, we write the following code in our pages to explicitly include the script files from Google,\n\n~~~\n[php]\n<head>\n<?php echo CGoogleApi::init(); ?>\n\n<?php echo CHtml::script(\n	CGoogleApi::load(''jquery'',''1.3.2'') . "\\n" .\n	CGoogleApi::load(''jquery.ajaxqueue.js'') . "\\n" .\n	CGoogleApi::load(''jquery.metadata.js'')\n); ?>\n......\n</head>\n~~~\n\n<div class="revision">$Id: topics.performance.txt 1622 2009-12-26 20:56:05Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(106, 'topics.prado', 'topics.prado', '', 'Using Alternative Template Syntax\n=================================\n\nYii allows developers to use their own favorite template syntax (e.g.\nPrado, Smarty) to write controller or widget views. This is achieved by\nwriting and installing a [viewRenderer|CWebApplication::viewRenderer]\napplication component. The view renderer intercepts the invocations of\n[CBaseController::renderFile], compiles the view file with customized\ntemplate syntax, and renders the compiling results.\n\n> Info: It is recommended to use customized template syntax only when\nwriting views that are less likely to be reused. Otherwise, people who are\nreusing the views would be forced to use the same customized template\nsyntax in their applications.\n\nIn the following, we introduce how to use [CPradoViewRenderer], a view\nrenderer that allows developers to use the template syntax similar to that\nin [Prado framework](http://www.pradosoft.com/). For people who want to\ndevelop their own view renderers, [CPradoViewRenderer] is a good reference.\n\nUsing `CPradoViewRenderer`\n--------------------------\n\nTo use [CPradoViewRenderer], we just need to configure the application as\nfollows:\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		......,\n		''viewRenderer''=>array(\n			''class''=>''CPradoViewRenderer'',\n		),\n	),\n);\n~~~\n\nBy default, [CPradoViewRenderer] will compile source view files and save\nthe resulting PHP files under the\n[runtime](/doc/guide/basics.convention#directory) directory. Only when the\nsource view files are changed, will the PHP files be re-generated.\nTherefore, using [CPradoViewRenderer] incurs very little performance\ndegradation.\n\n> Tip: While [CPradoViewRenderer] mainly introduces some new template tags\nto make writing views easier and faster, you can still write PHP code as\nusual in the source views.\n\nIn the following, we introduce the template tags that are supported by\n[CPradoViewRenderer].\n\n### Short PHP Tags\n\nShort PHP tags are shortcuts to writing PHP expressions and statements in\na view. The expression tag `<%= expression %>` is translated into\n`<?php echo expression ?>`; while the statement tag `<% statement\n%>` to `<?php statement ?>`. For example,\n\n~~~\n[php]\n<%= CHtml::textField($name,''value''); %>\n<% foreach($models as $model): %>\n~~~\n\nis translated into\n\n~~~\n[php]\n<?php echo CHtml::textField($name,''value''); ?>\n<?php foreach($models as $model): ?>\n~~~\n\n### Component Tags\n\nComponent tags are used to insert a\n[widget](/doc/guide/basics.view#widget) in a view. It uses the following\nsyntax:\n\n~~~\n[php]\n<com:WidgetClass property1=value1 property2=value2 ...>\n	// body content for the widget\n</com:WidgetClass>\n\n// a widget without body content\n<com:WidgetClass property1=value1 property2=value2 .../>\n~~~\n\nwhere `WidgetClass` specifies the widget class name or class [path\nalias](/doc/guide/basics.namespace), and property initial values can be\neither quoted strings or PHP expressions enclosed within a pair of curly\nbrackets. For example,\n\n~~~\n[php]\n<com:CCaptcha captchaAction="captcha" showRefreshButton={false} />\n~~~\n\nwould be translated as\n\n~~~\n[php]\n<?php $this->widget(''CCaptcha'', array(\n	''captchaAction''=>''captcha'',\n	''showRefreshButton''=>false)); ?>\n~~~\n\n> Note: The value for `showRefreshButton` is specified as `{false}`\ninstead of `"false"` because the latter means a string instead of a\nboolean.\n\n### Cache Tags\n\nCache tags are shortcuts to using [fragment\ncaching](/doc/guide/caching.fragment). Its syntax is as follows,\n\n~~~\n[php]\n<cache:fragmentID property1=value1 property2=value2 ...>\n	// content being cached\n</cache:fragmentID >\n~~~\n\nwhere `fragmentID` should be an identifier that uniquely identifies the\ncontent being cached, and the property-value pairs are used to configure\nthe fragment cache. For example,\n\n~~~\n[php]\n<cache:profile duration={3600}>\n	// user profile information here\n</cache:profile >\n~~~\n\nwould be translated as\n\n~~~\n[php]\n<?php if($this->cache(''profile'', array(''duration''=>3600))): ?>\n	// user profile information here\n<?php $this->endCache(); endif; ?>\n~~~\n\n### Clip Tags\n\nLike cache tags, clip tags are shortcuts to calling\n[CBaseController::beginClip] and [CBaseController::endClip] in a view. The\nsyntax is as follows,\n\n~~~\n[php]\n<clip:clipID>\n	// content for this clip\n</clip:clipID >\n~~~\n\nwhere `clipID` is an identifier that uniquely identifies the clip content.\nThe clip tags will be translated as\n\n~~~\n[php]\n<?php $this->beginClip(''clipID''); ?>\n	// content for this clip\n<?php $this->endClip(); ?>\n~~~\n\n### Comment Tags\n\nComment tags are used to write view comments that should only be visible\nto developers. Comment tags will be stripped off when the view is displayed\nto end users. The syntax for comment tags is as follows,\n\n~~~\n[php]\n<!---\nview comments that will be stripped off\n--->\n~~~\n\nMixing Template Formats\n-----------------------\n\nStarting from version 1.1.2, it is possible to mix the usage of some alternative\ntemplate syntax with the normal PHP syntax. To do so, the [CViewRenderer::fileExtension]\nproperty of the installed view renderer must be configured with a value other than\n`.php`. For example, if the property is set as `.tpl`, then any view file ending with `.tpl`\nwill be rendered using the installed view renderer, while all other view files ending\nwith `.php` will be treated as normal PHP view script.\n\n\n<div class="revision">$Id: topics.prado.txt 1983 2010-03-31 19:46:37Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(107, 'topics.security', 'topics.security', '', 'Security\n========\n\nCross-site Scripting Prevention\n-------------------------------\nCross-site scripting (also known as XSS) occurs when a web application\ngathers malicious data from a user. Often attackers will inject JavaScript,\nVBScript, ActiveX, HTML, or Flash into a vulnerable application to fool other\napplication users and gather data from them. For example, a poorly design\nforum system may display user input in forum posts without any checking.\nAn attacker can then inject a piece of malicious JavaScript code into a post\nso that when other users read this post, the JavaScript runs unexpectedly\non their computers.\n\nOne of the most important measures to prevent XSS attacks is to check user input\nbefore displaying them. One can do HTML-encoding with the user input to achieve\nthis goal. However, in some situations, HTML-encoding may not be preferable\nbecause it disables all HTML tags.\n\nYii incorporates the work of [HTMLPurifier](http://htmlpurifier.org/)\nand provides developers with a useful component called [CHtmlPurifier]\nthat encapsulates [HTMLPurifier](http://htmlpurifier.org/). This component\nis capable of removing all malicious code with a thoroughly audited,\nsecure yet permissive whitelist and making sure the filtered content is\nstandard-compliant.\n\nThe [CHtmlPurifier] component can be used as either a [widget](/doc/guide/basics.view#widget)\nor a [filter](/doc/guide/basics.controller#filter). When used as a widget,\n[CHtmlPurifier] will purify contents displayed in its body in a view. For example,\n\n~~~\n[php]\n<?php $this->beginWidget(''CHtmlPurifier''); ?>\n...display user-entered content here...\n<?php $this->endWidget(); ?>\n~~~\n\n\nCross-site Request Forgery Prevention\n-------------------------------------\n\nCross-Site Request Forgery (CSRF) attacks occur when a\nmalicious web site causes a user''s web browser to perform\nan unwanted action on a trusted site. For example, a malicious\nweb site has a page that contains an image tag whose `src` points\nto a banking site: `http://bank.example/withdraw?transfer=10000&to=someone`.\nIf a user who has a login cookie for the banking site happens to\nvisit this malicous page, the action of transferring 10000 dollars\nto someone will be executed. Contrary to cross-site,\nwhich exploits the trust a user has for a particular site,\nCSRF exploits the trust that a site has for a particular user.\n\nTo prevent CSRF attacks, it is important to abide to the rule\nthat `GET` requests should only be allowed to retrieve data rather\nthan modify any data on the server. And for `POST` requests, they\nshould include some random value which can be recognized by the server\nto ensure the form is submitted from and the result is sent back to\nthe same origin.\n\nYii implements a CSRF prevention scheme to help defeat `POST`-based attacks.\nIt is based on storing a random value in a cookie and comparing this value\nwith the value submitted via the `POST` request.\n\nBy default, the CSRF prevention is disabled. To enable it, configure the\n[CHttpRequest] application component in the\n[application configuration](/doc/guide/basics.application#application-configuration)\nas follows,\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		''request''=>array(\n			''enableCsrfValidation''=>true,\n		),\n	),\n);\n~~~\n\nAnd to display a form, call [CHtml::form] instead of writing the HTML form\ntag directly. The [CHtml::form] method will embed the necessary random\nvalue in a hidden field so that it can be submitted for CSRF validation.\n\n\nCookie Attack Prevention\n------------------------\nProtecting cookies from being attacked is of extreme importance, as session\nIDs are commonly stored in cookies. If one gets hold of a session ID,\nhe essentially owns all relevant session information.\n\nThere are several countermeasures to prevent cookies from being attacked.\n\n* An application can use SSL to create a secure communication channel and\n  only pass the authentication cookie over an HTTPS connection. Attackers\n  are thus unable to decipher the contents in the transferred cookies.\n* Expire sessions appropriately, including all cookies and session tokens,\n  to reduce the likelihood of being attacked.\n* Prevent cross-site scripting which causes arbitrary code to run in a\n  user''s browser and expose his cookies.\n* Validate cookie data and detect if they are altered.\n\nYii implements a cookie validation scheme that prevents cookies from being\nmodified. In particular, it does HMAC check for the cookie values if cookie\nvalidation is enable.\n\nCookie validation is disabled by default. To enable it, configure the\n[CHttpRequest] application component in the\n[application configuration](/doc/guide/basics.application#application-configuration)\nas follows,\n\n~~~\n[php]\nreturn array(\n	''components''=>array(\n		''request''=>array(\n			''enableCookieValidation''=>true,\n		),\n	),\n);\n~~~\n\nTo make use of the cookie validation scheme provided by Yii, we also need to\naccess cookies through the [cookies|CHttpRequest::cookies] collection, instead\nof directly through `$_COOKIES`:\n\n~~~\n[php]\n// retrieve the cookie with the specified name\n$cookie=Yii::app()->request->cookies[$name];\n$value=$cookie->value;\n......\n// send a cookie\n$cookie=new CHttpCookie($name,$value);\nYii::app()->request->cookies[$name]=$cookie;\n~~~\n\n\n<div class="revision">$Id: topics.security.txt 1458 2009-10-16 15:03:59Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(108, 'topics.theming', 'topics.theming', '', 'Theming\n=======\n\nTheming is a systematic way of customizing the outlook of pages in a Web\napplication. By applying a new theme, the overall appearance of a Web\napplication can be changed instantly and dramatically.\n\nIn Yii, each theme is represented as a directory consisting of view files,\nlayout files, and relevant resource files such as images, CSS files,\nJavaScript files, etc.  The name of a theme is its directory name. All\nthemes reside under the same directory `WebRoot/themes`. At any time, only\none theme can be active.\n\n> Tip: The default theme root directory `WebRoot/themes` can be configured\nto be a different one. Simply configure the\n[basePath|CThemeManager::basePath] and the [baseUrl|CThemeManager::baseUrl]\nproperties of the [themeManager|CWebApplication::themeManager] application\ncomponent to be the desired ones.\n\nTo activate a theme, set the [theme|CWebApplication::theme] property of\nthe Web application to be the name of the desired theme. This can be done\neither in the [application\nconfiguration](/doc/guide/basics.application#application-configuration) or during runtime in\ncontroller actions.\n\n> Note: Theme name is case-sensitive. If you attempt to activate a theme\nthat does not exist, `Yii::app()->theme` will return `null`.\n\nContents under a theme directory should be organized in the same way as\nthose under the [application base\npath](/doc/guide/basics.application#application-base-directory). For example, all view files\nmust be located under `views`, layout view files under `views/layouts`, and\nsystem view files under `views/system`. For example, if we want to replace\nthe `create` view of `PostController` with a view in the `classic` theme,\nwe should save the new view file as `WebRoot/themes/classic/views/post/create.php`.\n\nFor views belonging to controllers in a [module](/doc/guide/basics.module),\nthe corresponding themed view files should also be placed under the `views`\ndirectory. For example, if the aforementioned `PostController` is in a module\nnamed `forum`, we should save the `create` view file as `WebRoot/themes/classic/views/forum/post/create.php`. If the `forum` module\nis nested in another module named `support`, then the view file should be\n`WebRoot/themes/classic/views/support/forum/post/create.php`.\n\n> Note: Because the `views` directory may contain security-sensitive data, it should be configured to prevent from being accessed by Web users.\n\nWhen we call [render|CController::render] or\n[renderPartial|CController::renderPartial] to display a view, the\ncorresponding view file as well as the layout file will be looked for in\nthe currently active theme. And if found, those files will be rendered.\nOtherwise, it falls back to the default location as specified by\n[viewPath|CController::viewPath] and\n[layoutPath|CWebApplication::layoutPath].\n\n> Tip: Inside a theme view, we often need to link other theme resource\n> files. For example, we may want to show an image file under the theme''s\n> `images` directory. Using the [baseUrl|CTheme::baseUrl] property of the\n> currently active theme, we can generate the URL for the image as follows,\n>\n> ~~~\n> [php]\n> Yii::app()->theme->baseUrl . ''/images/FileName.gif''\n> ~~~\n>\n\nBelow is an example of directory organization for an application with two themes `basic` and `fancy`.\n\n~~~\nWebRoot/\n	assets\n	protected/\n		.htaccess\n		components/\n		controllers/\n		models/\n		views/\n			layouts/\n				main.php\n			site/\n				index.php\n	themes/\n		basic/\n			views/\n				.htaccess\n				layouts/\n					main.php\n				site/\n					index.php\n		fancy/\n			views/\n				.htaccess\n				layouts/\n					main.php\n				site/\n					index.php\n~~~\n\nIn the application configuration, if we configure\n\n~~~\n[php]\nreturn array(\n	''theme''=>''basic'',\n	......\n);\n~~~\n\nthen the `basic` theme will be in effect, which means the application''s layout will use\nthe one under the directory `themes/basic/views/layouts`, and the site''s index view will\nuse the one under `themes/basic/views/site`. In case a view file is not found in the theme,\nit will fall back to the one under the `protected/views` directory.\n\n\nCustomizing Widgets Globally\n----------------------------\n\n> Note: this feature has been available since version 1.1.3.\n\nWhen using a widget provided by third party or Yii, we often need to customize\nit for specific needs. For example, we may want to change the value of\n[CLinkPager::maxButtonCount] from 10 (default) to 5. We can accomplish this\nby passing the initial property values when calling [CBaseController::widget]\nto create a widget. However, it becomes troublesome to do so if we have to\nrepeat the same customization in every place we use [CLinkPager].\n\n~~~\n[php]\n$this->widget(''CLinkPager'', array(\n	''pages''=>$pagination,\n    ''maxButtonCount''=>5,\n    ''cssFile''=>false,\n));\n~~~\n\nUsing the global widget customization feature, we only need to specify these\ninitial values in a single place, i.e., the application configuration. This\nmakes the customization of widgets more manageable.\n\nTo use the global widget customization feature, we need to configure the\n[widgetFactory|CWebApplication::widgetFactory] as follows:\n\n~~~\n[php]\nreturn array(\n    ''components''=>array(\n        ''widgetFactory''=>array(\n            ''widgets''=>array(\n                ''CLinkPager''=>array(\n                    ''maxButtonCount''=>5,\n                    ''cssFile''=>false,\n                ),\n                ''CJuiDatePicker''=>array(\n                    ''language''=>''ru'',\n                ),\n            ),\n        ),\n    ),\n);\n~~~\n\nIn the above, we specify the global widget customization for both [CLinkPager]\nand [CJuiDatePicker] widgets by configuring the [CWidgetFactory::widgets]\nproperty. Note that the global customization for each widget is represented\nas a key-value pair in the array, where the key refers to the wiget class\nname while the value specifies the initial property value array.\n\nNow, whenever we create a [CLinkPager] widget in a view, the above property\nvalues will be assigned to the widget, and we only need to write the following\ncode in the view to create the widget:\n\n~~~\n[php]\n$this->widget(''CLinkPager'', array(\n	''pages''=>$pagination,\n));\n~~~\n\nWe can still override the initial property values when necessary. For example,\nif in some view we want to set `maxButtonCount` to be 2, we can do the following:\n\n~~~\n[php]\n$this->widget(''CLinkPager'', array(\n	''pages''=>$pagination,\n	''maxButtonCount''=>2,\n));\n~~~\n\n\nSkin\n----\n\n> Note: The skin feature has been available since version 1.1.0.\n\nWhile using a theme we can quickly change the outlook of views, we can use skins to systematically customize the outlook of the [widgets](/doc/guide/basics.view#widget) used in the views.\n\nA skin is an array of name-value pairs that can be used to initialize the properties of a widget. A skin belongs to a widget class, and a widget class can have multiple skins identified by their names. For example, we can have a skin for the [CLinkPager] widget and the skin is named as `classic`.\n\nIn order to use the skin feature, we first need to modify the application configuration by configuring the [CWidgetFactory::enableSkin] property to be true for the `widgetFactory` application component:\n\n~~~\n[php]\nreturn array(\n    ''components''=>array(\n        ''widgetFactory''=>array(\n            ''enableSkin''=>true,\n        ),\n    ),\n);\n~~~\n\nPlease note that in versions prior to 1.1.3, you need to use the following configuration to enable widget skinning:\n\n~~~\n[php]\nreturn array(\n    ''components''=>array(\n        ''widgetFactory''=>array(\n            ''class''=>''CWidgetFactory'',\n        ),\n    ),\n);\n~~~\n\nWe then create the needed skins. Skins belonging to the same widget class are stored in a single PHP script file whose name is the widget class name. All these skin files are stored under `protected/views/skins`, by default. If you want to change this to be a different directory, you may configure the `skinPath` property of the `widgetFactory` component. As an example, we may create under `protected/views/skins` a file named `CLinkPager.php` whose content is as follows,\n\n~~~\n[php]\n<?php\nreturn array(\n    ''default''=>array(\n        ''nextPageLabel''=>''&gt;&gt;'',\n        ''prevPageLabel''=>''&lt;&lt;'',\n    ),\n    ''classic''=>array(\n        ''header''=>'''',\n        ''maxButtonCount''=>5,\n    ),\n);\n~~~\n\nIn the above, we create two skins for the [CLinkPager] widget: `default` and `classic`. The former is the skin that will be applied to any [CLinkPager] widget that we do not explicitly specify its `skin` property, while the latter is the skin to be applied to a [CLinkPager] widget whose `skin` property is specified as `classic`. For example, in the following view code, the first pager will use the `default` skin while the second the `classic` skin:\n\n~~~\n[php]\n<?php $this->widget(''CLinkPager''); ?>\n\n<?php $this->widget(''CLinkPager'', array(''skin''=>''classic'')); ?>\n~~~\n\nIf we create a widget with a set of initial property values, they will take precedence and be merged with any applicable skin. For example, the following view code will create a pager whose initial values will be `array(''header''=>'''', ''maxButtonCount''=>6, ''cssFile''=>false)`, which is the result of merging the initial property values specified in the view and the `classic` skin.\n\n~~~\n[php]\n<?php $this->widget(''CLinkPager'', array(\n    ''skin''=>''classic'',\n    ''maxButtonCount''=>6,\n    ''cssFile''=>false,\n)); ?>\n~~~\n\nNote that the skin feature does NOT require using themes. However, when a theme is active, Yii will also look for skins under the `skins` directory of the theme''s view directory (e.g. `WebRoot/themes/classic/views/skins`). In case a skin with the same name exists in both the theme and the main application view directories, the theme skin will take precedence.\n\nIf a widget is using a skin that does not exist, Yii will still create the widget as usual without any error.\n\n> Info: Using skin may degrade the performance because Yii needs to look for the skin file the first time a widget is being created.\n\nSkin is very similar to the global widget customization feature. The main\ndifferences are as follows.\n\n   - Skin is more related with the customization of presentational property values;\n   - A widget can have multiple skins;\n   - Skin is themeable;\n   - Using skin is more expensive than using global widget customization.\n\n<div class="revision">$Id: topics.theming.txt 2172 2010-06-07 19:56:01Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(109, 'topics.url', 'topics.url', '', 'URL Management\n==============\n\nComplete URL management for a Web application involves two aspects. First,\nwhen a user request comes in terms of a URL, the application needs to parse\nit into understandable parameters. Second, the application needs to provide\na way of creating URLs so that the created URLs can be understood by the\napplication. For a Yii application, these are accomplished with the help\nof [CUrlManager].\n\nCreating URLs\n-------------\n\nAlthough URLs can be hardcoded in controller views, it is often more\nflexible to create them dynamically:\n\n~~~\n[php]\n$url=$this->createUrl($route,$params);\n~~~\n\nwhere `$this` refers to the controller instance; `$route` specifies the\n[route](/doc/guide/basics.controller#route) of the request; and `$params`\nis a list of `GET` parameters to be appended to the URL.\n\nBy default, URLs created by [createUrl|CController::createUrl] is in the\nso-called `get` format. For example, given `$route=''post/read''` and\n`$params=array(''id''=>100)`, we would obtain the following URL:\n\n~~~\n/index.php?r=post/read&id=100\n~~~\n\nwhere parameters appear in the query string as a list of `Name=Value`\nconcatenated with the ampersand characters, and the `r` parameter specifies\nthe request [route](/doc/guide/basics.controller#route). This URL format\nis not very user-friendly because it requires several non-word characters.\n\nWe could make the above URL look cleaner and more self-explanatory by\nusing the so-called `path` format which eliminates the query string and\nputs the GET parameters into the path info part of URL:\n\n~~~\n/index.php/post/read/id/100\n~~~\n\nTo change the URL format, we should configure the\n[urlManager|CWebApplication::urlManager] application component so that\n[createUrl|CController::createUrl] can automatically switch to the new\nformat and the application can properly understand the new URLs:\n\n~~~\n[php]\narray(\n	......\n	''components''=>array(\n		......\n		''urlManager''=>array(\n			''urlFormat''=>''path'',\n		),\n	),\n);\n~~~\n\nNote that we do not need to specify the class of the\n[urlManager|CWebApplication::urlManager] component because it is\npre-declared as [CUrlManager] in [CWebApplication].\n\n> Tip: The URL generated by the [createUrl|CController::createUrl] method\nis a relative one. In order to get an absolute URL, we can prefix it with\n`Yii::app()->hostInfo`, or call [createAbsoluteUrl|CController::createAbsoluteUrl].\n\nUser-friendly URLs\n------------------\n\nWhen `path` is used as the URL format, we can specify some URL rules to\nmake our URLs even more user-friendly. For example, we can generate a URL\nas short as `/post/100`, instead of the lengthy\n`/index.php/post/read/id/100`. URL rules are used by [CUrlManager] for both\nURL creation and parsing purposes.\n\nTo specify URL rules, we need to configure the [rules|CUrlManager::rules]\nproperty of the [urlManager|CWebApplication::urlManager] application\ncomponent:\n\n~~~\n[php]\narray(\n	......\n	''components''=>array(\n		......\n		''urlManager''=>array(\n			''urlFormat''=>''path'',\n			''rules''=>array(\n				''pattern1''=>''route1'',\n				''pattern2''=>''route2'',\n				''pattern3''=>''route3'',\n			),\n		),\n	),\n);\n~~~\n\nThe rules are specified as an array of pattern-route pairs, each\ncorresponding to a single rule. The pattern of a rule is a string\nused to match the path info part of URLs. And the route of a rule\nshould refer to a valid controller [route](/doc/guide/basics.controller#route).\n\nBesides the above pattern-route format, a rule may also be specified\nwith customized options, like the following:\n\n~~~\n[php]\n''pattern1''=>array(''route1'', ''urlSuffix''=>''.xml'', ''caseSensitive''=>false)\n~~~\n\nIn the above, the array contains a list of customized options. As of version 1.1.0,\nthe following options are available:\n\n   - [urlSuffix|CUrlRule::urlSuffix]: the URL suffix used specifically for this rule. Defaults to null,\nmeaning using the value of [CUrlManager::urlSuffix].\n\n   - [caseSensitive|CUrlRule::caseSensitive]: whether this rule is case sensitive. Defaults to null,\nmeaning using the value of [CUrlManager::caseSensitive].\n\n   - [defaultParams|CUrlRule::defaultParams]: the default GET parameters (name=>value) that this rule provides.\nWhen this rule is used to parse the incoming request, the values declared in this property\nwill be injected into $_GET.\n\n   - [matchValue|CUrlRule::matchValue]: whether the GET parameter values should match the corresponding\nsub-patterns in the rule when creating a URL. Defaults to null,\nmeaning using the value of [CUrlManager::matchValue]. If this property is false, it means\na rule will be used for creating a URL if its route and parameter names match the given ones.\nIf this property is set true, then the given parameter values must also match the corresponding\nparameter sub-patterns. Note that setting this property to true will degrade performance.\n\n\n### Using Named Parameters\n\nA rule can be associated with a few GET parameters. These GET parameters\nappear in the rule''s pattern as special tokens in the following format:\n\n~~~\n&lt;ParamName:ParamPattern&gt;\n~~~\n\nwhere `ParamName` specifies the name of a GET parameter, and the optional\n`ParamPattern` specifies the regular expression that should be used to\nmatch the value of the GET parameter. In case when `ParamPattern` is omitted,\nit means the parameter should match any characters except the slash `/`.\nWhen creating a URL, these parameter\ntokens will be replaced with the corresponding parameter values; when\nparsing a URL, the corresponding GET parameters will be populated with the\nparsed results.\n\nLet''s use some examples to explain how URL rules work. We assume that our\nrule set consists of three rules:\n\n~~~\n[php]\narray(\n	''posts''=>''post/list'',\n	''post/<id:\\d+>''=>''post/read'',\n	''post/<year:\\d{4}>/<title>''=>''post/read'',\n)\n~~~\n\n   - Calling `$this->createUrl(''post/list'')` generates `/index.php/posts`.\nThe first rule is applied.\n\n   - Calling `$this->createUrl(''post/read'',array(''id''=>100))` generates\n`/index.php/post/100`. The second rule is applied.\n\n   - Calling `$this->createUrl(''post/read'',array(''year''=>2008,''title''=>''a\nsample post''))` generates `/index.php/post/2008/a%20sample%20post`. The\nthird rule is applied.\n\n   - Calling `$this->createUrl(''post/read'')` generates\n`/index.php/post/read`. None of the rules is applied.\n\nIn summary, when using [createUrl|CController::createUrl] to generate a\nURL, the route and the GET parameters passed to the method are used to\ndecide which URL rule to be applied. If every parameter associated with a\nrule can be found in the GET parameters passed to\n[createUrl|CController::createUrl], and if the route of the rule also\nmatches the route parameter, the rule will be used to generate the URL.\n\nIf the GET parameters passed to [createUrl|CController::createUrl] are\nmore than those required by a rule, the additional parameters will appear\nin the query string. For example, if we call\n`$this->createUrl(''post/read'',array(''id''=>100,''year''=>2008))`, we would\nobtain `/index.php/post/100?year=2008`. In order to make these additional\nparameters appear in the path info part, we should append `/*` to the rule.\nTherefore, with the rule `post/<id:\\d+>/*`, we can obtain the URL as\n`/index.php/post/100/year/2008`.\n\nAs we mentioned, the other purpose of URL rules is to parse the requesting\nURLs. Naturally, this is an inverse process of URL creation. For example,\nwhen a user requests for `/index.php/post/100`, the second rule in the\nabove example will apply, which resolves in the route `post/read` and the\nGET parameter `array(''id''=>100)` (accessible via `$_GET`).\n\n\n> Note: Using URL rules will degrade application performance. This is\nbecause when parsing the request URL, [CUrlManager] will attempt to match\nit with each rule until one can be applied. The more the number of rules,\nthe more the performance impact. Therefore, a high-traffic Web\napplication should minimize its use of URL rules.\n\n\n### Parameterizing Routes\n\nStarting from version 1.0.5, we may reference named parameters in the route part\nof a rule. This allows a rule to be applied to multiple routes based on matching\ncriteria. It may also help reduce the number of rules needed for an application,\nand thus improve the overall performance.\n\nWe use the following example rules to illustrate how to parameterize routes\nwith named parameters:\n\n~~~\n[php]\narray(\n	''<_c:(post|comment)>/<id:\\d+>/<_a:(create|update|delete)>'' => ''<_c>/<_a>'',\n	''<_c:(post|comment)>/<id:\\d+>'' => ''<_c>/read'',\n	''<_c:(post|comment)>s'' => ''<_c>/list'',\n)\n~~~\n\nIn the above, we use two named parameters in the route part of the rules:\n`_c` and `_a`. The former matches a controller ID to be either `post` or `comment`,\nwhile the latter matches an action ID to be `create`, `update` or `delete`.\nYou may name the parameters differently as long as they do not conflict with\nGET parameters that may appear in URLs.\n\nUsing the aboving rules, the URL `/index.php/post/123/create`\nwould be parsed as the route `post/create` with GET parameter `id=123`.\nAnd given the route `comment/list` and GET parameter `page=2`, we can create a URL\n`/index.php/comments?page=2`.\n\n\n### Parameterizing Hostnames\n\nStarting from version 1.0.11, it is also possible to include hostname into the rules\nfor parsing and creating URLs. One may extract part of the hostname to be a GET parameter.\nFor example, the URL `http://admin.example.com/en/profile` may be parsed into GET parameters\n`user=admin` and `lang=en`. On the other hand, rules with hostname may also be used to\ncreate URLs with paratermized hostnames.\n\nIn order to use parameterized hostnames, simply declare URL rules with host info, e.g.:\n\n~~~\n[php]\narray(\n	''http://<user:\\w+>.example.com/<lang:\\w+>/profile'' => ''user/profile'',\n)\n~~~\n\nThe above example says that the first segment in the hostname should be treated as `user`\nparameter while the first segment in the path info should be `lang` parameter. The rule\ncorresponds to the `user/profile` route.\n\nNote that [CUrlManager::showScriptName] will not take effect when a URL is being created\nusing a rule with parameterized hostname.\n\nAlso note that the rule with parameterized hostname should NOT contain the sub-folder\nif the application is under a sub-folder of the Web root. For example, if the application\nis under `http://www.example.com/sandbox/blog`, then we should still use the same URL rule\nas described above without the sub-folder `sandbox/blog`.\n\n### Hiding `index.php`\n\nThere is one more thing that we can do to further clean our URLs, i.e.,\nhiding the entry script `index.php` in the URL. This requires us to\nconfigure the Web server as well as the\n[urlManager|CWebApplication::urlManager] application component.\n\nWe first need to configure the Web server so that a URL without the entry\nscript can still be handled by the entry script. For [Apache HTTP\nserver](http://httpd.apache.org/), this can be done by turning on the URL\nrewriting engine and specifying some rewriting rules. We can create\nthe file `/wwwroot/blog/.htaccess` with the following content.\nNote that the same content can also be put in the Apache configuration\nfile within the `Directory` element for `/wwwroot/blog`.\n\n~~~\nOptions +FollowSymLinks\nIndexIgnore */*\nRewriteEngine on\n\n# if a directory or a file exists, use it directly\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\n# otherwise forward it to index.php\nRewriteRule . index.php\n~~~\n\nWe then configure the [showScriptName|CUrlManager::showScriptName]\nproperty of the [urlManager|CWebApplication::urlManager] component to be\n`false`.\n\nNow if we call `$this->createUrl(''post/read'',array(''id''=>100))`, we would\nobtain the URL `/post/100`. More importantly, this URL can be properly\nrecognized by our Web application.\n\n### Faking URL Suffix\n\nWe may also add some suffix to our URLs. For example, we can have\n`/post/100.html` instead of `/post/100`. This makes it look more like a URL\nto a static Web page. To do so, simply configure the\n[urlManager|CWebApplication::urlManager] component by setting its\n[urlSuffix|CUrlManager::urlSuffix] property to the suffix you like.\n\n<div class="revision">$Id: topics.url.txt 1809 2010-02-17 22:08:34Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(110, 'topics.webservice', 'topics.webservice', '', 'Web Service\n===========\n\n[Web service](http://en.wikipedia.org/wiki/Web_service) is a software\nsystem designed to support interoperable machine-to-machine interaction\nover a network. In the context of Web applications, it usually refers to a\nset of APIs that can be accessed over the Internet and executed on a remote\nsystem hosting the requested service. For example, a\n[Flex](http://www.adobe.com/products/flex/)-based client may invoke a\nfunction implemented on the server side running a PHP-based Web\napplication. Web service relies on\n[SOAP](http://en.wikipedia.org/wiki/SOAP) as its foundation layer of the\ncommunication protocol stack.\n\nYii provides [CWebService] and [CWebServiceAction] to simplify the work of\nimplementing Web service in a Web application. The APIs are grouped into\nclasses, called *service providers*. Yii will generate for each\nclass a [WSDL](http://www.w3.org/TR/wsdl) specification which describes\nwhat APIs are available and how they should be invoked by client. When an\nAPI is invoked by a client, Yii will instantiate the corresponding service\nprovider and call the requested API to fulfill the request.\n\n> Note: [CWebService] relies on the [PHP SOAP\nextension](http://www.php.net/manual/en/ref.soap.php). Make sure you have\nenabled it before trying the examples displayed in this section.\n\nDefining Service Provider\n-------------------------\n\nAs we mentioned above, a service provider is a class defining the methods\nthat can be remotely invoked. Yii relies on [doc\ncomment](http://java.sun.com/j2se/javadoc/writingdoccomments/) and [class\nreflection](http://php.net/manual/en/book.reflection.php) to\nidentify which methods can be remotely invoked and what are their\nparameters and return value.\n\nLet''s start with a simple stock quoting service. This service allows a\nclient to request for the quote of the specified stock. We define the\nservice provider as follows. Note that we define the provider class\n`StockController` by extending [CController]. This is not required. We will\nexplain why we do so shortly.\n\n~~~\n[php]\nclass StockController extends CController\n{\n	/**\n	 * @param string the symbol of the stock\n	 * @return float the stock price\n	 * @soap\n	 */\n	public function getPrice($symbol)\n	{\n		$prices=array(''IBM''=>100, ''GOOGLE''=>350);\n		return isset($prices[$symbol])?$prices[$symbol]:0;\n	    //...return stock price for $symbol\n	}\n}\n~~~\n\nIn the above, we declare the method `getPrice` to be a Web service API by\nmarking it with the tag `@soap` in its doc comment. We rely on doc comment\nto specify the data type of the input parameters and return value.\nAdditional APIs can be declared in the similar way.\n\nDeclaring Web Service Action\n----------------------------\n\nHaving defined the service provider, we need to make it available to\nclients. In particular, we want to create a controller action to expose the\nservice. This can be done easily by declaring a [CWebServiceAction] action\nin a controller class. For our example, we will just put it in\n`StockController`.\n\n~~~\n[php]\nclass StockController extends CController\n{\n	public function actions()\n	{\n		return array(\n			''quote''=>array(\n				''class''=>''CWebServiceAction'',\n			),\n		);\n	}\n\n	/**\n	 * @param string the symbol of the stock\n	 * @return float the stock price\n	 * @soap\n	 */\n	public function getPrice($symbol)\n	{\n	    //...return stock price for $symbol\n	}\n}\n~~~\n\nThat is all we need to create a Web service! If we try to access the\naction by URL `http://hostname/path/to/index.php?r=stock/quote`, we will\nsee a lot of XML content which is actually the WSDL for the Web service we\ndefined.\n\n> Tip: By default, [CWebServiceAction] assumes the current controller is\nthe service provider. That is why we define the `getPrice` method inside\nthe `StockController` class.\n\nConsuming Web Service\n---------------------\n\nTo complete the example, let''s create a client to consume the Web service\nwe just created. The example client is written in PHP, but it could be in\nother languages, such as `Java`, `C#`, `Flex`, etc.\n\n~~~\n[php]\n$client=new SoapClient(''http://hostname/path/to/index.php?r=stock/quote'');\necho $client->getPrice(''GOOGLE'');\n~~~\n\nRun the above script in either Web or console mode, and we shall see `350`\nwhich is the price for `GOOGLE`.\n\nData Types\n----------\n\nWhen declaring class methods and properties to be remotely accessible, we\nneed to specify the data types of the input and output parameters. The\nfollowing primitive data types can be used:\n\n   - str/string: maps to `xsd:string`;\n   - int/integer: maps to `xsd:int`;\n   - float/double: maps to `xsd:float`;\n   - bool/boolean: maps to `xsd:boolean`;\n   - date: maps to `xsd:date`;\n   - time: maps to `xsd:time`;\n   - datetime: maps to `xsd:dateTime`;\n   - array: maps to `xsd:string`;\n   - object: maps to `xsd:struct`;\n   - mixed: maps to `xsd:anyType`.\n\nIf a type is not any of the above primitive types, it is considered as a\ncomposite type consisting of properties. A composite type is represented in\nterms of a class, and its properties are the class'' public member variables\nmarked with `@soap` in their doc comments.\n\nWe can also use array type by appending `[]` to the end of a primitive or\ncomposite type. This would specify an array of the specified type.\n\nBelow is an example defining the `getPosts` Web API which returns an array\nof `Post` objects.\n\n~~~\n[php]\nclass PostController extends CController\n{\n	/**\n	 * @return Post[] a list of posts\n	 * @soap\n	 */\n	public function getPosts()\n	{\n		return Post::model()->findAll();\n	}\n}\n\nclass Post extends CActiveRecord\n{\n	/**\n	 * @var integer post ID\n	 * @soap\n	 */\n	public $id;\n	/**\n	 * @var string post title\n	 * @soap\n	 */\n	public $title;\n\n	public static function model($className=__CLASS__)\n	{\n		return parent::model($className);\n	}\n}\n~~~\n\nClass Mapping\n-------------\n\nIn order to receive parameters of composite type from client, an\napplication needs to declare the mapping from WSDL types to the\ncorresponding PHP classes. This is done by configuring the\n[classMap|CWebServiceAction::classMap] property of [CWebServiceAction].\n\n~~~\n[php]\nclass PostController extends CController\n{\n	public function actions()\n	{\n		return array(\n			''service''=>array(\n				''class''=>''CWebServiceAction'',\n				''classMap''=>array(\n					''Post''=>''Post'',  // or simply ''Post''\n				),\n			),\n		);\n	}\n	......\n}\n~~~\n\nIntercepting Remote Method Invocation\n-------------------------------------\n\nBy implementing the [IWebServiceProvider] interface, a sevice provider can\nintercept remote method invocations. In\n[IWebServiceProvider::beforeWebMethod], the provider may retrieve the\ncurrent [CWebService] instance and obtain the the name of the method\ncurrently being requested via [CWebService::methodName]. It can return\nfalse if the remote method should not be invoked for some reason (e.g.\nunauthorized access).\n\n<div class="revision">$Id: topics.webservice.txt 1808 2010-02-17 21:49:42Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(111, 'upgrade', 'upgrade', '', 'Upgrading from Version 1.0 to 1.1\n=================================\n\nChanges Related with Model Scenarios\n------------------------------------\n\n- Removed CModel::safeAttributes(). Safe attributes are now defined to\nbe those that are being validated by some rules as defined in CModel::rules()\nfor the particular scenario.\n\n- Changed CModel::validate(), CModel::beforeValidate() and CModel::afterValidate().\nCModel::setAttributes(), CModel::getSafeAttributeNames()\nThe ''scenario'' parameter is removed. You should get and set the model scenario\nvia CModel::scenario.\n\n- Changed CModel::getValidators() and removed CModel::getValidatorsForAttribute().\nCModel::getValidators() now only returns validators applicable to the scenario\nas specified by the model''s scenario property.\n\n- Changed CModel::isAttributeRequired() and CModel::getValidatorsForAttribute().\nThe scenario parameter is removed. The model''s scenario property will be\nused, instead.\n\n- Removed CHtml::scenario. CHtml will use the model''s scenario property instead.\n\n\nChanges Related with Eager Loading for Relational Active Record\n---------------------------------------------------------------\n\n- By default, a single JOIN statement will be generated and executed\nfor all relations involved in the eager loading. If the primary table\nhas its `LIMIT` or `OFFSET` query option set, it will be queried alone\nfirst, followed by another SQL statement that brings back all its related\nobjects. Previsoulay in version 1.0.x, the default behavior is that\nthere will be `N+1` SQL statements if an eager loading involves\n`N` `HAS_MANY` or `MANY_MANY` relations.\n\nChanges Related with Table Alias in Relational Active Record\n------------------------------------------------------------\n\n- The default alias for a relational table is now the same as the corresponding\nrelation name. Previously in version 1.0.x, by default Yii would automatically\ngenerate a table alias for each relational table, and we had to use the prefix\n`??.` to refer to this automatically generated alias.\n\n- The alias name for the primary table in an AR query is fixed to be `t`.\nPrevisouly in version 1.0.x, it was the same as the table name. This will cause\nexisting AR query code to break if they explicity specify column prefixes using\nthe table name. The solution is to replace these prefixes with ''t.''.\n\n\nChanges Related with Tabular Input\n----------------------------------\n\n- For attribute names, using `Field[$i]` is not valid anymore, they should look\nlike `[$i]Field` in order to support array-typed fields (e.g. `[$i]Field[$index]`).\n\nOther Changes\n-------------\n\n- The signature of the [CActiveRecord] constructor is changed. The first parameter\n(list of attributes) is removed.\n\n<div class="revision">$Id: upgrade.txt 1819 2010-02-18 22:56:55Z qiang.xue $</div>', 'guide', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(112, 'comment.admin', 'comment.admin', '', 'Managing Comments\n=================\n\nComment management includes updating, deleting and approving comments. These operations are implemented as actions in the `CommentController` class.\n\n\nUpdating and Deleting Comments\n------------------------------\n\nThe code generated by `yiic` for updating and deleting comments remains largely unchanged.\n\n\nApproving Comments\n------------------\n\nWhen comments are newly created, they are in pending approval status and need to be approved in order to be visible to guest users. Approving a comment is mainly about changing the status column of the comment.\n\nWe create an `actionApprove()` method in `CommentController` as follows,\n\n~~~\n[php]\npublic function actionApprove()\n{\n	if(Yii::app()->request->isPostRequest)\n	{\n		$comment=$this->loadModel();\n		$comment->approve();\n		$this->redirect(array(''index''));\n	}\n	else\n		throw new CHttpException(400,''Invalid request...'');\n}\n~~~\n\nIn the above, when the `approve` action is invoked via a POST request, we call the `approve()` method defined in the `Comment` model to change the status. We then redirect the user browser to the page displaying the post that this comment belongs to.\n\nWe also modify the `actionIndex()` method of `Comment` to show all comments. We would like to see comments pending approved to show up first.\n\n~~~\n[php]\npublic function actionIndex()\n{\n	$dataProvider=new CActiveDataProvider(''Comment'', array(\n		''criteria''=>array(\n			''with''=>''post'',\n			''order''=>''t.status, t.create_time DESC'',\n		),\n	));\n\n	$this->render(''index'',array(\n		''dataProvider''=>$dataProvider,\n	));\n}\n~~~\n\nNotice that in the above code, because both `tbl_post` and `tbl_comment` have columns `status` and `create_time`, we need to disambiguate the corresponding column reference by prefixing them with table alias names. As described in [the guide](http://www.yiiframework.com/doc/guide/database.arr#disambiguating-column-names), the alias for the primary table in a relational query is always `t`. Therefore, we are prefixing `t` to the `status` and `create_time` columns in the above code.\n\nLike the post index view, the `index` view for `CommentController` uses [CListView] to display the comment list which in turn uses the partial view `/wwwroot/blog/protected/views/comment/_view.php` to display the detail of each individual comment. We will not go into details here. Interested readers may refer to the corresponding file in the blog demo `/wwwroot/yii/demos/blog/protected/views/comment/_view.php`.\n\n<div class="revision">$Id: comment.admin.txt 1810 2010-02-18 00:24:54Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(113, 'comment.create', 'comment.create', '', 'Creating and Displaying Comments\n================================\n\nIn this section, we implement the comment display and creation features.\n\nIn order to enhance the user interactivity, we would like to prompt users the possible errors each time he finishes entering one field. This is known client-side input validation. We will show how this can be done in Yii seamlessly and extremely easy. Note that this requires Yii version 1.1.1 or later.\n\n\nDisplaying Comments\n-------------------\n\nInstead of displaying and creating comments on individual pages, we use the post detail page (generated by the `view` action of `PostController`). Below the post content display, we display first a list of comments belonging to that post and then a comment creation form.\n\nIn order to display comments on the post detail page, we modify the view script `/wwwroot/blog/protected/views/post/view.php` as follows,\n\n~~~\n[php]\n...post view here...\n\n<div id="comments">\n	<?php if($model->commentCount>=1): ?>\n		<h3>\n			<?php echo $model->commentCount . ''comment(s)''; ?>\n		</h3>\n\n		<?php $this->renderPartial(''_comments'',array(\n			''post''=>$model,\n			''comments''=>$model->comments,\n		)); ?>\n	<?php endif; ?>\n</div>\n~~~\n\nIn the above, we call `renderPartial()` to render a partial view named `_comments` to display the list of comments belonging to the current post. Note that in the view we use the expression `$model->comments` to retrieve the comments for the post. This is valid because we have declared a `comments` relation in the `Post` class. Evaluating this expression would trigger an implicit JOIN database query to bring back the proper comments. This feature is known as [lazy relational query](http://www.yiiframework.com/doc/guide/database.arr).\n\nThe partial view `_comments` is not very interesting. It mainly goes through every comment and displays the detail of it. Interested readers may refer to `/wwwroot/yii/demos/blog/protected/post/_comments.php`.\n\n\nCreating Comments\n-----------------\n\nTo handle comment creation, we first modify the `actionView()` method of `PostController` as follows,\n\n~~~\n[php]\npublic function actionView()\n{\n	$post=$this->loadModel();\n	$comment=$this->newComment($post);\n\n	$this->render(''view'',array(\n		''model''=>$post,\n		''comment''=>$comment,\n	));\n}\n\nprotected function newComment($post)\n{\n	$comment=new Comment;\n	if(isset($_POST[''Comment'']))\n	{\n		$comment->attributes=$_POST[''Comment''];\n		if($post->addComment($comment))\n		{\n			if($comment->status==Comment::STATUS_PENDING)\n				Yii::app()->user->setFlash(''commentSubmitted'',''Thank you...'');\n			$this->refresh();\n		}\n	}\n	return $comment;\n}\n~~~\n\nIn the above, we call the `newComment()` method before we render `view`. In the `newComment()` method, we generate a `Comment` instance and check if the comment form is submitted. If so, we try to add the comment for the post by calling `$post->addComment($comment)`. If it goes through, we refresh the post detail page. In case the comment needs to be approved, we will show a flash message to indicate this decision. A flash message is usually a confirmation message displayed to end users. If the user clicks on the refresh button of his browser, the message will disappear.\n\nWe also need to modify `/wwwroot/blog/protected/views/post/view.php` furthermore,\n\n~~~\n[php]\n......\n<div id="comments">\n	......\n	<h3>Leave a Comment</h3>\n\n	<?php if(Yii::app()->user->hasFlash(''commentSubmitted'')): ?>\n		<div class="flash-success">\n			<?php echo Yii::app()->user->getFlash(''commentSubmitted''); ?>\n		</div>\n	<?php else: ?>\n		<?php $this->renderPartial(''/comment/_form'',array(\n			''model''=>$comment,\n		)); ?>\n	<?php endif; ?>\n\n</div><!-- comments -->\n~~~\n\nIn the above code, we display the flash message if it is available. If not, we display the comment input form by rendering the partial view `/wwwroot/blog/protected/views/comment/_form.php`.\n\n\nClient-side Validation\n----------------------\n\nIn order to support client-side validation of the comment form, we need to make some minor changes to both the comment form view `/wwwroot/blog/protected/views/comment/_form.php` and the `newComment()` method.\n\nIn the `_form.php` file, we mainly need to set [CActiveForm::enableAjaxValidation] to be true when we create the [CActiveForm] widget:\n\n~~~\n[php]\n<div class="form">\n\n<?php $form=$this->beginWidget(''CActiveForm'', array(\n	''id''=>''comment-form'',\n	''enableAjaxValidation''=>true,\n)); ?>\n......\n<?php $this->endWidget(); ?>\n\n</div><!-- form -->\n~~~\n\nAnd in the `newComment()` method, we insert a piece of code to respond to the AJAX validation requests. The code checks if there is a `POST` variable named `ajax`. If so, it displays the validation results by calling [CActiveForm::validate].\n\n~~~\n[php]\nprotected function newComment($post)\n{\n	$comment=new Comment;\n\n	if(isset($_POST[''ajax'']) && $_POST[''ajax'']===''comment-form'')\n	{\n		echo CActiveForm::validate($comment);\n		Yii::app()->end();\n	}\n\n	if(isset($_POST[''Comment'']))\n	{\n		$comment->attributes=$_POST[''Comment''];\n		if($post->addComment($comment))\n		{\n			if($comment->status==Comment::STATUS_PENDING)\n				Yii::app()->user->setFlash(''commentSubmitted'',''Thank you...'');\n			$this->refresh();\n		}\n	}\n	return $comment;\n}\n~~~\n\n<div class="revision">$Id: comment.create.txt 1753 2010-01-25 18:25:03Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(114, 'comment.model', 'comment.model', '', 'Customizing Comment Model\n=========================\n\nFor the `Comment` model, we mainly need to customize the `rules()` and `attributeLabels()` methods. The `attributeLabels()` method returns a mapping between attribute names and attribute labels. We do not need to touch `relations()` since the code generated by the `yiic` tool is good enough.\n\n\nCustomizing `rules()` Method\n----------------------------\n\nWe first customize the validation rules generated by the `yiic` tool. The following rules are used for comments:\n\n~~~\n[php]\npublic function rules()\n{\n	return array(\n		array(''content, author, email'', ''required''),\n		array(''author, email, url'', ''length'', ''max''=>128),\n		array(''email'',''email''),\n		array(''url'',''url''),\n	);\n}\n~~~\n\nIn the above, we specify that the `author`, `email` and `content` attributes are required; the length of `author`, `email` and `url` cannot exceed 128; the `email` attribute must be a valid email address; and the `url` attribute must be a valid URL.\n\n\nCustomizing `attributeLabels()` Method\n--------------------------------------\n\nWe then customize the `attributeLabels()` method to declare the label display for each model attribute. This method returns an array consisting of name-label pairs. When we call [CHtml::activeLabel()] to display an attribute label.\n\n~~~\n[php]\npublic function attributeLabels()\n{\n	return array(\n		''id'' => ''Id'',\n		''content'' => ''Comment'',\n		''status'' => ''Status'',\n		''create_time'' => ''Create Time'',\n		''author'' => ''Name'',\n		''email'' => ''Email'',\n		''url'' => ''Website'',\n		''post_id'' => ''Post'',\n	);\n}\n~~~\n\n> Tip: If the label for an attribute is not declared in `attributeLabels()`, an algorithm will be used to generate an appropriate label. For example, a label `Create Time` will be generated for attributes `create_time` or `createTime`.\n\n\nCustomizing Saving Process\n--------------------------\n\nBecause we want to record the creation time of a comment, we override the `beforeSave()` method of `Comment` like we do for the `Post` model:\n\n~~~\n[php]\nprotected function beforeSave()\n{\n	if(parent::beforeSave())\n	{\n		if($this->isNewRecord)\n			$this->create_time=time();\n		return true;\n	}\n	else\n		return false;\n}\n~~~\n\n\n<div class="revision">$Id: comment.model.txt 1733 2010-01-21 16:54:29Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(115, 'final.deployment', 'final.deployment', '', 'Final Tune-up and Deployment\n============================\n\nWe are close to finish our blog application. Before deployment, we would like to do some tune-ups.\n\n\nChanging Home Page\n------------------\n\nWe change to use the post list page as the home page. We modify the [application configuration](http://www.yiiframework.com/doc/guide/basics.application#application-configuration) as follows,\n\n~~~\n[php]\nreturn array(\n	......\n	''defaultController''=>''post'',\n	......\n);\n~~~\n\n> Tip: Because `PostController` already declares `index` to be its default action, when we access the home page of the application, we will see the result generated by the `index` action of the post controller.\n\n\nEnabling Schema Caching\n-----------------------\n\nBecause ActiveRecord relies on the metadata about tables to determine the column information, it takes time to read the metadata and analyze it. This may not be a problem during development stage, but for an application running in production mode, it is a total waste of time if the database schema does not change. Therefore, we should enable the schema caching by modifying the application configuration as follows,\n\n~~~\n[php]\nreturn array(\n	......\n	''components''=>array(\n		......\n		''cache''=>array(\n			''class''=>''CDbCache'',\n		),\n		''db''=>array(\n			''class''=>''system.db.CDbConnection'',\n			''connectionString''=>''sqlite:/wwwroot/blog/protected/data/blog.db'',\n			''schemaCachingDuration''=>3600,\n		),\n	),\n);\n~~~\n\nIn the above, we first add a `cache` component which uses a default SQLite database as the caching storage. If our server is equipped with other caching extensions, such as APC, we could change to use them as well. We also modify the `db` component by setting its [schemaCachingDuration|CDbConnection::schemaCachingDuration] property to be 3600, which means the parsed database schema data can remain valid in cache for 3600 seconds.\n\n\nDisabling Debugging Mode\n------------------------\n\nWe modify the entry script file `/wwwroot/blog/index.php` by removing the line defining the constant `YII_DEBUG`. This constant is useful during development stage because it allows Yii to display more debugging information when an error occurs. However, when the application is running in production mode, displaying debugging information is not a good idea because it may contain sensitive information such as where the script file is located, and the content in the file, etc.\n\n\nDeploying the Application\n-------------------------\n\nThe final deployment process manly involves copying the directory `/wwwroot/blog` to the target directory. The following checklist shows every needed step:\n\n 1. Install Yii in the target place if it is not available;\n 2. Copy the entire directory `/wwwroot/blog` to the target place;\n 3. Edit the entry script file `index.php` by pointing the `$yii` variable to the new Yii bootstrap file;\n 4. Edit the file `protected/yiic.php` by setting the `$yiic` variable to be the new Yii `yiic.php` file;\n 5. Change the permission of the directories `assets` and `protected/runtime` so that they are writable by the Web server process.\n\n\n<div class="revision">$Id: final.deployment.txt 2017 2010-04-05 17:12:13Z alexander.makarow $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(116, 'final.future', 'final.future', '', 'Future Enhancements\n===================\n\nUsing a Theme\n-------------\n\nWithout writing any code, our blog application is already [themeable](http://www.yiiframework.com/doc/guide/topics.theming). To use a theme, we mainly need to develop the theme by writing customized view files in the theme. For example, to use a theme named `classic` that uses a different page layout, we would create a layout view file `/wwwroot/blog/themes/classic/views/layouts/main.php`. We also need to change the application configuration to indicate our choice of the `classic` theme:\n\n~~~\n[php]\nreturn array(\n	......\n	''theme''=>''classic'',\n	......\n);\n~~~\n\n\nInternationalization\n--------------------\n\nWe may also internationalize our blog application so that its pages can be displayed in different languages. This mainly involves efforts in two aspects.\n\nFirst, we may create view files in different languages. For example, for the `index` page of `PostController`, we can create a view file `/wwwroot/blog/protected/views/post/zh_cn/index.php`. When the application is configured to use simplified Chinese (the language code is `zh_cn`), Yii will automatically use this new view file instead of the original one.\n\nSecond, we may create message translations for those messages generated by code. The message translations should be saved as files under the directory `/wwwroot/blog/protected/messages`. We also need to modify the code where we use text strings by enclosing them in the method call `Yii::t()`.\n\nFor more details about internationalization, please refer to [the Guide](http://www.yiiframework.com/doc/guide/topics.i18n).\n\n\nImproving Performance with Cache\n--------------------------------\n\nWhile the Yii framework itself is [very efficient](http://www.yiiframework.com/performance/), it is not necessarily true that an application written in Yii efficient. There are several places in our blog application that we can improve the performance. For example, the tag clould portlet could be one of the performance bottlenecks because it involves complex database query and PHP logic.\n\nWe can make use of the sophisticated [caching feature](http://www.yiiframework.com/doc/guide/caching.overview) provided by Yii to improve the performance. One of the most useful components in Yii is [COutputCache], which caches a fragment of page display so that the underlying code generating the fragment does not need to be executed for every request. For example, in the layout file `/wwwroot/blog/protected/views/layouts/column2.php`, we can enclose the tag cloud portlet with [COutputCache]:\n\n~~~\n[php]\n<?php if($this->beginCache(''tagCloud'', array(''duration''=>3600))) { ?>\n\n	<?php $this->widget(''TagCloud'', array(\n		''maxTags''=>Yii::app()->params[''tagCloudCount''],\n	)); ?>\n\n<?php $this->endCache(); } ?>\n~~~\n\nWith the above code, the tag cloud display will be served from cache instead of being generated on-the-fly for every request. The cached content will remain valid in cache for 3600 seconds.\n\n\nAdding New Features\n-------------------\n\nOur blog application only has very basic functionalities. To become a complete blog system, more features are needed, for example, calendar portlet, email notifications, post categorization, archived post portlet, and so on. We will leave the implementation of these features to interested readers.\n\n<div class="revision">$Id: final.future.txt 2017 2010-04-05 17:12:13Z alexander.makarow $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(117, 'final.logging', 'final.logging', '', 'Logging Errors\n==============\n\nA production Web application often needs sophisticated logging for various events. In our blog application, we would like to log the errors occurring when it is being used. Such errors could be programming mistakes or users'' misuse of the system. Logging these errors will help us to improve the blog application.\n\nWe enable the error logging by modifying the [application configuration](http://www.yiiframework.com/doc/guide/basics.application#application-configuration) as follows,\n\n~~~\n[php]\nreturn array(\n	''preload''=>array(''log''),\n\n	......\n\n	''components''=>array(\n		''log''=>array(\n			''class''=>''CLogRouter'',\n			''routes''=>array(\n				array(\n					''class''=>''CFileLogRoute'',\n					''levels''=>''error, warning'',\n				),\n			),\n		),\n		......\n	),\n);\n~~~\n\nWith the above configuration, if an error or warning occurs, detailed information will be logged and saved in a file located under the directory `/wwwroot/blog/protected/runtime`.\n\nThe `log` component offers more advanced features, such as sending log messages to a list of email addresses, displaying log messages in JavaScript console window, etc. For more details, please refer to [the Guide](http://www.yiiframework.com/doc/guide/topics.logging).\n\n\n<div class="revision">$Id: final.logging.txt 878 2009-03-23 15:31:21Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(118, 'final.url', 'final.url', '', 'Beautifying URLs\n================\n\nThe URLs linking various pages of our blog application currently look ugly. For example, the URL for the page showing a post looks like the following:\n\n~~~\n/index.php?r=post/show&id=1&title=A+Test+Post\n~~~\n\nIn this section, we describe how to beautify these URLs and make them SEO-friendly. Our goal is to be able to use the following URLs in the application:\n\n 1. `/index.php/posts/yii`: leads to the page showing a list of posts with tag `yii`;\n 2. `/index.php/post/2/A+Test+Post`: leads to the page showing the detail of the post with ID 2 whose title is `A Test Post`;\n 3. `/index.php/post/update?id=1`: leads to the page that allows updating the post with ID 1.\n\nNote that in the second URL format, we include the post title in the URL. This is mainly to make the URL SEO friendly. It is said that search engines may also respect the words found in a URL when it is being indexed.\n\nTo achieve our goal, we modify the [application configuration](http://www.yiiframework.com/doc/guide/basics.application#application-configuration) as follows,\n\n~~~\n[php]\nreturn array(\n	......\n	''components''=>array(\n		......\n		''urlManager''=>array(\n			''urlFormat''=>''path'',\n			''rules''=>array(\n        		''post/<id:\\d+>/<title:.*?>''=>''post/view'',\n        		''posts/<tag:.*?>''=>''post/index'',\n        		''<controller:\\w+>/<action:\\w+>''=>''<controller>/<action>'',\n			),\n		),\n	),\n);\n~~~\n\nIn the above, we configure the [urlManager](http://www.yiiframework.com/doc/guide/topics.url) component by setting its `urlFormat` property to be `path` and adding a set of `rules`.\n\nThe rules are used by `urlManager` to parse and create the URLs in the desired format. For example, the second rule says that if a URL `/index.php/posts/yii` is requested, the `urlManager` component should be responsible to dispatch the request to the [route](http://www.yiiframework.com/doc/guide/basics.controller#route) `post/index` and generate a `tag` GET parameter with the value `yii`. On the other hand, when creating a URL with the route `post/index` and parameter `tag`, the `urlManager` component will also use this rule to generate the desired URL `/index.php/posts/yii`. For this reason, we say that `urlManager` is a two-way URL manager.\n\nThe `urlManager` component can further beautify our URLs, such as hiding `index.php` in the URLs, appending suffix like `.html` to the URLs. We can obtain these features easily by configuring various properties of `urlManager` in the application configuration. For more details, please refer to [the Guide](http://www.yiiframework.com/doc/guide/topics.url).\n\n\n<div class="revision">$Id: final.url.txt 1808 2010-02-17 21:49:42Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(119, 'portlet.comments', 'portlet.comments', '', 'Creating Recent Comments Portlet\n================================\n\nIn this section, we create the last portlet that displays a list of comments recently published.\n\n\nCreating `RecentComments` Class\n-------------------------------\n\nWe create the `RecentComments` class in the file `/wwwroot/blog/protected/components/RecentComments.php`. The file has the following content:\n\n~~~\n[php]\nYii::import(''zii.widgets.CPortlet'');\n\nclass RecentComments extends CPortlet\n{\n	public $title=''Recent Comments'';\n	public $maxComments=10;\n\n	public function getRecentComments()\n	{\n		return Comment::model()->findRecentComments($this->maxComments);\n	}\n\n	protected function renderContent()\n	{\n		$this->render(''recentComments'');\n	}\n}\n~~~\n\nIn the above we invoke the `findRecentComments` method which is defined in the `Comment` class as follows,\n\n~~~\n[php]\nclass Comment extends CActiveRecord\n{\n	......\n	public function findRecentComments($limit=10)\n	{\n		return $this->with(''post'')->findAll(array(\n			''condition''=>''t.status=''.self::STATUS_APPROVED,\n			''order''=>''t.create_time DESC'',\n			''limit''=>$limit,\n		));\n	}\n}\n~~~\n\n\nCreating `recentComments` View\n-------------------------\n\nThe `recentComments` view is saved in the file `/wwwroot/blog/protected/components/views/recentComments.php`. It simply displays every comment returned by the `RecentComments::getRecentComments()` method.\n\n\nUsing `RecentComments` Portlet\n------------------------------\n\nWe modify the layout file `/wwwroot/blog/protected/views/layouts/column2.php` to embed this last portlet,\n\n~~~\n[php]\n......\n<div id="sidebar">\n\n	<?php if(!Yii::app()->user->isGuest) $this->widget(''UserMenu''); ?>\n\n	<?php $this->widget(''TagCloud'', array(\n		''maxTags''=>Yii::app()->params[''tagCloudCount''],\n	)); ?>\n\n	<?php $this->widget(''RecentComments'', array(\n		''maxComments''=>Yii::app()->params[''recentCommentCount''],\n	)); ?>\n\n</div>\n......\n~~~\n\n<div class="revision">$Id: portlet.comments.txt 1773 2010-02-01 18:39:49Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(120, 'portlet.menu', 'portlet.menu', '', 'Creating User Menu Portlet\n==========================\n\nBased on the requirements analysis, we need three different portlets: the "user menu" portlet, the "tag cloud" portlet and the "recent comments" portlet. We will develop these portlets by extending the [CPortlet] widget provided by Yii.\n\nIn this section, we will develop our first concrete portlet - the user menu portlet which displays a list of menu items that are only available to authenticated users. The menu contains four items:\n\n * Approve Comments: a hyperlink that leads to a list of comments pending approval;\n * Create New Post: a hyperlink that leads to the post creation page;\n * Manage Posts: a hyperlink that leads to the post management page;\n * Logout: a link button that would log out the current user.\n\n\nCreating `UserMenu` Class\n-------------------------\n\nWe create the `UserMenu` class to represent the logic part of the user menu portlet. The class is saved in the file `/wwwroot/blog/protected/components/UserMenu.php` which has the following content:\n\n~~~\n[php]\nYii::import(''zii.widgets.CPortlet'');\n\nclass UserMenu extends CPortlet\n{\n	public function init()\n	{\n		$this->title=CHtml::encode(Yii::app()->user->name);\n		parent::init();\n	}\n\n	protected function renderContent()\n	{\n		$this->render(''userMenu'');\n	}\n}\n~~~\n\nThe `UserMenu` class extends from the `CPortlet` class from the `zii` library. It overrides both the `init()` method and the `renderContent()` method of `CPortlet`. The former sets the portlet title to be the name of the current user; the latter generates the portlet body content by rendering a view named `userMenu`.\n\n> Tip: Notice that we have to explicitly include the `CPortlet` class by calling `Yii::import()` before we refer to it the first time. This is because `CPortlet` is part of the `zii` project -- the official extension library for Yii. For performance consideration, classes in this project are not listed as core classes. Therefore, we have to import it before we use it the first time.\n\n\nCreating `userMenu` View\n------------------------\n\nNext, we create the `userMenu` view which is saved in the file `/wwwroot/blog/protected/components/views/userMenu.php`:\n\n~~~\n[php]\n<ul>\n	<li><?php echo CHtml::link(''Create New Post'',array(''post/create'')); ?></li>\n	<li><?php echo CHtml::link(''Manage Posts'',array(''post/admin'')); ?></li>\n	<li><?php echo CHtml::link(''Approve Comments'',array(''comment/index''))\n		. '' ('' . Comment::model()->pendingCommentCount . '')''; ?></li>\n	<li><?php echo CHtml::link(''Logout'',array(''site/logout'')); ?></li>\n</ul>\n~~~\n\n> Info: By default, view files for a widget should be placed under the `views` sub-directory of the directory containing the widget class file. The file name must be the same as the view name.\n\n\nUsing `UserMenu` Portlet\n------------------------\n\nIt is time for us to make use of our newly completed `UserMenu` portlet. We modify the layout view file `/wwwroot/blog/protected/views/layouts/column2.php` as follows:\n\n~~~\n[php]\n......\n<div id="sidebar">\n	<?php if(!Yii::app()->user->isGuest) $this->widget(''UserMenu''); ?>\n</div>\n......\n~~~\n\nIn the above, we call the `widget()` method to generate and execute an instance of the `UserMenu` class. Because the portlet should only be displayed to authenticated users, we only call `widget()` when the `isGuest` property of the current user is false (meaning the user is authenticated).\n\n\nTesting `UserMenu` Portlet\n--------------------------\n\nLet''s test what we have so far.\n\n 1. Open a browser window and enter the URL `http://www.example.com/blog/index.php`. Verify that there is nothing displayed in the side bar section of the page.\n 2. Click on the `Login` hyperlink and fill out the login form to login. If successful, verify that the `UserMenu` portlet appears in the side bar and the portlet has the username as its title.\n 3. Click on the ''Logout'' hyperlink in the `UserMenu` portlet. Verify that the logout action is successful and the `UserMenu` portlet disappears.\n\n\nSummary\n-------\n\nWhat we have created is a portlet that is highly reusable. We can easily reuse it in a different project with little or no modification. Moreover, the design of this portlet follows closely the philosophy that logic and presentation should be separated. While we did not point this out in the previous sections, such practice is used nearly everywhere in a typical Yii application.\n\n<div class="revision">$Id: portlet.menu.txt 1739 2010-01-22 15:20:03Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(121, 'portlet.tags', 'portlet.tags', '', 'Creating Tag Cloud Portlet\n==========================\n\n[Tag cloud](http://en.wikipedia.org/wiki/Tag_cloud) displays a list of post tags with visual decorations hinting the popularity of each individual tag.\n\n\nCreating `TagCloud` Class\n-------------------------\n\nWe create the `TagCloud` class in the file `/wwwroot/blog/protected/components/TagCloud.php`. The file has the following content:\n\n~~~\n[php]\nYii::import(''zii.widgets.CPortlet'');\n\nclass TagCloud extends CPortlet\n{\n	public $title=''Tags'';\n	public $maxTags=20;\n\n	protected function renderContent()\n	{\n		$tags=Tag::model()->findTagWeights($this->maxTags);\n\n		foreach($tags as $tag=>$weight)\n		{\n			$link=CHtml::link(CHtml::encode($tag), array(''post/index'',''tag''=>$tag));\n			echo CHtml::tag(''span'', array(\n				''class''=>''tag'',\n				''style''=>"font-size:{$weight}pt",\n			), $link)."\\n";\n		}\n	}\n}\n~~~\n\nUnlike the `UserMenu` portlet, the `TagCloud` portlet does not use a view. Instead, its presentation is done in the `renderContent()` method. This is because the presentation does not contain much HTML tags.\n\nWe display each tag as a hyperlink to the post index page with the corresponding tag parameter. The font size of each tag link is adjusted according to their relative weight among other tags. If a tag has higher frequency value than the other, it will have a bigger font size.\n\n\nUsing `TagCloud` Portlet\n-------------------------\n\nUsage of the `TagCloud` portlet is very simple. We modify the layout file `/wwwroot/blog/protected/views/layouts/column2.php` as follows,\n\n~~~\n[php]\n......\n<div id="sidebar">\n\n	<?php if(!Yii::app()->user->isGuest) $this->widget(''UserMenu''); ?>\n\n	<?php $this->widget(''TagCloud'', array(\n		''maxTags''=>Yii::app()->params[''tagCloudCount''],\n	)); ?>\n\n</div>\n......\n~~~\n\n<div class="revision">$Id: portlet.tags.txt 1772 2010-02-01 18:18:09Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(122, 'post.admin', 'post.admin', '', 'Managing Posts\n==============\n\nManaging posts mainly refers to listing posts in an administrative view that allows us to see posts with all statuses, updating them and deleting them. They are accomplished by the `admin` operation and the `delete` operation, respectively. The code generated by `yiic` does not need much modification. Below we mainly explain how these two operations are implemented.\n\n\nListing Posts in Tabular View\n-----------------------------\n\nThe `admin` operation shows posts with all statuses in a tabular view. The view supports sorting and pagination. The following is the `actionAdmin()` method in `PostController`:\n\n~~~\n[php]\npublic function actionAdmin()\n{\n	$model=new Post(''search'');\n	if(isset($_GET[''Post'']))\n		$model->attributes=$_GET[''Post''];\n	$this->render(''admin'',array(\n		''model''=>$model,\n	));\n}\n~~~\n\nThe above code is generated by the `yiic` tool without any modification. It first creates a `Post` model under the `search` [scenario](/doc/guide/form.model). We will use this model to collect the search conditions that the user specifies. We then assign to the model the user-suppiled data, if any. Finally, we render the `admin` view with the model.\n\nBelow is the code for the `admin` view:\n\n~~~\n[php]\n<?php\n$this->breadcrumbs=array(\n	''Manage Posts'',\n);\n?>\n<h1>Manage Posts</h1>\n\n<?php $this->widget(''zii.widgets.grid.CGridView'', array(\n	''dataProvider''=>$model->search(),\n	''filter''=>$model,\n	''columns''=>array(\n		array(\n			''name''=>''title'',\n			''type''=>''raw'',\n			''value''=>''CHtml::link(CHtml::encode($data->title), $data->url)''\n		),\n		array(\n			''name''=>''status'',\n			''value''=>''Lookup::item("PostStatus",$data->status)'',\n			''filter''=>Lookup::items(''PostStatus''),\n		),\n		array(\n			''name''=>''create_time'',\n			''type''=>''datetime'',\n			''filter''=>false,\n		),\n		array(\n			''class''=>''CButtonColumn'',\n		),\n	),\n)); ?>\n~~~\n\nWe use [CGridView] to display the posts. It allows us to sort by a column and paginate through the posts if there are too many to be displayed in a single page. Our change is mainly about how to display each column. For example, for the `title` column, we specify that it should be displayed as a hyperlink that points to the detailed view of the post. The expression `$data->url` returns the value of the `url` property that we define in the `Post` class.\n\n> Tip: When displaying text, we call [CHtml::encode()] to encode HTML entities in it. This prevents from [cross-site scripting attack](http://www.yiiframework.com/doc/guide/topics.security).\n\n\nDeleting Posts\n--------------\n\nIn the `admin` data grid, there is a delete button in each row. Clicking on the button should delete the corresponding post. Internally, this triggers the `delete` action implemented as follows:\n\n~~~\n[php]\npublic function actionDelete()\n{\n	if(Yii::app()->request->isPostRequest)\n	{\n		// we only allow deletion via POST request\n		$this->loadModel()->delete();\n\n		if(!isset($_POST[''ajax'']))\n			$this->redirect(array(''index''));\n	}\n	else\n		throw new CHttpException(400,''Invalid request. Please do not repeat this request again.'');\n}\n~~~\n\nThe above code is the one generated by the `yiic` tool without any change. We would like to explain a little bit more about the checking on `$_POST[''ajax'']`. The [CGridView] widget has a very nice feature that its sorting, pagination and deletion operations are all done in AJAX mode by default. That means, the whole page does not get reloaded if any of the above operations is performed. However, it is also possible that the widget runs in non-AJAX mode (by setting its `ajaxUpdate` property to be false or disabling JavaScript on the client side). It is necessary for the `delete` action to differentiate these two scenarios: if the delete request is made via AJAX, we should not redirect the user browser; otherwise, we should.\n\nDeleting a post should also cause the deletion of all comments for that post. In addition, we should also update the `tbl_tag` table regarding the tags for the deleted post. Both of these tasks can be achieved by writing an `afterDelete` method in the `Post` model class as follows,\n\n~~~\n[php]\nprotected function afterDelete()\n{\n	parent::afterDelete();\n	Comment::model()->deleteAll(''post_id=''.$this->id);\n	Tag::model()->updateFrequency($this->tags, '''');\n}\n~~~\n\nThe above code is very straightforward: it first deletes all those comments whose `post_id` is the same as the ID of the deleted post; it then updates the `tbl_tag` table for the `tags` of the deleted post.\n\n> Tip: We have to explicitly delete all comments for the deleted post here because SQLite does not really support foreign key constraints. In a DBMS that supports this constraint (such as MySQL, PostgreSQL), the foreign key constraint can be set up such that the DBMS automatically deletes the related comments if the post is deleted. In that case, we no longer this explicit deletion call in our code.\n\n<div class="revision">$Id: post.admin.txt 1810 2010-02-18 00:24:54Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(123, 'post.create', 'post.create', '', 'Creating and Updating Posts\n===========================\n\nWith the `Post` model ready, we need to fine-tune the actions and views for the controller `PostController`. In this section, we first customize the access control of CRUD operations; we then modify the code implementing the `create` and `update` operations.\n\n\nCustomizing Access Control\n--------------------------\n\nThe first thing we want to do is to customize the [access control](http://www.yiiframework.com/doc/guide/topics.auth#access-control-filter) because the code generated by `yiic` does not fit our needs.\n\nWe modify the `accessRules()` method in the file `/wwwroot/blog/protected/controllers/PostController.php` as follows,\n\n~~~\n[php]\npublic function accessRules()\n{\n	return array(\n		array(''allow'',  // allow all users to perform ''list'' and ''show'' actions\n			''actions''=>array(''index'', ''view''),\n			''users''=>array(''*''),\n		),\n		array(''allow'', // allow authenticated users to perform any action\n			''users''=>array(''@''),\n		),\n		array(''deny'',  // deny all users\n			''users''=>array(''*''),\n		),\n	);\n}\n~~~\n\nThe above rules state that all users can access the `index` and `view` actions, and authenticated users can access any actions, including the `admin` action. The user should be denied access in any other scenario. Note that these rules are evaluated in the order they are listed here. The first rule matching the current context makes the access decision. For example, if the current user is the system owner who tries to visit the post creation page, the second rule will match and it will give the access to the user.\n\n\nCustomizing `create` and `update` Operations\n--------------------------------------------\n\nThe `create` and `update` operations are very similar. They both need to display an HTML form to collect user inputs, validate them, and save them into database. The main difference is that the `update` operation will pre-populate the form with the existing post data found in the database. For this reason, the `yiic` tool generates a partial view `/wwwroot/blog/protected/views/post/_form.php` that is embedded in both the `create` and `update` views to render the needed HTML form.\n\nWe first change the `_form.php` file so that the HTML form only collects the inputs we want: `title`, `content`, `tags` and `status`. We use plain text fields to collect inputs for the first three attributes, and a dropdown list to collect input for `status`. The dropdown list options are the text displays of the possible post statuses:\n\n~~~\n[php]\n<?php echo $form->dropDownList($post,''status'',Lookup::items(''PostStatus'')); ?>\n~~~\n\nIn the above, we call `Lookup::items(''PostStatus'')` to bring back the list of post statuses.\n\nWe then modify the `Post` class so that it can automatically set some attributes (e.g. `create_time`, `author_id`) before a post is saved to the database. We override the `beforeSave()` method as follows,\n\n~~~\n[php]\nprotected function beforeSave()\n{\n	if(parent::beforeSave())\n	{\n		if($this->isNewRecord)\n		{\n			$this->create_time=$this->update_time=time();\n			$this->author_id=Yii::app()->user->id;\n		}\n		else\n			$this->update_time=time();\n		return true;\n	}\n	else\n		return false;\n}\n~~~\n\nWhen we save a post, we want to update the `tbl_tag` table to reflect the change of tag frequencies. We can do this work in the `afterSave()` method, which is automatically invoked by Yii after a post is successfully saved into the database.\n\n~~~\n[php]\nprotected function afterSave()\n{\n	parent::afterSave();\n	Tag::model()->updateFrequency($this->_oldTags, $this->tags);\n}\n\nprivate $_oldTags;\n\nprotected function afterFind()\n{\n	parent::afterFind();\n	$this->_oldTags=$this->tags;\n}\n~~~\n\nIn the implementation, because we want to detect if the user changes the tags in case he is updating an existing post, we need to know what the old tags are. For this reason, we also write the `afterFind()` method to keep the old tags in the variable `_oldTags`. The method `afterFind()` is invoked automatically by Yii when an AR record is populated with the data from database.\n\nWe are not going to give details of the `Tag::updateFrequency()` method here. Interested readers may refer to the file `/wwwroot/yii/demos/blog/protected/models/Tag.php`.\n\n\n<div class="revision">$Id: post.create.txt 1753 2010-01-25 18:25:03Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(124, 'post.display', 'post.display', '', 'Displaying Posts\n================\n\nIn our blog application, a post may be displayed among a list of posts or by itself. The former is implemented as the `index` operation while the latter the `view` operation. In this section, we customize both operations to fulfill our initial requirements.\n\n\nCustomizing `view` Operation\n----------------------------\n\nThe `view` operation is implemented by the `actionView()` method in `PostController`. Its display is generated by the `view` view with the view file `/wwwroot/blog/protected/views/post/view.php`.\n\nBelow is the relevant code implementing the `view` operation in `PostController`:\n\n~~~\n[php]\npublic function actionView()\n{\n	$post=$this->loadModel();\n	$this->render(''view'',array(\n		''model''=>$post,\n	));\n}\n\nprivate $_model;\n\npublic function loadModel()\n{\n	if($this->_model===null)\n	{\n		if(isset($_GET[''id'']))\n		{\n			if(Yii::app()->user->isGuest)\n				$condition=''status=''.Post::STATUS_PUBLISHED\n					.'' OR status=''.Post::STATUS_ARCHIVED;\n			else\n				$condition='''';\n			$this->_model=Post::model()->findByPk($_GET[''id''], $condition);\n		}\n		if($this->_model===null)\n			throw new CHttpException(404,''The requested page does not exist.'');\n	}\n	return $this->_model;\n}\n~~~\n\nOur change mainly lies in the `loadModel()` method. In this method, we query the `Post` table according to the `id` GET parameter. If the post is not found or if it is not published or archived (when the user is a guest), we will throw a 404 HTTP error. Otherwise the post object is returned to `actionView()` which in turn passes the post object to the view script for further display.\n\n> Tip: Yii captures HTTP exceptions (instances of [CHttpException]) and displays them in either predefined templates or customized error views. The skeleton application generated by `yiic` already contains a customized error view in `/wwwroot/blog/protected/views/site/error.php`. We can modify this file if we want to further customize the error display.\n\nThe change in the `view` script is mainly about ajdusting the formatting and styles of the post display. We will not go into details here. Interested readers may refer to `/wwwroot/blog/protected/views/post/view.php`.\n\n\nCustomizing `index` Operation\n----------------------------\n\nLike the `view` operation, we customize the `index` operation in two places: the `actionIndex()` method in `PostController` and the view file `/wwwroot/blog/protected/views/post/index.php`. We mainly need to add the support for displaying a list of posts that are associated with a specified tag.\n\nBelow is the modified `actionIndex()` method in `PostController`:\n\n~~~\n[php]\npublic function actionIndex()\n{\n	$criteria=new CDbCriteria(array(\n		''condition''=>''status=''.Post::STATUS_PUBLISHED,\n		''order''=>''update_time DESC'',\n		''with''=>''commentCount'',\n	));\n	if(isset($_GET[''tag'']))\n		$criteria->addSearchCondition(''tags'',$_GET[''tag'']);\n\n	$dataProvider=new CActiveDataProvider(''Post'', array(\n		''pagination''=>array(\n			''pageSize''=>Yii::app()->params[''postsPerPage''],\n		),\n		''criteria''=>$criteria,\n	));\n\n	$this->render(''index'',array(\n		''dataProvider''=>$dataProvider,\n	));\n}\n~~~\n\nIn the above, we first create a query criteria for retrieving post list. The criteria states that only published posts should be returned and they should be sorted according to their update time in descending order. Because when displaying a post in the list, we want to show how many comments the post has received, in the criteria we also specify to bring back `commentCount`, which if you remember, is a relation declared in `Post::relations()`.\n\nIn case when a user wants to see posts with a specific tag, we would add a search condition to the criteria to look for the specified tag.\n\nUsing the query criteria, we create a data provider, which mainly serves for three purposes. First, it does pagination of the data when too many results may be returned. Here we customize the pagination by setting the page size to be an application parameter `postsPerPage`. Second, it does sorting according to the user request. And finally, it feeds the paginated and sorted data to widgets or view code for presentation.\n\nAfter we finish with `actionIndex()`, we modify the `index` view as follows. Our change is mainly about adding the `h1` header when the user specifies to display posts with a tag.\n\n~~~\n[php]\n<?php if(!empty($_GET[''tag''])): ?>\n<h1>Posts Tagged with <i><?php echo CHtml::encode($_GET[''tag'']); ?></i></h1>\n<?php endif; ?>\n\n<?php $this->widget(''zii.widgets.CListView'', array(\n	''dataProvider''=>$dataProvider,\n	''itemView''=>''_view'',\n	''template''=>"{items}\\n{pager}",\n)); ?>\n~~~\n\nNote that in the above, we use [CListView] to display the post list. This widget requires a partial view to display the detail of each individual post. Here we specify the partial view to be `_view`, which means the file `/wwwroot/blog/protected/views/post/_view.php`. In this view script, we can acccess the post instance being displayed via a local variable named `$data`.\n\n<div class="revision">$Id: post.display.txt 1810 2010-02-18 00:24:54Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(125, 'post.model', 'post.model', '', 'Customizing Post Model\n======================\n\nThe `Post` model class generated by the `yiic` tool mainly needs to be modified in two places:\n\n - the `rules()` method: specifies the validation rules for the model attributes;\n - the `relations()` method: specifies the related objects;\n\n> Info: A [model](http://www.yiiframework.com/doc/guide/basics.model) consists of a list of attributes, each associated with a column in the corresponding database table. Attributes can be declared explicitly as class member variables or implicitly without any declaration.\n\n\nCustomizing `rules()` Method\n----------------------------\n\nWe first specify the validation rules which ensure the attribute values entered by users are correct before they are saved to the database. For example, the `status` attribute of `Post` should be an integer 1, 2 or 3. The `yiic` tool also generates validation rules for each model. However, these rules are based on the table column information and may not be appropriate.\n\nBased on the requirement analysis, we modify the `rules()` method as follows:\n\n~~~\n[php]\npublic function rules()\n{\n	return array(\n		array(''title, content, status'', ''required''),\n		array(''title'', ''length'', ''max''=>128),\n		array(''status'', ''in'', ''range''=>array(1,2,3)),\n		array(''tags'', ''match'', ''pattern''=>''/^[\\w\\s,]+$/'',\n			''message''=>''Tags can only contain word characters.''),\n		array(''tags'', ''normalizeTags''),\n\n		array(''title, status'', ''safe'', ''on''=>''search''),\n	);\n}\n~~~\n\nIn the above, we specify that the `title`, `content` and `status` attributes are required; the length of `title` should not exceed 128; the `status` attribute value should be 1 (draft), 2 (published) or 3 (archived); and the `tags` attribute should only contain word characters and commas. In addition, we use `normalizeTags` to normalize the user-entered tags so that the tags are unique and properly separated with commas. The last rule is used by the search feature, which we will describe later.\n\nThe validators such as `required`, `length`, `in` and `match` are all built-in validators provided by Yii. The `normalizeTags` validator is a method-based validator that we need to define in the `Post` class. For more information about how to specify validation rules, please refer to [the Guide](http://www.yiiframework.com/doc/guide/form.model#declaring-validation-rules).\n\n~~~\n[php]\npublic function normalizeTags($attribute,$params)\n{\n	$this->tags=Tag::array2string(array_unique(Tag::string2array($this->tags)));\n}\n~~~\n\nThe rules declared in this method are executed one by one when we call the [validate()|CModel::validate] or [save()|CActiveRecord::save] method of the model instance.\n\n> Note: It is very important to remember that attributes appearing in `rules()` must be those to be entered by end users. Other attributes, such as `id` and `create_time` in the `Post` model, which are set by our code or database, should not be in `rules()`. For more details, please refer to [Securing Attribute Assignments](http://www.yiiframework.com/doc/guide/form.model#securing-attribute-assignments).\n\nAfter making these changes, we can visit the post creation page again to verify that the new validation rules are taking effect.\n\n\nCustomizing `relations()` Method\n--------------------------------\n\nLastly we customize the `relations()` method to specify the related objects of a post. By declaring these related objects in `relations()`, we can exploit the powerful [Relational ActiveRecord (RAR)](http://www.yiiframework.com/doc/guide/database.arr) feature to access the related object information of a post, such as its author and comments, without the need to write complex SQL JOIN statements.\n\nWe customize the `relations()` method as follows:\n\n~~~\n[php]\npublic function relations()\n{\n	return array(\n		''author'' => array(self::BELONGS_TO, ''User'', ''author_id''),\n		''comments'' => array(self::HAS_MANY, ''Comment'', ''post_id'',\n			''condition''=>''comments.status=''.Comment::STATUS_APPROVED,\n			''order''=>''comments.create_time DESC''),\n		''commentCount'' => array(self::STAT, ''Comment'', ''post_id'',\n			''condition''=>''status=''.Comment::STATUS_APPROVED),\n	);\n}\n~~~\n\nThe above relations state that\n\n * A post belongs to an author whose class is `User` and the relationship is established based on the `author_id` attribute value of the post;\n * A post has many comments whose class is `Comment` and the relationship is established based on the `post_id` attribute value of the comments. These comments should be sorted according to their creation time and the comments must be approved.\n * The `commentCount` relation is a bit special as it returns back an aggregation result which is about how many comments the post has.\n\n\nWith the above relation declaration, we can easily access the author and comments of a post like the following:\n\n~~~\n[php]\n$author=$post->author;\necho $author->username;\n\n$comments=$post->comments;\nforeach($comments as $comment)\n	echo $comment->content;\n~~~\n\nFor more details about how to declare and use relations, please refer to [the Guide](http://www.yiiframework.com/doc/guide/database.arr).\n\n\nAdding `url` Property\n---------------------\n\nA post is a content that is associated with a unique URL for viewing it. Instead of calling [CWebApplication::createUrl] everywhere in our code to get this URL, we may add a `url` property in the `Post` model so that the same piece of URL creation code can be reused. Later when we describe how beautify URLs, we will see adding this property will bring us great convenience.\n\nTo add the `url` property, we modify the `Post` class by adding a getter method like the following:\n\n~~~\n[php]\nclass Post extends CActiveRecord\n{\n	public function getUrl()\n	{\n		return Yii::app()->createUrl(''post/view'', array(\n			''id''=>$this->id,\n			''title''=>$this->title,\n		));\n	}\n}\n~~~\n\nNote that in addition to the post ID, we also add the post title as a GET parameter in the URL. This is mainly for search engine optimization (SEO) purpose, as we will describe in [Beautifying URLs](/doc/blog/final.url).\n\nBecause [CComponent] is the ultimate ancestor class of `Post`, adding the getter method `getUrl()` enables us to use the expression like `$post->url`. When we access `$post->url`, the getter method will be executed and its result is returned as the expression value. For more details about such component features, please refer to [the guide](/doc/guide/basics.component).\n\n\nRepresenting Status in Text\n---------------------------\n\nBecause the status of a post is stored as an integer in the database, we need to provide a textual representation so that it is more intuitive when being displayed to end users. In a large system, the similar requirement is very common.\n\nAs a generic solution, we use the `tbl_lookup` table to store the mapping between integer values and textual representations that are needed by other data objects. We modify the `Lookup` model class as follows to more easily access the textual data in the table,\n\n~~~\n[php]\nclass Lookup extends CActiveRecord\n{\n	private static $_items=array();\n\n	public static function items($type)\n	{\n		if(!isset(self::$_items[$type]))\n			self::loadItems($type);\n		return self::$_items[$type];\n	}\n\n	public static function item($type,$code)\n	{\n		if(!isset(self::$_items[$type]))\n			self::loadItems($type);\n		return isset(self::$_items[$type][$code]) ? self::$_items[$type][$code] : false;\n	}\n\n	private static function loadItems($type)\n	{\n		self::$_items[$type]=array();\n		$models=self::model()->findAll(array(\n			''condition''=>''type=:type'',\n			''params''=>array('':type''=>$type),\n			''order''=>''position'',\n		));\n		foreach($models as $model)\n			self::$_items[$type][$model->code]=$model->name;\n	}\n}\n~~~\n\nOur new code mainly provides two static methods: `Lookup::items()` and `Lookup::item()`. The former returns a list of strings belonging to the specified data type, while the latter returns a particular string for the given data type and data value.\n\nOur blog database is pre-populated with two lookup types: `PostStatus` and `CommentStatus`. The former refers to the possible post statuses, while the latter the comment statuses.\n\nIn order to make our code easier to read, we also declare a set of constants to represent the status integer values. We should use these constants through our code when referring to the corresponding status values.\n\n~~~\n[php]\nclass Post extends CActiveRecord\n{\n	const STATUS_DRAFT=1;\n	const STATUS_PUBLISHED=2;\n	const STATUS_ARCHIVED=3;\n	......\n}\n~~~\n\nTherefore, we can call `Lookup::items(''PostStatus'')` to get the list of possible post statuses (text strings indexed by the corresponding integer values), and call `Lookup::item(''PostStatus'', Post::STATUS_PUBLISHED)` to get the string representation of the published status.\n\n\n<div class="revision">$Id: post.model.txt 1774 2010-02-01 18:45:19Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(126, 'prototype.auth', 'prototype.auth', '', 'Authenticating User\n===================\n\nOur blog application needs to differentiate between the system owner and guest users. Therefore, we need to implement the [user authentication](http://www.yiiframework.com/doc/guide/topics.auth) feature.\n\nAs you may have found that the skeleton application already provides user authentication by checking if the username and password are both `demo` or `admin`. In this section, we will modify the corresponding code so that the authentication is done against the `User` database table.\n\nUser authentication is performed in a class implementing the [IUserIdentity] interface. The skeleton application uses the `UserIdentity` class for this purpose. The class is stored in the file `/wwwroot/blog/protected/components/UserIdentity.php`.\n\n> Tip: By convention, the name of a class file must be the same as the corresponding class name suffixed with the extension `.php`. Following this convention, one can refer to a class using a [path alias](http://www.yiiframework.com/doc/guide/basics.namespace). For example, we can refer to the `UserIdentity` class with the alias `application.components.UserIdentity`. Many APIs in Yii can recognize path aliases (e.g. [Yii::createComponent()|YiiBase::createComponent]), and using path aliases avoids the necessity of embedding absolute file paths in the code. The existence of the latter often causes trouble when we deploy an application.\n\nWe modify the `UserIdentity` class as follows,\n\n~~~\n[php]\n<?php\nclass UserIdentity extends CUserIdentity\n{\n	private $_id;\n\n	public function authenticate()\n	{\n		$username=strtolower($this->username);\n		$user=User::model()->find(''LOWER(username)=?'',array($username));\n		if($user===null)\n			$this->errorCode=self::ERROR_USERNAME_INVALID;\n		else if(!$user->validatePassword($this->password))\n			$this->errorCode=self::ERROR_PASSWORD_INVALID;\n		else\n		{\n			$this->_id=$user->id;\n			$this->username=$user->username;\n			$this->errorCode=self::ERROR_NONE;\n		}\n		return $this->errorCode==self::ERROR_NONE;\n	}\n\n	public function getId()\n	{\n		return $this->_id;\n	}\n}\n~~~\n\nIn the `authenticate()` method, we use the `User` class to look for a row in the `User` table whose `username` column is the same as the given username in a case-insensitive manner. Remember that the `User` class was created using the `yiic` tool in the prior section. Because the `User` class extends from [CActiveRecord], we can exploit [the ActiveRecord feature](http://www.yiiframework.com/doc/guide/database.ar) to access the `User` table in an OOP fashion.\n\nIn order to check if the user has entered a valid password, we invoke the `validatePassword` method of the `User` class. We need to modify the file `/wwwroot/blog/protected/models/User.php` as follows. Note that instead of storing the plain password in the database, we store the hash result of the password and a randomly generated salt key. When validating the user-entered password, we should compare the hash results, instead.\n\n~~~\n[php]\nclass User extends CActiveRecord\n{\n	......\n	public function validatePassword($password)\n	{\n		return $this->hashPassword($password,$this->salt)===$this->password;\n	}\n\n	public function hashPassword($password,$salt)\n	{\n		return md5($salt.$password);\n	}\n}\n~~~\n\nIn the `UserIdentity` class, we also override the `getId()` method which returns the `id` value of the user found in the `User` table. The parent implementation would return the username, instead. Both the `username` and `id` properties will be stored in the user session and may be accessed via `Yii::app()->user` from anywhere in our code.\n\n> Tip: In the `UserIdentity` class, we reference the class [CUserIdentity] without explicitly including the corresponding class file. This is because [CUserIdentity] is a core class provided by the Yii framework. Yii will automatically include the class file for any core class when it is referenced for the first time.\n>\n> We also do the same with the `User` class. This is because the `User` class file is placed under the directory `/wwwroot/blog/protected/models` which has been added to the PHP `include_path` according to the following lines found in the application configuration:\n>\n> ~~~\n> [php]\n> return array(\n>     ......\n>     ''import''=>array(\n>         ''application.models.*'',\n>         ''application.components.*'',\n>     ),\n>     ......\n> );\n> ~~~\n>\n> The above configuration says that any class whose class file is located under either `/wwwroot/blog/protected/models` or `/wwwroot/blog/protected/components` will be automatically included when the class is referenced for the first time.\n\nThe `UserIdentity` class is mainly used by the `LoginForm` class to authenticate a user based on the username and password input collected from the login page. The following code fragment shows how `UserIdentity` is used:\n\n~~~\n[php]\n$identity=new UserIdentity($username,$password);\n$identity->authenticate();\nswitch($identity->errorCode)\n{\n	case UserIdentity::ERROR_NONE:\n		Yii::app()->user->login($identity);\n		break;\n	......\n}\n~~~\n\n> Info: People often get confused about identity and the `user` application component. The former represents a way of performing authentication, while the latter is used to represent the information related with the current user. An application can only have one `user` component, but it can have one or several identity classes, depending on what kind of authentication it supports. Once authenticated, an identity instance may pass its state information to the `user` component so that they are globally accessible via `user`.\n\nTo test the modified `UserIdentity` class, we can browse the URL `http://www.example.com/blog/index.php` and try logging in with the username and password that we store in the `User` table. If we use the database provided by the [blog demo](http://www.yiiframework.com/demos/blog/), we should be able to login with username `demo` and password `demo`. Note that this blog system does not provide the user management feature. As a result, a user cannot change his account or create a new one through the Web interface. The user management feature may be considered as a future enhancement to the blog application.\n\n<div class="revision">$Id: prototype.auth.txt 1677 2010-01-07 20:29:26Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(127, 'prototype.database', 'prototype.database', '', 'Setting Up Database\n===================\n\nHaving created a skeleton application and finished the database design, in this section we will create the blog database and establish the connection to it in the skeleton application.\n\n\nCreating Database\n-----------------\n\nWe choose to create a SQLite database. Because the database support in Yii is built on top of [PDO](http://www.php.net/manual/en/book.pdo.php), we can easily switch to use a different type of DBMS (e.g. MySQL, PostgreSQL) without the need to change our application code.\n\nWe create the database file `blog.db` under the directory `/wwwroot/blog/protected/data`. Note that both the directory and the database file have to be writable by the Web server process, as required by SQLite. We may simply copy the database file from the blog demo in our Yii installation which is located at `/wwwroot/yii/demos/blog/protected/data/blog.db`. We may also generate the database by executing the SQL statements in the file `/wwwroot/yii/demos/blog/protected/data/schema.sqlite.sql`.\n\n> Tip: To execute SQL statements, we may use the `sqlite3` command line tool that can be found in [the SQLite official website](http://www.sqlite.org/download.html).\n\n\nEstablishing Database Connection\n--------------------------------\n\nTo use the blog database in the skeleton application we created, we need to modify its [application configuration](http://www.yiiframework.com/doc/guide/basics.application#application-configuration) which is stored in the PHP script `/wwwroot/blog/protected/config/main.php`. The script returns an associative array consisting of name-value pairs, each of which is used to initialize a writable property of the [application instance](http://www.yiiframework.com/doc/guide/basics.application).\n\nWe configure the `db` component as follows,\n\n~~~\n[php]\nreturn array(\n	......\n	''components''=>array(\n		......\n		''db''=>array(\n			''connectionString''=>''sqlite:/wwwroot/blog/protected/data/blog.db'',\n			''tablePrefix''=>''tbl_'',\n		),\n	),\n	......\n);\n~~~\n\nThe above configuration says that we have a `db` [application component](http://www.yiiframework.com/doc/guide/basics.application#application-component) whose `connectionString` property should be initialized as `sqlite:/wwwroot/blog/protected/data/blog.db` and whose `tablePrefix` property should be `tbl_`.\n\nWith this configuration, we can access the DB connection object using `Yii::app()->db` at any place in our code. Note that `Yii::app()` returns the application instance that we create in the entry script. If you are interested in possible methods and properties that the DB connection has, you may refer to its [class reference|CDbConnection]. However, in most cases we are not going to use this DB connection directly. Instead, we will use the so-called [ActiveRecord](http://www.yiiframework.com/doc/guide/database.ar) to access the database.\n\nWe would like to explain a bit more about the `tablePrefix` property that we set in the configuration. This tells the `db` connection that it should respect the fact we are using `tbl_` as the prefix to our database table names. In particular, if in a SQL statement there is a token enclosed within double curly brackets (e.g. `{{post}}`}, then the `db` connection should translate it into a name with the table prefix (e.g. `tbl_post`) before sending it to DBMS for execution. This feature is especially useful if in future we need to modify the table name prefix without touching our source code. For example, if we are developing a generic content management system (CMS), we may exploit this feature so that when it is being installed in a new environment, we can allow users to choose a table prefix they like.\n\n> Tip: If you want to use MySQL instead of SQLite to store data, you may create\n> a MySQL database named `blog` using the SQL statements in\n> `/wwwroot/yii/demos/blog/protected/data/schema.mysql.sql`. Then, modify the\n> application configuration as follows,\n>\n> ~~~\n> [php]\n> return array(\n>     ......\n>     ''components''=>array(\n>         ......\n>         ''db''=>array(\n>             ''connectionString'' => ''mysql:host=localhost;dbname=blog'',\n>             ''emulatePrepare'' => true,\n>             ''username'' => ''root'',\n>             ''password'' => '''',\n>             ''charset'' => ''utf8'',\n>             ''tablePrefix'' => ''tbl_'',\n>         ),\n>     ),\n> 	......\n> );\n> ~~~\n\n\n<div class="revision">$Id: prototype.database.txt 1677 2010-01-07 20:29:26Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(128, 'prototype.scaffold', 'prototype.scaffold', '', 'Scaffolding\n===========\n\nCreate, read, update and delete (CRUD) are the four basic operations of data objects in an application. Because the task of implementing the CRUD operations is so common when developing Web applications, Yii provides a tool to automate this process (also known as *scaffolding*). In this section, we will describe how to use the tool to implement CRUD for posts and comments.\n\nOpen a command window and run the following commands:\n\n~~~\n% /wwwroot/yii/framework/yiic shell /wwwroot/blog/index.php\nYii Interactive Tool v1.1\nPlease type ''help'' for help. Type ''exit'' to quit.\n>> model *\n......\n>> crud Post\n......\n>> crud Comment\n......\n>> exit\n~~~\n\n> Info: Some PHP installations may use a different `php.ini` file for command line (CLI) PHP parser. As a result, when running the above `yiic` commands, you may encounter errors like "YiiBase::include(PDO.php): failed to open stream..." or "...could not find driver". Please double check your CLI PHP configuration by executing the following command:\n>\n> ~~~\n> php -i\n> ~~~\n>\n> The result of the above command will show which `php.ini` file is being used and which extensions are loaded. If a wrong `php.ini` file is used, you may use the following command to explicitly specify the correct `php.ini` to use:\n>\n> ~~~\n> php -c php.ini /wwwroot/yii/framework/yiic.php shell /wwwroot/blog/index.php\n> ~~~\n\nThe commands above accomplish two tasks. First, the `model` command generates a [model](http://www.yiiframework.com/doc/guide/basics.model) class file for each table in the `blog` database. Second, the `crud` commands generate the code needed by the CRUD operations for the `Post` and `Comment` models.\n\n> Tip: The command `model *` generates a model class for *every* table in the database. Sometimes, we probably don''t want to do so (e.g. the database contains some irrelevant tables). In this case, we can create model classes one by one. For example, to create the `User` model, we can use the command `model User`. The `model` command also has some more advanced usages. For more details, execute `help model` command.\n\nWe can test the generated code by accessing the following URLs:\n\n~~~\nhttp://www.example.com/blog/index.php?r=post\nhttp://www.example.com/blog/index.php?r=comment\n~~~\n\nNotice that the post and comment features implemented by the generated code are completely independent of each other. Also, when creating a new post or comment, we are required to enter information, such as `author_id` and `create_time`, which in real application should be set by the program. Don''t worry. We will fix these problems in the next milestones. For now, we should be fairly satisfied as this prototype already contains most features that we need to implement for the blog application.\n\nTo prepare for the next milestones, let''s take a closer look at the files generated by the above commands. All the files are generated under `/wwwroot/blog/protected`. For convenience, we group them into [model](http://www.yiiframework.com/doc/guide/basics.model) files, [controller](http://www.yiiframework.com/doc/guide/basics.controller) files and [view](http://www.yiiframework.com/doc/guide/basics.view) files:\n\n - model files:\n	 * `models/User.php` contains the `User` class that extends from [CActiveRecord] and can be used to access the `tbl_user` database table;\n	 * `models/Post.php` contains the `Post` class that extends from [CActiveRecord] and can be used to access the `tbl_post` database table;\n	 * `models/Tag.php` contains the `Tag` class that extends from [CActiveRecord] and can be used to access the `tbl_tag` database table;\n	 * `models/Comment.php` contains the `Comment` class that extends from [CActiveRecord] and can be used to access the `tbl_comment` database table;\n	 * `models/Lookup.php` contains the `Lookup` class that extends from [CActiveRecord] and can be used to access the `tbl_lookup` database table;\n\n - controller file:\n	 * `controllers/PostController.php` contains the `PostController` class which is the controller in charge of all CRUD operations about posts;\n	 * `controllers/CommentController.php` contains the `CommentController` class which is the controller in charge of all CRUD operations about comments;\n\n - view files:\n	 * `views/post/create.php` is the view file that shows an HTML form to create a new post;\n	 * `views/post/update.php` is the view file that shows an HTML form to update an existing post;\n	 * `views/post/view.php` is the view file that displays the detailed information of a post;\n	 * `views/post/index.php` is the view file that displays a list of posts;\n	 * `views/post/admin.php` is the view file that displays posts in a table with administrative commands.\n	 * `views/post/_form.php` is the partial view file embedded in `views/post/create.php` and `views/post/update.php`. It displays the HTML form for collecting post information.\n	 * `views/post/_view.php` is the partial view file used by `views/post/index.php`. It displays the brief view of a single post.\n	 * `views/post/_search.php` is the partial view file used by `views/post/admin.php`. It displays a search form.\n	 * a similar set of view files are also generated for comment.\n\nIn order to understand better how the above files are used, we show in the following the workflow that occurs in the blog application when displaying a list of posts:\n\n 0. The user requests the URL `http://www.example.com/blog/index.php?r=post`;\n 1. The [entry script](http://www.yiiframework.com/doc/guide/basics.entry) is executed by the Web server which creates and initializes an [application](http://www.yiiframework.com/doc/guide/basics.application) instance to handle the request;\n 2. The application creates an instance of `PostController` and executes it;\n 3. The `PostController` instance executes the `index` action by calling its `actionIndex()` method. Note that `index` is the default action if the user does not specify an action to execute in the URL;\n 4. The `actionIndex()` method queries database to bring back the list of recent posts;\n 5. The `actionIndex()` method renders the `index` view with the post data.\n\n\n<div class="revision">$Id: prototype.scaffold.txt 1947 2010-03-21 20:41:36Z alexander.makarow $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(129, 'prototype.summary', 'prototype.summary', '', 'Summary\n=======\n\nWe have completed the milestone 1. Let''s summarize what we have done so far:\n\n 1. We identified the requirements to be fulfilled;\n 2. We installed the Yii framework;\n 3. We created a skeleton application;\n 4. We designed and created the blog database;\n 5. We modified the application configuration by adding the database connection;\n 6. We generated the code that implements the basic CRUD operations for both posts and comments;\n 7. We modified the authentication method to check against the `tbl_user` table.\n\nFor a new project, most of the time will be spent in step 1 and 4 for this first milestone.\n\nAlthough the code generated by the `yiic` tool implements fully functional CRUD operations for a database table, it often needs to be modified in practical applications. For this reason, in the next two milestone, our job is to customize the generated CRUD code about posts and comments so that it reaches our initial requirements.\n\nIn general, we first modify the [model](http://www.yiiframework.com/doc/guide/basics.model) class file by adding appropriate [validation](http://www.yiiframework.com/doc/guide/form.model#declaring-validation-rules) rules and declaring [relational objects](http://www.yiiframework.com/doc/guide/database.arr#declaring-relationship). We then modify the [controller action](http://www.yiiframework.com/doc/guide/basics.controller) and [view](http://www.yiiframework.com/doc/guide/basics.view) code for each individual CRUD operation.\n\n\n<div class="revision">$Id: prototype.summary.txt 1677 2010-01-07 20:29:26Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(130, 'start.design', 'start.design', '', 'Overall Design\n==============\n\nBased on the analysis of the requirements, we decide to use the following database tables to store the persistent data for our blog application:\n\n * `tbl_user` stores the user information, including username and password.\n * `tbl_post` stores the blog post information. It mainly consists of the following columns:\n	 - `title`: required, title of the post;\n	 - `content`: required, body content of the post which uses the [Markdown format](http://daringfireball.net/projects/markdown/syntax);\n	 - `status`: required, status of the post, which can be one of following values:\n		 * 1, meaning the post is in draft and is not visible to public;\n		 * 2, meaning the post is published to public;\n		 * 3, meaning the post is outdated and is not visible in the post list (still accessible individually, though).\n	 - `tags`: optional, a list of comma-separated words categorizing the post.\n * `tbl_comment` stores the post comment information. Each comment is associated with a post and mainly consists of the following columns:\n	 - `name`: required, the author name;\n	 - `email`: required, the author email;\n	 - `website`: optional, the author website URL;\n	 - `content`: required, the comment content in plain text format.\n	 - `status`: required, status of the comment, which indicates whether the comment is approved (value 2) or not (value 1).\n * `tbl_tag` stores post tag frequency information that is needed to implement the tag cloud feature. The table mainly contains the following columns:\n 	 - `name`: required, the unique tag name;\n 	 - `frequency`: required, the number of times that the tag appears in posts.\n * `tbl_lookup` stores generic lookup information. It is essentially a map between integer values and text strings. The former is the data representation in our code, while the latter is the corresponding presentation to end users. For example, we use integer 1 to represent the draft post status and string `Draft` to display this status to end users. This table mainly contains the following columns:\n 	 - `name`: the textual representation of the data item that is to be displayed to end users;\n 	 - `code`: the integer representation of the data item;\n 	 - `type`: the type of the data item;\n 	 - `position`: the relative display order of the data item among other items of the same type.\n\n\nThe following entity-relation (ER) diagram shows the table structure and relationships about the above tables.\n\n![Entity-Relation Diagram of the Blog Database](schema.png)\n\n\nComplete SQL statements corresponding to the above ER diagram may be found in [the blog demo](http://www.yiiframework.com/demos/blog/). In our Yii installation, they are in the file `/wwwroot/yii/demos/blog/protected/data/schema.sqlite.sql`.\n\n\n\n> Info: We name all our table names and column names in lower case. This is because different DBMS often have different case-sensitivity treatment and we want to avoid troubles like this.\n>\n> We also prefix all our tables with `tbl_`. This serves for two purposes. First, the prefix introduces a namespace to these tables in case when they need to coexist with other tables in the same database, which often happens in a shared hosting environment where a single database is being used by multiple applications. Second, using table prefix reduces the possibility of having some table names that are reserved keywords in DBMS.\n\n\nWe divide the development of our blog application into the following milestones.\n\n * Milestone 1: creating a prototype of the blog system. It should consist of most of the required functionalities.\n * Milestone 2: completing post management. It includes creating, listing, showing, updating and deleting posts.\n * Milestone 3: completing comment management. It includes creating, listing, approving, updating and deleting post comments.\n * Milestone 4: implementing portlets. It includes user menu, login, tag cloud and recent comments portlets.\n * Milestone 5: final tune-up and deployment.\n\n<div class="revision">$Id: start.design.txt 1677 2010-01-07 20:29:26Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(131, 'start.overview', 'start.overview', '', 'Building a Blog System using Yii\n================================\n\nThis tutorial describes how to use Yii to develop a blog application shown as [the blog demo](http://www.yiiframework.com/demos/blog/) which can be found in the Yii release files. It explains in detail every step to be taken during the development, which may also be applied in developing other Web applications. As a complement to [the Guide](http://www.yiiframework.com/doc/guide/) and [the Class Reference](http://www.yiiframework.com/doc/api/) of Yii, this tutorial aims to show practical usage of Yii instead of thorough and definitive description.\n\nReaders of this tutorial are not required to have prior knowledge about Yii. However, basic knowledge of object-oriented programming (OOP) and database programming would help readers to understand the tutorial more easily.\n\nThis tutorial is released under [the Terms of Yii Documentation](http://www.yiiframework.com/doc/terms/).\n\n<div class="revision">$Id: start.overview.txt 1677 2010-01-07 20:29:26Z qiang.xue $</div>', 'blog', 'source', 1276495005, 16825, 1, 0, 0);
INSERT INTO `documentations` VALUES(132, 'start.requirements', 'start.requirements', '', 'Requirements Analysis\n=====================\n\nThe blog system that we are going to develop is a single user system. The owner of the system will be able to perform the following actions:\n\n * Login and logout\n * Create, update and delete posts\n * Publish, unpublish and archive posts\n * Approve and delete comments\n\nAll other users are guest users who can perform the following actions:\n\n * Read posts\n * Create comments\n\nAdditional Requirements for this system include:\n\n * The homepage of the system should display a list of the most recent posts.\n * If a page contains more than 10 posts, they should be displayed in pages.\n * The system should display a post together with its comments.\n * The system should be able to list posts with a specified tag.\n * The system should show a cloud of tags indicating their use frequencies.\n * The system should show a list of most recent comments.\n * The system should be themeable.\n * The system should use SEO-friendly URLs.\n\n<div class="revision">$Id: start.requirements.txt 683 2009-02-16 05:20:17Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(133, 'start.testdrive', 'start.testdrive', '', 'Testdriving with Yii\n====================\n\nIn this section, we describe how to create a skeleton application that will serve as our starting point. For simplicity, we assume that the document root of our Web server is `/wwwroot` and the corresponding URL is `http://www.example.com/`.\n\n\nInstalling Yii\n--------------\n\nWe first install the Yii framework. Grab a copy of the Yii release file (version 1.1.1 or above) from [www.yiiframework.com](http://www.yiiframework.com/download) and unpack it to the directory `/wwwroot/yii`. Double check to make sure that there is a directory `/wwwroot/yii/framework`.\n\n> Tip: The Yii framework can be installed anywhere in the file system, not necessarily under a Web folder. Its `framework` directory contains all framework code and is the only framework directory needed when deploying an Yii application. A single installation of Yii can be used by multiple Yii applications.\n\nAfter installing Yii, open a browser window and access the URL `http://www.example.com/yii/requirements/index.php`. It shows the requirement checker provided in the Yii release. For our blog application, besides the minimal requirements needed by Yii, we also need to enable both the `pdo` and `pdo_sqlite` PHP extensions so that we can access SQLite databases.\n\n\nCreating Skeleton Application\n-----------------------------\n\nWe then use the `yiic` tool to create a skeleton application under the directory `/wwwroot/blog`. The `yiic` tool is a command line tool provided in the Yii release. It can be used to generate code to reduce certain repetitive coding tasks.\n\nOpen a command window and execute the following command:\n\n~~~\n% /wwwroot/yii/framework/yiic webapp /wwwroot/blog\nCreate a Web application under ''/wwwroot/blog''? [Yes|No]y\n......\n~~~\n\n> Tip: In order to use the `yiic` tool as shown above, the CLI PHP program must be on the command search path. If not, the following command may be used instead:\n>\n>~~~\n> path/to/php /wwwroot/yii/framework/yiic.php webapp /wwwroot/blog\n>~~~\n\nTo try out the application we just created, open a Web browser and navigate to the URL `http://www.example.com/blog/index.php`. We should see that our skeleton application already has four fully functional pages: the homepage, the about page, the contact page and the login page.\n\nIn the following, we briefly describe what we have in this skeleton application.\n\n###Entry Script\n\nWe have an [entry script](http://www.yiiframework.com/doc/guide/basics.entry) file `/wwwroot/blog/index.php` which has the following content:\n\n~~~\n[php]\n<?php\n$yii=''/wwwroot/framework/yii.php'';\n$config=dirname(__FILE__).''/protected/config/main.php'';\n\n// remove the following line when in production mode\ndefined(''YII_DEBUG'') or define(''YII_DEBUG'',true);\n\nrequire_once($yii);\nYii::createWebApplication($config)->run();\n~~~\n\nThis is the only script that Web users can directly access. The script first includes the Yii bootstrap file `yii.php`. It then creates an [application](http://www.yiiframework.com/doc/guide/basics.application) instance with the specified configuration and executes the application.\n\n\n###Base Application Directory\n\nWe also have an [application base directory](http://www.yiiframework.com/doc/guide/basics.application#application-base-directory) `/wwwroot/blog/protected`. The majority of our code and data will be placed under this directory, and it should be protected from being accessed by Web users. For [Apache httpd Web server](http://httpd.apache.org/), we place under this directory a `.htaccess` file with the following content:\n\n~~~\ndeny from all\n~~~\n\nFor other Web servers, please refer to the corresponding manual on how to protect a directory from being accessed by Web users.\n\n\nApplication Workflow\n--------------------\n\nTo help understand how Yii works, we describe the main workflow in our skeleton application when a user is accessing its contact page:\n\n 0. The user requests the URL `http://www.example.com/blog/index.php?r=site/contact`;\n 1. The [entry script](http://www.yiiframework.com/doc/guide/basics.entry) is executed by the Web server to process the request;\n 2. An [application](http://www.yiiframework.com/doc/guide/basics.application) instance is created and configured with initial property values specified in the application configuration file `/wwwroot/blog/protected/config/main.php`;\n 3. The application resolves the request into a [controller](http://www.yiiframework.com/doc/guide/basics.controller) and a [controller action](http://www.yiiframework.com/doc/guide/basics.controller#action). For the contact page request, it is resolved as the `site` controller and the `contact` action (the `actionContact` method in `/wwwroot/blog/protected/controllers/SiteController.php`);\n 4. The application creates the `site` controller in terms of a `SiteController` instance and then executes it;\n 5. The `SiteController` instance executes the `contact` action by calling its `actionContact()` method;\n 6. The `actionContact` method renders a [view](http://www.yiiframework.com/doc/guide/basics.view) named `contact` to the Web user. Internally, this is achieved by including the view file `/wwwroot/blog/protected/views/site/contact.php` and embedding the result into the [layout](http://www.yiiframework.com/doc/guide/basics.view#layout) file `/wwwroot/blog/protected/views/layouts/column1.php`.\n\n\n<div class="revision">$Id: start.testdrive.txt 1734 2010-01-21 18:41:17Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);
INSERT INTO `documentations` VALUES(134, 'toc', 'toc', '', '* Getting Started\n	- [Overview](start.overview)\n    - [Testdriving with Yii](start.testdrive)\n    - [Requirements Analysis](start.requirements)\n    - [Overall Design](start.design)\n\n* Initial Prototyping\n    - [Setting Up Database](prototype.database)\n    - [Scaffolding](prototype.scaffold)\n    - [Authenticating User](prototype.auth)\n    - [Summary](prototype.summary)\n\n* Post Management\n    - [Customizing Post Model](post.model)\n    - [Creating and Updating Posts](post.create)\n    - [Displaying Posts](post.display)\n    - [Managing Posts](post.admin)\n\n* Comment Management\n	- [Customizing Comment Model](comment.model)\n    - [Creating and Displaying Comments](comment.create)\n    - [Managing Comments](comment.admin)\n\n* Portlets\n	- [Creating User Menu Portlet](portlet.menu)\n	- [Creating Tag Cloud Portlet](portlet.tags)\n	- [Creating Recent Comments Portlet](portlet.comments)\n\n* Final Work\n	- [Beautifying URLs](final.url)\n	- [Logging Errors](final.logging)\n    - [Final Tune-up and Deployment](final.deployment)\n    - [Future Enhancements](final.future)\n\n<div class="revision">$Id: toc.txt 1734 2010-01-21 18:41:17Z qiang.xue $</div>', 'blog', 'source', 1276454982, 16825, 0, 0, 0);

-- --------------------------------------------------------

--
-- Table structure for table `documentations_comments`
--

CREATE TABLE `documentations_comments` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `docid` varchar(125) NOT NULL DEFAULT '',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `comment` text,
  `visible` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `docid` (`docid`),
  KEY `authorid` (`authorid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `documentations_comments`
--


-- --------------------------------------------------------

--
-- Table structure for table `extensions`
--

CREATE TABLE `extensions` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `catid` int(10) NOT NULL DEFAULT '0',
  `title` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `content` text,
  `alias` varchar(125) NOT NULL DEFAULT '',
  `language` varchar(125) NOT NULL DEFAULT '',
  `metadesc` varchar(255) NOT NULL DEFAULT '',
  `metakeys` varchar(255) NOT NULL DEFAULT '',
  `views` int(10) NOT NULL DEFAULT '0',
  `rating` int(10) NOT NULL DEFAULT '0',
  `totalvotes` int(10) NOT NULL DEFAULT '0',
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `last_updated_date` int(10) NOT NULL DEFAULT '0',
  `last_updated_author` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `title` (`title`),
  KEY `catid` (`catid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `extensions`
--


-- --------------------------------------------------------

--
-- Table structure for table `extensionscats`
--

CREATE TABLE `extensionscats` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `parentid` int(10) DEFAULT NULL,
  `title` varchar(155) NOT NULL DEFAULT '',
  `alias` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `language` varchar(125) NOT NULL DEFAULT '',
  `position` int(10) NOT NULL DEFAULT '0',
  `metadesc` varchar(255) NOT NULL DEFAULT '',
  `metakeys` varchar(255) NOT NULL DEFAULT '',
  `readonly` tinyint(1) NOT NULL DEFAULT '0',
  `viewperms` text,
  `addpostsperms` text,
  `addcommentsperms` text,
  `addfilesperms` text,
  `autoaddperms` text,
  PRIMARY KEY (`id`),
  KEY `title` (`title`),
  KEY `parentid` (`parentid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `extensionscats`
--


-- --------------------------------------------------------

--
-- Table structure for table `extensionscomments`
--

CREATE TABLE `extensionscomments` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `postid` varchar(125) NOT NULL DEFAULT '',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `visible` tinyint(1) NOT NULL DEFAULT '0',
  `comment` text,
  PRIMARY KEY (`id`),
  KEY `postid` (`postid`),
  KEY `authorid` (`authorid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `extensionscomments`
--


-- --------------------------------------------------------

--
-- Table structure for table `extensionsfiles`
--

CREATE TABLE `extensionsfiles` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `extensionid` varchar(125) NOT NULL DEFAULT '',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `size` int(10) NOT NULL DEFAULT '0',
  `type` char(10) NOT NULL DEFAULT '',
  `mime` varchar(125) NOT NULL DEFAULT '',
  `location` varchar(125) NOT NULL DEFAULT '',
  `realname` varchar(125) NOT NULL DEFAULT '',
  `alias` varchar(125) NOT NULL DEFAULT '',
  `description` varchar(125) NOT NULL DEFAULT '',
  `downloads` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `extensionid` (`extensionid`),
  KEY `authorid` (`authorid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `extensionsfiles`
--


-- --------------------------------------------------------

--
-- Table structure for table `forumposts`
--

CREATE TABLE `forumposts` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `topicid` int(10) NOT NULL DEFAULT '0',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `dateposted` int(10) NOT NULL DEFAULT '0',
  `visible` tinyint(1) NOT NULL DEFAULT '0',
  `content` text,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `forumposts`
--


-- --------------------------------------------------------

--
-- Table structure for table `forumtopics`
--

CREATE TABLE `forumtopics` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(125) NOT NULL DEFAULT '',
  `alias` varchar(250) NOT NULL DEFAULT '',
  `dateposted` int(10) NOT NULL DEFAULT '0',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `language` char(3) NOT NULL DEFAULT '',
  `views` int(10) NOT NULL DEFAULT '0',
  `replies` int(10) NOT NULL DEFAULT '0',
  `lastpostdate` int(10) NOT NULL DEFAULT '0',
  `lastpostauthorid` int(10) NOT NULL DEFAULT '0',
  `visible` tinyint(1) NOT NULL DEFAULT '0',
  `content` text,
  PRIMARY KEY (`id`),
  KEY `title` (`title`),
  KEY `alias` (`alias`),
  KEY `language` (`language`),
  KEY `lastpostdate` (`lastpostdate`),
  KEY `dateposted` (`dateposted`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `forumtopics`
--


-- --------------------------------------------------------

--
-- Table structure for table `members`
--

CREATE TABLE `members` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `username` varchar(155) NOT NULL DEFAULT '',
  `email` varchar(155) NOT NULL DEFAULT '',
  `password` varchar(40) NOT NULL DEFAULT '',
  `joined` int(10) NOT NULL DEFAULT '0',
  `data` text,
  `passwordreset` char(40) NOT NULL DEFAULT '',
  `role` char(30) NOT NULL DEFAULT 'User',
  `ipaddress` char(30) NOT NULL DEFAULT '',
  `seoname` varchar(155) NOT NULL DEFAULT '',
  `fbuid` int(10) NOT NULL DEFAULT '0',
  `fbtoken` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  KEY `username` (`username`),
  KEY `email` (`email`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;

--
-- Dumping data for table `members`
--

INSERT INTO `members` VALUES(1, 'admin', 'vadimg88@gmail.com', '51c26c5b3c017b7f2675608ae3332724fc996d5d', 1272716496, NULL, '', 'admin', '', 'admin', 535332309, '128360757178028|7acaffa9af77ade7d426ebc7-535332309|QRaTl5-1-rRWc9Gz8XmkyVuPBCw.');

-- --------------------------------------------------------

--
-- Table structure for table `Message`
--

CREATE TABLE `Message` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `language` varchar(16) NOT NULL DEFAULT '',
  `translation` text,
  PRIMARY KEY (`id`,`language`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1080 ;

--
-- Dumping data for table `Message`
--

INSERT INTO `Message` VALUES(1, 'he', 'Yiiframework.co.il');
INSERT INTO `Message` VALUES(2, 'he', 'לוח בקרה');
INSERT INTO `Message` VALUES(3, 'he', 'ראשי');
INSERT INTO `Message` VALUES(4, 'he', 'אתה בטוח שברצונך למחוק פריט זה?\\nלא ניתן יהיה לחזור אחורה כדי לבטל את הפעולה.');
INSERT INTO `Message` VALUES(5, 'he', 'אוקיי. הפעולה בוטלה.');
INSERT INTO `Message` VALUES(6, 'he', 'לוח בקרה');
INSERT INTO `Message` VALUES(7, 'he', 'ברוך הבא, ');
INSERT INTO `Message` VALUES(8, 'he', 'ערוך את הפרופיל שלך');
INSERT INTO `Message` VALUES(9, 'he', 'יש לך');
INSERT INTO `Message` VALUES(10, 'he', '{n} הודעות');
INSERT INTO `Message` VALUES(11, 'he', 'צפה באתר');
INSERT INTO `Message` VALUES(12, 'he', 'התנתק');
INSERT INTO `Message` VALUES(13, 'he', 'מערכת');
INSERT INTO `Message` VALUES(14, 'he', 'ניהול הגדרות');
INSERT INTO `Message` VALUES(15, 'he', 'ניהול');
INSERT INTO `Message` VALUES(16, 'he', 'ניהול משתמשים');
INSERT INTO `Message` VALUES(17, 'he', 'ניהול גישות');
INSERT INTO `Message` VALUES(18, 'he', 'הדפדפן בו אתה משתמש אינו תומך ב JavaScript.');
INSERT INTO `Message` VALUES(19, 'he', 'ראשי');
INSERT INTO `Message` VALUES(20, 'he', '{sitename} &copy; 2010 כל הזכויות שמורות.');
INSERT INTO `Message` VALUES(21, 'he', 'הגדרות');
INSERT INTO `Message` VALUES(22, 'he', 'הוסף קבוצת הגדרות');
INSERT INTO `Message` VALUES(23, 'he', 'הוסף הגדרה');
INSERT INTO `Message` VALUES(24, 'he', 'קטגוריות');
INSERT INTO `Message` VALUES(25, 'he', 'כותרת');
INSERT INTO `Message` VALUES(26, 'he', 'תיאור');
INSERT INTO `Message` VALUES(27, 'he', 'מפתח');
INSERT INTO `Message` VALUES(28, 'he', 'כמות');
INSERT INTO `Message` VALUES(29, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(30, 'he', 'צפה בהגדרות הקטגוריה');
INSERT INTO `Message` VALUES(31, 'he', 'סך הכל הגדרות');
INSERT INTO `Message` VALUES(32, 'he', 'הוסף הגדרה לקטגוריה זו');
INSERT INTO `Message` VALUES(33, 'he', 'ערוך קבוצה זו');
INSERT INTO `Message` VALUES(34, 'he', 'מחק קבוצה זו!');
INSERT INTO `Message` VALUES(35, 'he', 'הגדרות כלליות');
INSERT INTO `Message` VALUES(36, 'he', 'עבור עם העכבר על פני כותרת ההגדרה וצפה בתיאור במידה וקיים אחד כזה.');
INSERT INTO `Message` VALUES(37, 'he', 'נהל הגדרות');
INSERT INTO `Message` VALUES(38, 'he', '(ההגדרה שונתה)');
INSERT INTO `Message` VALUES(39, 'he', 'קבע את ערך ההגדרה לערך ההתחלתי.');
INSERT INTO `Message` VALUES(40, 'he', 'ערוך הגדרה');
INSERT INTO `Message` VALUES(41, 'he', 'מחק הגדרה זו!');
INSERT INTO `Message` VALUES(42, 'he', 'שמור');
INSERT INTO `Message` VALUES(43, 'he', 'סגור התראה זו');
INSERT INTO `Message` VALUES(44, 'he', 'הוסף קבוצת הגדרות');
INSERT INTO `Message` VALUES(45, 'he', 'מוסיף קבוצת הגדרות');
INSERT INTO `Message` VALUES(46, 'he', 'שלח');
INSERT INTO `Message` VALUES(47, 'he', 'מוסיף הגדרה');
INSERT INTO `Message` VALUES(48, 'he', 'מוסיף הגדרה');
INSERT INTO `Message` VALUES(49, 'he', 'כותרת ההגדרה');
INSERT INTO `Message` VALUES(50, 'he', 'תיאור ההגדרה');
INSERT INTO `Message` VALUES(51, 'he', 'מפתח הגדרה');
INSERT INTO `Message` VALUES(52, 'he', 'קבוצת ההגדרה');
INSERT INTO `Message` VALUES(53, 'he', '-- בחר ערך --');
INSERT INTO `Message` VALUES(54, 'he', 'סוג ההגדרה');
INSERT INTO `Message` VALUES(55, 'he', 'שדה טקסט');
INSERT INTO `Message` VALUES(56, 'he', 'תיבת טקסט');
INSERT INTO `Message` VALUES(57, 'he', 'תיבת בחירה');
INSERT INTO `Message` VALUES(58, 'he', 'תיבת בחירה מרובה');
INSERT INTO `Message` VALUES(59, 'he', 'כן/לא');
INSERT INTO `Message` VALUES(60, 'he', 'עורך HTML');
INSERT INTO `Message` VALUES(61, 'he', 'ערך ברירת המחדל');
INSERT INTO `Message` VALUES(62, 'he', 'ערך נוכחי');
INSERT INTO `Message` VALUES(63, 'he', 'פרטים נוספים');
INSERT INTO `Message` VALUES(64, 'he', 'קוד PHP');
INSERT INTO `Message` VALUES(65, 'he', 'משתמשים');
INSERT INTO `Message` VALUES(66, 'he', 'הוסף משתמש');
INSERT INTO `Message` VALUES(67, 'he', 'משתמשים');
INSERT INTO `Message` VALUES(68, 'he', 'שם משתמש');
INSERT INTO `Message` VALUES(69, 'he', 'מיין משתמשים על פי שם המשתמש');
INSERT INTO `Message` VALUES(70, 'he', 'אימייל');
INSERT INTO `Message` VALUES(71, 'he', 'מיין משתמשים על פי אימייל');
INSERT INTO `Message` VALUES(72, 'he', 'תפקיד');
INSERT INTO `Message` VALUES(73, 'he', 'מיין משתמשים על פי התפקיד');
INSERT INTO `Message` VALUES(74, 'he', 'הצטרף');
INSERT INTO `Message` VALUES(75, 'he', 'מיין משתמשים על פי תאריך הצטרפות');
INSERT INTO `Message` VALUES(76, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(77, 'he', '-- בחר פעולה --');
INSERT INTO `Message` VALUES(78, 'he', 'מחק את הנבחרים');
INSERT INTO `Message` VALUES(79, 'he', 'אשר');
INSERT INTO `Message` VALUES(80, 'he', 'אתה בטוח שאתה רוצה לבצע פעולה מאסיבית?');
INSERT INTO `Message` VALUES(81, 'he', 'צפה במשתמש');
INSERT INTO `Message` VALUES(82, 'he', 'תאריך הצטרפות');
INSERT INTO `Message` VALUES(83, 'he', 'ערוך משתמש זה');
INSERT INTO `Message` VALUES(84, 'he', 'מחק משתמש!');
INSERT INTO `Message` VALUES(85, 'he', 'תפקידים');
INSERT INTO `Message` VALUES(86, 'he', 'הוסף תפקיד');
INSERT INTO `Message` VALUES(87, 'he', 'הוסף תפקידים');
INSERT INTO `Message` VALUES(88, 'he', 'שם');
INSERT INTO `Message` VALUES(89, 'he', 'מיין רשימה על פי השם');
INSERT INTO `Message` VALUES(90, 'he', 'תיאור');
INSERT INTO `Message` VALUES(91, 'he', 'מיין רשימה על פי התיאור');
INSERT INTO `Message` VALUES(92, 'he', 'סוג');
INSERT INTO `Message` VALUES(93, 'he', 'מיין רשימה על פי הסוג');
INSERT INTO `Message` VALUES(94, 'he', 'תתים');
INSERT INTO `Message` VALUES(95, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(96, 'he', 'צפה בתפקיד');
INSERT INTO `Message` VALUES(97, 'he', 'תפקיד');
INSERT INTO `Message` VALUES(98, 'he', 'תתים');
INSERT INTO `Message` VALUES(99, 'he', 'הוסף תת');
INSERT INTO `Message` VALUES(100, 'he', 'ערוך תפקיד זה');
INSERT INTO `Message` VALUES(101, 'he', 'מחק תפקיד זה!');
INSERT INTO `Message` VALUES(102, 'he', 'מוסיף תפקיד');
INSERT INTO `Message` VALUES(103, 'he', 'מוסיף תפקיד');
INSERT INTO `Message` VALUES(104, 'he', 'שם התפקיד');
INSERT INTO `Message` VALUES(105, 'he', 'תיאור התפקיד');
INSERT INTO `Message` VALUES(106, 'he', 'סוג התפקיד');
INSERT INTO `Message` VALUES(107, 'he', '-- בחר ערך --');
INSERT INTO `Message` VALUES(108, 'he', 'קוד PHP');
INSERT INTO `Message` VALUES(109, 'he', 'מידע');
INSERT INTO `Message` VALUES(110, 'he', 'צור קשר');
INSERT INTO `Message` VALUES(111, 'he', 'בלוג');
INSERT INTO `Message` VALUES(112, 'he', 'תוספים');
INSERT INTO `Message` VALUES(113, 'he', 'דוקומנטציה');
INSERT INTO `Message` VALUES(114, 'he', 'ראשי');
INSERT INTO `Message` VALUES(115, 'he', 'מחובר בתור, {username}');
INSERT INTO `Message` VALUES(116, 'he', 'אנגלית');
INSERT INTO `Message` VALUES(117, 'he', 'עברית');
INSERT INTO `Message` VALUES(118, 'he', 'פאנל ניהול');
INSERT INTO `Message` VALUES(119, 'he', 'התנתק');
INSERT INTO `Message` VALUES(120, 'he', 'נהל שפות');
INSERT INTO `Message` VALUES(121, 'he', 'שפות');
INSERT INTO `Message` VALUES(122, 'he', 'דוקומנטציה מלאה');
INSERT INTO `Message` VALUES(123, 'he', 'ברוך הבא אל {sitename}');
INSERT INTO `Message` VALUES(124, 'he', 'משתמשים חדשים');
INSERT INTO `Message` VALUES(125, 'he', 'אם הינך משתמש חדש הגולש באתר, בזמנך הפנוי תוכל להרשם לאתר כדי לקבל גישה לכל אפשרויות האתר.');
INSERT INTO `Message` VALUES(126, 'he', 'משתמשים קיימים');
INSERT INTO `Message` VALUES(127, 'he', 'במידה והינך משתמש רשום וקיים אנא התחבר כדי לקבל גישה לכל חלקי האתר ולהנות מכל מה שהאתר מציע.');
INSERT INTO `Message` VALUES(128, 'he', 'התחברות');
INSERT INTO `Message` VALUES(129, 'he', 'אימייל');
INSERT INTO `Message` VALUES(130, 'he', 'סיסמא');
INSERT INTO `Message` VALUES(131, 'he', 'קוד אבטחה');
INSERT INTO `Message` VALUES(132, 'he', 'זכור אותי');
INSERT INTO `Message` VALUES(133, 'he', 'התחבר');
INSERT INTO `Message` VALUES(134, 'he', 'שכחת סיסמא?');
INSERT INTO `Message` VALUES(135, 'he', 'עדיין לא נרשמת? הרשם עכשיו!');
INSERT INTO `Message` VALUES(136, 'he', 'שם משתמש');
INSERT INTO `Message` VALUES(137, 'he', 'אימות סיסמא');
INSERT INTO `Message` VALUES(138, 'he', 'רענן');
INSERT INTO `Message` VALUES(139, 'he', 'הכנס את הטקסט המוצג בתמונה.');
INSERT INTO `Message` VALUES(140, 'he', 'הרשם');
INSERT INTO `Message` VALUES(141, 'he', 'התחבר | הרשם');
INSERT INTO `Message` VALUES(142, 'he', 'סגור פאנל');
INSERT INTO `Message` VALUES(143, 'he', 'מדריך הבלוג');
INSERT INTO `Message` VALUES(144, 'he', 'שפות');
INSERT INTO `Message` VALUES(145, 'he', 'שפות');
INSERT INTO `Message` VALUES(146, 'he', 'מפתח השפה');
INSERT INTO `Message` VALUES(147, 'he', 'כותרת השפה');
INSERT INTO `Message` VALUES(148, 'he', 'שפת מקור');
INSERT INTO `Message` VALUES(149, 'he', '# טקסטים');
INSERT INTO `Message` VALUES(150, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(151, 'he', 'לא ניתן לתרגם את המקור');
INSERT INTO `Message` VALUES(152, 'he', 'אין שפת מקור');
INSERT INTO `Message` VALUES(153, 'he', 'תרגם שפה זו');
INSERT INTO `Message` VALUES(154, 'he', 'העתק טקסטים חסרים משפת המקור לשפה זו.');
INSERT INTO `Message` VALUES(155, 'he', 'העתקה הושלמה. סך הכל {number} טקסטים הועתקו.');
INSERT INTO `Message` VALUES(156, 'he', 'טקסטים');
INSERT INTO `Message` VALUES(157, 'he', 'מספר טקסט');
INSERT INTO `Message` VALUES(158, 'he', 'מיין על פי מספר טקסט');
INSERT INTO `Message` VALUES(159, 'he', 'טקסט מקורי');
INSERT INTO `Message` VALUES(160, 'he', 'תרגום');
INSERT INTO `Message` VALUES(161, 'he', 'מיין על פי תרגום');
INSERT INTO `Message` VALUES(162, 'he', 'מספר');
INSERT INTO `Message` VALUES(163, 'he', 'תרגם');
INSERT INTO `Message` VALUES(164, 'he', 'שלח');
INSERT INTO `Message` VALUES(165, 'he', 'טקסטים עודכנו.');
INSERT INTO `Message` VALUES(166, 'he', 'החזר את התרגום בחזרה למקור');
INSERT INTO `Message` VALUES(167, 'he', 'טקסט הוחזר לקדמותו.');
INSERT INTO `Message` VALUES(168, 'he', 'עורך תפקיד');
INSERT INTO `Message` VALUES(169, 'he', 'תפקיד עודכן.');
INSERT INTO `Message` VALUES(170, 'he', 'צופה בתתי תפקידים');
INSERT INTO `Message` VALUES(171, 'he', 'הוסף תת תפקיד');
INSERT INTO `Message` VALUES(172, 'he', 'תתי תפקידים');
INSERT INTO `Message` VALUES(173, 'he', 'אב');
INSERT INTO `Message` VALUES(174, 'he', 'מיין רשימה על פי האב');
INSERT INTO `Message` VALUES(175, 'he', 'תת');
INSERT INTO `Message` VALUES(176, 'he', 'מיין רשימה על פי תת');
INSERT INTO `Message` VALUES(177, 'he', 'מחק קשר זה!');
INSERT INTO `Message` VALUES(178, 'he', 'תפקיד נמחק!');
INSERT INTO `Message` VALUES(179, 'he', 'לא נמצאו פריטים.');
INSERT INTO `Message` VALUES(180, 'he', 'תפקיד נוסף.');
INSERT INTO `Message` VALUES(181, 'he', 'משימה');
INSERT INTO `Message` VALUES(182, 'he', 'מוסיף תפקיד חדש');
INSERT INTO `Message` VALUES(183, 'he', 'אב');
INSERT INTO `Message` VALUES(184, 'he', 'תת');
INSERT INTO `Message` VALUES(185, 'he', 'תת תפקיד נוסף.');
INSERT INTO `Message` VALUES(186, 'he', 'חפש:');
INSERT INTO `Message` VALUES(187, 'he', 'דוקומנטציה');
INSERT INTO `Message` VALUES(188, 'he', 'נהל דוקומנטציה');
INSERT INTO `Message` VALUES(189, 'he', 'נהל תגובות');
INSERT INTO `Message` VALUES(190, 'he', 'עמודים');
INSERT INTO `Message` VALUES(191, 'he', 'נהל עמודים');
INSERT INTO `Message` VALUES(192, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(193, 'he', 'נהל מדריכים');
INSERT INTO `Message` VALUES(194, 'he', 'תוספים');
INSERT INTO `Message` VALUES(195, 'he', 'נהל תוספים');
INSERT INTO `Message` VALUES(196, 'he', 'בלוג');
INSERT INTO `Message` VALUES(197, 'he', 'נהל בלוג');
INSERT INTO `Message` VALUES(198, 'he', 'יצירות קשר');
INSERT INTO `Message` VALUES(199, 'he', 'נהל יצירות קשר');
INSERT INTO `Message` VALUES(200, 'he', 'וידג''טים');
INSERT INTO `Message` VALUES(201, 'he', 'נהל וידג''טים');
INSERT INTO `Message` VALUES(202, 'he', 'דוקומנטציה');
INSERT INTO `Message` VALUES(203, 'he', 'מדריך');
INSERT INTO `Message` VALUES(204, 'he', 'בלוג');
INSERT INTO `Message` VALUES(205, 'he', 'שם');
INSERT INTO `Message` VALUES(206, 'he', 'נערך לאחרונה');
INSERT INTO `Message` VALUES(207, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(208, 'he', 'לא נמצאו קבצים.');
INSERT INTO `Message` VALUES(209, 'he', 'ערוך נושא זה');
INSERT INTO `Message` VALUES(210, 'he', 'צפה בנושא זה');
INSERT INTO `Message` VALUES(211, 'he', 'מצטערים, אך לא היה ניתן לאתר נושא זה.');
INSERT INTO `Message` VALUES(212, 'he', 'עורך "{topic}"');
INSERT INTO `Message` VALUES(213, 'he', 'שמור');
INSERT INTO `Message` VALUES(214, 'he', 'נושא נשמר.');
INSERT INTO `Message` VALUES(215, 'he', 'עורך נושא');
INSERT INTO `Message` VALUES(216, 'he', 'מפתח');
INSERT INTO `Message` VALUES(217, 'he', 'עורך אחרון');
INSERT INTO `Message` VALUES(218, 'he', 'צפיות');
INSERT INTO `Message` VALUES(219, 'he', 'נושא עודכן.');
INSERT INTO `Message` VALUES(220, 'he', 'שם הדוקומנטציה');
INSERT INTO `Message` VALUES(221, 'he', 'מפתח דוקומנטציה');
INSERT INTO `Message` VALUES(222, 'he', 'תיאור דוקומנטציה');
INSERT INTO `Message` VALUES(223, 'he', 'תוכן דוקומנטציה');
INSERT INTO `Message` VALUES(224, 'he', 'סוג הדוקומנטציה');
INSERT INTO `Message` VALUES(225, 'he', 'ישנו כבר נושא עם מפתח זה בדוקומנטציה מהסוג הזה.');
INSERT INTO `Message` VALUES(226, 'he', 'עורך משתמש');
INSERT INTO `Message` VALUES(227, 'he', 'כתובת אימייל');
INSERT INTO `Message` VALUES(228, 'he', 'סיסמא');
INSERT INTO `Message` VALUES(229, 'he', 'תפקיד ברירת מחדל');
INSERT INTO `Message` VALUES(230, 'he', 'תפקידים נוספים');
INSERT INTO `Message` VALUES(231, 'he', 'משימות נוספות');
INSERT INTO `Message` VALUES(232, 'he', 'פעולות נוספות');
INSERT INTO `Message` VALUES(233, 'he', 'שפה');
INSERT INTO `Message` VALUES(234, 'he', 'דוקומנטציות');
INSERT INTO `Message` VALUES(235, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(236, 'he', 'תצוגה');
INSERT INTO `Message` VALUES(237, 'he', 'חדשות אחרונות');
INSERT INTO `Message` VALUES(238, 'he', 'משתמשים שהצטרפו לאחרונה');
INSERT INTO `Message` VALUES(239, 'he', 'אנא המתן, טוען...');
INSERT INTO `Message` VALUES(240, 'he', '{name} {year} &copy כל הזכויות שמורות.');
INSERT INTO `Message` VALUES(241, 'he', 'תנאי השימוש באתר');
INSERT INTO `Message` VALUES(242, 'he', 'אודות');
INSERT INTO `Message` VALUES(243, 'he', '{name} {year} &copy כל הזכויות שמורות');
INSERT INTO `Message` VALUES(244, 'he', 'הערות');
INSERT INTO `Message` VALUES(245, 'he', 'לא ידוע');
INSERT INTO `Message` VALUES(246, 'he', 'פעולה');
INSERT INTO `Message` VALUES(247, 'he', 'הערה');
INSERT INTO `Message` VALUES(248, 'he', 'פרסם תגובה');
INSERT INTO `Message` VALUES(249, 'he', 'תגובה נוספה.');
INSERT INTO `Message` VALUES(250, 'he', 'לא פורסמו תגובות עדיין.');
INSERT INTO `Message` VALUES(251, 'he', 'הינך חייב להיות מחובר בכדי לפרסם תגובות.');
INSERT INTO `Message` VALUES(252, 'he', 'מצטערים, אך הסיסמא לא תואמת לזו שנמצאת ברשומות שלנו.');
INSERT INTO `Message` VALUES(253, 'he', 'הצטרף');
INSERT INTO `Message` VALUES(254, 'he', 'אנא בחר תפקיד.');
INSERT INTO `Message` VALUES(255, 'he', 'המשתמש עודכן.');
INSERT INTO `Message` VALUES(256, 'he', 'צופה במשתמש');
INSERT INTO `Message` VALUES(257, 'he', 'שם משתמש:');
INSERT INTO `Message` VALUES(258, 'he', 'אימייל:');
INSERT INTO `Message` VALUES(259, 'he', 'הצטרף:');
INSERT INTO `Message` VALUES(260, 'he', 'תפקיד:');
INSERT INTO `Message` VALUES(261, 'he', 'מידע אישי');
INSERT INTO `Message` VALUES(262, 'he', 'פעילות באתר');
INSERT INTO `Message` VALUES(263, 'he', 'מוסיף משתמש');
INSERT INTO `Message` VALUES(264, 'he', 'משתמש נוסף');
INSERT INTO `Message` VALUES(265, 'he', 'סגור התראה זו');
INSERT INTO `Message` VALUES(266, 'he', 'צפיות');
INSERT INTO `Message` VALUES(267, 'he', 'דוקומנטציה מלאה');
INSERT INTO `Message` VALUES(268, 'he', 'אפשרויות חדשות');
INSERT INTO `Message` VALUES(269, 'he', 'דיוור');
INSERT INTO `Message` VALUES(270, 'he', 'נהל דיוור');
INSERT INTO `Message` VALUES(271, 'he', 'דוחות');
INSERT INTO `Message` VALUES(272, 'he', 'נהל דוחות');
INSERT INTO `Message` VALUES(273, 'he', 'יצירות קשר');
INSERT INTO `Message` VALUES(274, 'he', 'אימות משתמשים וניהול גישות');
INSERT INTO `Message` VALUES(275, 'he', 'ניהול קישורים');
INSERT INTO `Message` VALUES(276, 'he', 'נהל תגובות');
INSERT INTO `Message` VALUES(277, 'he', 'תגובות');
INSERT INTO `Message` VALUES(278, 'he', 'מספר');
INSERT INTO `Message` VALUES(279, 'he', 'מיין רשימה על פי המספר');
INSERT INTO `Message` VALUES(280, 'he', 'עורך');
INSERT INTO `Message` VALUES(281, 'he', 'מיין רשימה על פי עורך');
INSERT INTO `Message` VALUES(282, 'he', 'תאריך פרסום');
INSERT INTO `Message` VALUES(283, 'he', 'מיין רשימה על פי תאריך הפרסום');
INSERT INTO `Message` VALUES(284, 'he', 'תגובה');
INSERT INTO `Message` VALUES(285, 'he', 'אתה בטוח שאתה רוצה לבצע פעולה מאסיבית?');
INSERT INTO `Message` VALUES(286, 'he', 'תאריך הצטרפות');
INSERT INTO `Message` VALUES(287, 'he', 'מחק תגובה זו!');
INSERT INTO `Message` VALUES(288, 'he', '{count} תגובות נמחקו.');
INSERT INTO `Message` VALUES(289, 'he', 'לא נמצאו תגובות.');
INSERT INTO `Message` VALUES(290, 'he', 'לא פורסמו תגובות עדיין.');
INSERT INTO `Message` VALUES(291, 'he', 'עדכון מגרסא 1.0 לגרסא 1.1');
INSERT INTO `Message` VALUES(292, 'he', 'יצירת אפליקצית Yii ראשונה');
INSERT INTO `Message` VALUES(293, 'he', 'אבטחה');
INSERT INTO `Message` VALUES(294, 'he', 'סטטוס');
INSERT INTO `Message` VALUES(295, 'he', 'עדכן את סטטוס התגובה');
INSERT INTO `Message` VALUES(296, 'he', 'אשר נבחרים');
INSERT INTO `Message` VALUES(297, 'he', 'הסתר נבחרים');
INSERT INTO `Message` VALUES(298, 'he', 'תגובה עודכנה.');
INSERT INTO `Message` VALUES(299, 'he', 'מיין רשימה על פי הסטטוס');
INSERT INTO `Message` VALUES(300, 'he', '{count} תגובות אושרו.');
INSERT INTO `Message` VALUES(301, 'he', '{count} תגובות הוסתרו.');
INSERT INTO `Message` VALUES(302, 'he', 'תגובה עודכנה.');
INSERT INTO `Message` VALUES(303, 'he', 'תגובה עודכנה.');
INSERT INTO `Message` VALUES(304, 'he', '{number} תתים נוספו.');
INSERT INTO `Message` VALUES(305, 'he', 'מצטערים, אך אין לך את ההרשאות המתאימות לכניסה לאזור זה.');
INSERT INTO `Message` VALUES(306, 'he', 'מצטערים, אך אין לך את ההרשאות המתאימות לכניסה לאזור זה.');
INSERT INTO `Message` VALUES(307, 'he', 'הגדרות עודכנו.');
INSERT INTO `Message` VALUES(308, 'he', 'ערך ההגדרה הוחזר לקדמותו');
INSERT INTO `Message` VALUES(309, 'he', 'עמודים');
INSERT INTO `Message` VALUES(310, 'he', 'הוסף עמוד');
INSERT INTO `Message` VALUES(311, 'he', 'כותרת');
INSERT INTO `Message` VALUES(312, 'he', 'מיין רשימה על פי הכותרת');
INSERT INTO `Message` VALUES(313, 'he', 'מפתח');
INSERT INTO `Message` VALUES(314, 'he', 'מיין רשימה על פי מפתח');
INSERT INTO `Message` VALUES(315, 'he', 'פורסם');
INSERT INTO `Message` VALUES(316, 'he', 'מיין רשימה על פי הפרסום');
INSERT INTO `Message` VALUES(317, 'he', 'עורך');
INSERT INTO `Message` VALUES(318, 'he', 'מיין רשימה על פי עורך');
INSERT INTO `Message` VALUES(319, 'he', 'שפה');
INSERT INTO `Message` VALUES(320, 'he', 'מיין רשימה על פי השפה');
INSERT INTO `Message` VALUES(321, 'he', 'סטטוס');
INSERT INTO `Message` VALUES(322, 'he', 'מיין רשימה על פי הסטטוס');
INSERT INTO `Message` VALUES(323, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(324, 'he', 'הסתר נבחרים');
INSERT INTO `Message` VALUES(325, 'he', 'לא נמצאו פריטים.');
INSERT INTO `Message` VALUES(326, 'he', 'מוסיף עמוד חדש');
INSERT INTO `Message` VALUES(327, 'he', 'מוסיף עמוד חדש');
INSERT INTO `Message` VALUES(328, 'he', 'כותרת העמוד');
INSERT INTO `Message` VALUES(329, 'he', 'מפתח העמוד');
INSERT INTO `Message` VALUES(330, 'he', 'תגיות העמוד');
INSERT INTO `Message` VALUES(331, 'he', 'שפת העמוד');
INSERT INTO `Message` VALUES(332, 'he', 'תיאור העמוד');
INSERT INTO `Message` VALUES(333, 'he', 'תגיות העמוד');
INSERT INTO `Message` VALUES(334, 'he', 'תצוגת העמוד');
INSERT INTO `Message` VALUES(335, 'he', 'סטטוס העמוד');
INSERT INTO `Message` VALUES(336, 'he', 'תוכן העמוד');
INSERT INTO `Message` VALUES(337, 'he', 'מוסתר');
INSERT INTO `Message` VALUES(338, 'he', 'פעיל');
INSERT INTO `Message` VALUES(339, 'he', 'תוכן');
INSERT INTO `Message` VALUES(340, 'he', 'תגיות');
INSERT INTO `Message` VALUES(341, 'he', 'תיאור');
INSERT INTO `Message` VALUES(342, 'he', 'תגיות');
INSERT INTO `Message` VALUES(343, 'he', 'תצוגה');
INSERT INTO `Message` VALUES(344, 'he', 'השפה בה העמוד יוצג.');
INSERT INTO `Message` VALUES(345, 'he', '-- הכל --');
INSERT INTO `Message` VALUES(346, 'he', 'תפקידי משתמשים אשר יכולים לגשת לעמוד זה (כברירת מחדל זה כולם)');
INSERT INTO `Message` VALUES(347, 'he', 'עמוד נוסף.');
INSERT INTO `Message` VALUES(348, 'he', 'עדכן סטטוס עמוד!');
INSERT INTO `Message` VALUES(349, 'he', 'ערוך עמוד זה');
INSERT INTO `Message` VALUES(350, 'he', 'מחק עמוד זה!');
INSERT INTO `Message` VALUES(351, 'he', 'עורך עמוד');
INSERT INTO `Message` VALUES(352, 'he', 'עמוד עודכן.');
INSERT INTO `Message` VALUES(353, 'he', 'תאריך עריכה אחרון');
INSERT INTO `Message` VALUES(354, 'he', 'נערך לאחרונה על ידי');
INSERT INTO `Message` VALUES(355, 'he', 'הכל');
INSERT INTO `Message` VALUES(356, 'he', 'סטטוס עודכן');
INSERT INTO `Message` VALUES(357, 'he', 'עמוד נמחק.');
INSERT INTO `Message` VALUES(358, 'he', '{count} עמודים הוסתרו.');
INSERT INTO `Message` VALUES(359, 'he', '{count} עמודים אושרו.');
INSERT INTO `Message` VALUES(360, 'he', '{count} עמודים נמחקו.');
INSERT INTO `Message` VALUES(361, 'he', 'תצוגה מקדימה');
INSERT INTO `Message` VALUES(362, 'he', 'הצג עמוד');
INSERT INTO `Message` VALUES(363, 'he', 'סטטוס עודכן.');
INSERT INTO `Message` VALUES(364, 'he', 'מצטערים, אך העמוד שחפשת לא נמצא.');
INSERT INTO `Message` VALUES(365, 'he', 'zxczxc');
INSERT INTO `Message` VALUES(366, 'he', 'העמוד נערך.');
INSERT INTO `Message` VALUES(367, 'he', 'sdvcsdv');
INSERT INTO `Message` VALUES(368, 'he', 'צפה בעמוד זה');
INSERT INTO `Message` VALUES(369, 'he', 'אודות האתר');
INSERT INTO `Message` VALUES(370, 'he', 'שגיאה');
INSERT INTO `Message` VALUES(371, 'he', 'שגיאה');
INSERT INTO `Message` VALUES(372, 'he', 'מצטערים, אך אין לך הרשאות מתאימות בכדי לצפות באזור זה.');
INSERT INTO `Message` VALUES(373, 'he', 'קובץ:');
INSERT INTO `Message` VALUES(374, 'he', 'סוג:');
INSERT INTO `Message` VALUES(375, 'he', 'איתור');
INSERT INTO `Message` VALUES(376, 'he', 'מקור');
INSERT INTO `Message` VALUES(377, 'he', 'שגיאה');
INSERT INTO `Message` VALUES(378, 'he', 'אפליקציה');
INSERT INTO `Message` VALUES(379, 'he', 'הדירוג נוסף.');
INSERT INTO `Message` VALUES(380, 'he', 'sdvsdvsdv');
INSERT INTO `Message` VALUES(381, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(382, 'he', 'הוסף משתמש');
INSERT INTO `Message` VALUES(383, 'he', 'קטגוריות');
INSERT INTO `Message` VALUES(384, 'he', 'כותרת');
INSERT INTO `Message` VALUES(385, 'he', 'מפתח');
INSERT INTO `Message` VALUES(386, 'he', 'תיאור');
INSERT INTO `Message` VALUES(387, 'he', 'שפה');
INSERT INTO `Message` VALUES(388, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(389, 'he', 'צפה במדריכים');
INSERT INTO `Message` VALUES(390, 'he', 'הכל');
INSERT INTO `Message` VALUES(391, 'he', 'מיקום');
INSERT INTO `Message` VALUES(392, 'he', 'כותרת');
INSERT INTO `Message` VALUES(393, 'he', 'מפתח');
INSERT INTO `Message` VALUES(394, 'he', 'תיאור');
INSERT INTO `Message` VALUES(395, 'he', 'שפה');
INSERT INTO `Message` VALUES(396, 'he', 'קריאה');
INSERT INTO `Message` VALUES(397, 'he', 'ערוך קטגוריה זו');
INSERT INTO `Message` VALUES(398, 'he', 'מחק קטגוריה זו!');
INSERT INTO `Message` VALUES(399, 'he', 'סדר');
INSERT INTO `Message` VALUES(400, 'he', 'קטגוריות');
INSERT INTO `Message` VALUES(401, 'he', 'הוסף קטגוריה');
INSERT INTO `Message` VALUES(402, 'he', 'הוסף מדריך לקטגוריה זו');
INSERT INTO `Message` VALUES(403, 'he', 'הוסף תת קטגוריה לקטגוריה זו');
INSERT INTO `Message` VALUES(404, 'he', 'קטגוריות סודרו');
INSERT INTO `Message` VALUES(405, 'he', 'סטטוס קטגוריה עודכן.');
INSERT INTO `Message` VALUES(406, 'he', 'מוסיף קטגוריה');
INSERT INTO `Message` VALUES(407, 'he', 'תת-קטגוריה');
INSERT INTO `Message` VALUES(408, 'he', 'כותרת');
INSERT INTO `Message` VALUES(409, 'he', 'תיאור');
INSERT INTO `Message` VALUES(410, 'he', 'מפתח');
INSERT INTO `Message` VALUES(411, 'he', 'שפה');
INSERT INTO `Message` VALUES(412, 'he', 'מיקום');
INSERT INTO `Message` VALUES(413, 'he', 'תיאור קצר');
INSERT INTO `Message` VALUES(414, 'he', 'תגיות');
INSERT INTO `Message` VALUES(415, 'he', 'קטגורית קריאה בלבד');
INSERT INTO `Message` VALUES(416, 'he', 'הרשאות צפייה');
INSERT INTO `Message` VALUES(417, 'he', 'הרשאות פרסום מדריכים');
INSERT INTO `Message` VALUES(418, 'he', 'הרשאות פרסום תגובות');
INSERT INTO `Message` VALUES(419, 'he', 'הרשאות פרסום קבצים');
INSERT INTO `Message` VALUES(420, 'he', 'הרשאות הוספת מדריכים אוטומטית');
INSERT INTO `Message` VALUES(421, 'he', 'השפה בה העמוד מוצג.');
INSERT INTO `Message` VALUES(422, 'he', '-- הכל --');
INSERT INTO `Message` VALUES(423, 'he', 'תפקידי משתמשים אשר יכולים לצפות בקטגוריה זו (כברירת מחדל כולם)');
INSERT INTO `Message` VALUES(424, 'he', 'תפקידי משתמשים אשר יכולים להוסיף מדריכים לקטגוריה זו (כברירת מחדל כולם)');
INSERT INTO `Message` VALUES(425, 'he', 'תפקידי משתמשים אשר יכולים להוסיף תגובות למדריכים בקטגוריה זו (כברירת מחדל כולם)');
INSERT INTO `Message` VALUES(426, 'he', 'תפקידי משתמשים אשר יכולים להוסיף קבצים למדריכים בקטגוריה זו (כברירת מחדל כולם)');
INSERT INTO `Message` VALUES(427, 'he', 'תפקידי משתמשים אשר יכולים להוסיף מדריכים ללא אישור בקטגוריה זו (כברירת מחדל כולם)');
INSERT INTO `Message` VALUES(428, 'he', 'בחר קטגוריה שקטגוריה זו תיהיה תחתיה');
INSERT INTO `Message` VALUES(429, 'he', '-- ראשית --');
INSERT INTO `Message` VALUES(430, 'he', 'קטגוריה נוספה.');
INSERT INTO `Message` VALUES(431, 'he', 'קטגוריות סודרו.');
INSERT INTO `Message` VALUES(432, 'he', 'עורך קטגוריה');
INSERT INTO `Message` VALUES(433, 'he', 'קטגוריה עודכנה.');
INSERT INTO `Message` VALUES(434, 'he', 'לא ניתן למקם קטגוריה תחת אחת מהתתים שלה.');
INSERT INTO `Message` VALUES(435, 'he', 'קטגוריה נמחקה.');
INSERT INTO `Message` VALUES(436, 'he', 'הקטגוריה לא נמצאה.');
INSERT INTO `Message` VALUES(437, 'he', 'מחק קטגוריה');
INSERT INTO `Message` VALUES(438, 'he', 'העבר קטגוריות אל');
INSERT INTO `Message` VALUES(439, 'he', 'בחר קטגוריה כדי להעביר את כל התתים אליה');
INSERT INTO `Message` VALUES(440, 'he', '-- בחר --');
INSERT INTO `Message` VALUES(441, 'he', 'העבר מדריכים אל');
INSERT INTO `Message` VALUES(442, 'he', 'בחר קטגוריה להעביר את המדריכים אליה');
INSERT INTO `Message` VALUES(443, 'he', 'הינך חייב לציין קטגוריה להעביר את הפריטים אליה.');
INSERT INTO `Message` VALUES(444, 'he', 'צפה בקטגוריה');
INSERT INTO `Message` VALUES(445, 'he', 'הוסף מדריך');
INSERT INTO `Message` VALUES(446, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(447, 'he', 'מיין רשימה על פי כותרת');
INSERT INTO `Message` VALUES(448, 'he', 'מיין רשימה על פי מפתח');
INSERT INTO `Message` VALUES(449, 'he', 'פורסם');
INSERT INTO `Message` VALUES(450, 'he', 'מיין רשימה על פי פרסום');
INSERT INTO `Message` VALUES(451, 'he', 'עורך');
INSERT INTO `Message` VALUES(452, 'he', 'מיין רשימה על פי העורך');
INSERT INTO `Message` VALUES(453, 'he', 'מיין רשימה על פי שפה');
INSERT INTO `Message` VALUES(454, 'he', 'סטטוס');
INSERT INTO `Message` VALUES(455, 'he', 'מיין רשימה על פי סטטוס');
INSERT INTO `Message` VALUES(456, 'he', 'צפה בקטגוריה');
INSERT INTO `Message` VALUES(457, 'he', 'מוסיף קטגוריה');
INSERT INTO `Message` VALUES(458, 'he', 'קטגוריה');
INSERT INTO `Message` VALUES(459, 'he', 'תוכן');
INSERT INTO `Message` VALUES(460, 'he', 'מדריך אושר');
INSERT INTO `Message` VALUES(461, 'he', 'בחר קטגוריה למדריך זה');
INSERT INTO `Message` VALUES(462, 'he', 'השפה בה המדריך יהיה מוצג בה.');
INSERT INTO `Message` VALUES(463, 'he', 'מוסתר');
INSERT INTO `Message` VALUES(464, 'he', 'פעיל');
INSERT INTO `Message` VALUES(465, 'he', 'מדריך נוסף.');
INSERT INTO `Message` VALUES(466, 'he', 'עדכן סטטוס!');
INSERT INTO `Message` VALUES(467, 'he', 'צפה במדריך זה');
INSERT INTO `Message` VALUES(468, 'he', 'ערוך מדריך זה');
INSERT INTO `Message` VALUES(469, 'he', 'מחק מדריך זה!');
INSERT INTO `Message` VALUES(470, 'he', '{count} מדריכים אושרו.');
INSERT INTO `Message` VALUES(471, 'he', 'מצטערים, אך המפתח עבור מדריך זה כבר נמצא בשימוש.');
INSERT INTO `Message` VALUES(472, 'he', '# מדריכים');
INSERT INTO `Message` VALUES(473, 'he', 'סטטוס מדריך עודכן.');
INSERT INTO `Message` VALUES(474, 'he', 'תאריך עדכון אחרון');
INSERT INTO `Message` VALUES(475, 'he', 'נערך לאחרונה על ידי');
INSERT INTO `Message` VALUES(476, 'he', 'עורך מדריך');
INSERT INTO `Message` VALUES(477, 'he', 'מדריך עודכן.');
INSERT INTO `Message` VALUES(478, 'he', 'מדריך נמחק.');
INSERT INTO `Message` VALUES(479, 'he', 'נהל תגובות');
INSERT INTO `Message` VALUES(480, 'he', 'תגובות');
INSERT INTO `Message` VALUES(481, 'he', 'מספר');
INSERT INTO `Message` VALUES(482, 'he', 'תאריך פרסום');
INSERT INTO `Message` VALUES(483, 'he', 'מיין רשימה על פי תאריך הפרסום');
INSERT INTO `Message` VALUES(484, 'he', 'מיין רשימה על פי סטטוס');
INSERT INTO `Message` VALUES(485, 'he', 'תגובה');
INSERT INTO `Message` VALUES(486, 'he', 'לא נמצאו תגובות.');
INSERT INTO `Message` VALUES(487, 'he', 'תאריך הצטרפות');
INSERT INTO `Message` VALUES(488, 'he', 'עדכן סטטוס תגובה.');
INSERT INTO `Message` VALUES(489, 'he', 'מחק תגובה זו!');
INSERT INTO `Message` VALUES(490, 'he', 'תגובה עודכנה.');
INSERT INTO `Message` VALUES(491, 'he', '{count} תגובות אושרו.');
INSERT INTO `Message` VALUES(492, 'he', 'תגובה נמחקה.');
INSERT INTO `Message` VALUES(493, 'he', '{count} תגובות נמחקו.');
INSERT INTO `Message` VALUES(494, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(495, 'he', 'תצוגה');
INSERT INTO `Message` VALUES(496, 'he', 'השפה בה קטגוריה זו מוצגת.');
INSERT INTO `Message` VALUES(497, 'he', 'לא נמצאו פריטים.');
INSERT INTO `Message` VALUES(498, 'he', 'קטגוריות');
INSERT INTO `Message` VALUES(499, 'he', 'לא נמצאו מדריכים.');
INSERT INTO `Message` VALUES(500, 'he', 'לא נמצאו מדריכים.');
INSERT INTO `Message` VALUES(501, 'he', 'וידג''טים');
INSERT INTO `Message` VALUES(502, 'he', 'תגובות');
INSERT INTO `Message` VALUES(503, 'he', 'פורסם על ידי <strong>{by}</strong> ב {in} בתאריך {on}');
INSERT INTO `Message` VALUES(504, 'he', '!@#!%$#^#$עובד בדיקות');
INSERT INTO `Message` VALUES(505, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(506, 'he', 'מצטערים, אך לא ניתן היה למצוא את המדריך הזה.');
INSERT INTO `Message` VALUES(507, 'he', 'צפיות');
INSERT INTO `Message` VALUES(508, 'he', 'לא פורסמו תגובות עדיין.');
INSERT INTO `Message` VALUES(509, 'he', 'תגובה');
INSERT INTO `Message` VALUES(510, 'he', 'פרסם תגובה');
INSERT INTO `Message` VALUES(511, 'he', 'מצטערים, אך לא היה ניתן לאתר את המדריך הזה.');
INSERT INTO `Message` VALUES(512, 'he', 'תגובה נוספה.');
INSERT INTO `Message` VALUES(513, 'he', 'עדכן סטטוס תגובה!');
INSERT INTO `Message` VALUES(514, 'he', 'תגובה עודכנה.');
INSERT INTO `Message` VALUES(515, 'he', 'מצטערים, לא ניתן היה לאתר קטגוריה זו.');
INSERT INTO `Message` VALUES(516, 'he', 'הוסף מדריך');
INSERT INTO `Message` VALUES(517, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(518, 'he', 'מוסיף מדריך');
INSERT INTO `Message` VALUES(519, 'he', '-- בחר --');
INSERT INTO `Message` VALUES(520, 'he', 'אנא מלא את כל שדות החובה ולחץ על כפתור השליחה. ברגע שהטופס ישלח, המדריך יוצג לקהל הרחב תוך זמן קצר.');
INSERT INTO `Message` VALUES(521, 'he', 'מצטערים, אך קטגוריה זו היא לקריאה בלבד.');
INSERT INTO `Message` VALUES(522, 'he', 'המדריך נוסף.');
INSERT INTO `Message` VALUES(523, 'he', 'מצטערים, איך אינך מורשה לבצע פעולה זו.');
INSERT INTO `Message` VALUES(524, 'he', 'אורח');
INSERT INTO `Message` VALUES(525, 'he', 'ערוך');
INSERT INTO `Message` VALUES(526, 'he', 'עורך מדריך');
INSERT INTO `Message` VALUES(527, 'he', 'המדריך עודכן. הוא יוצג ברגע שיאושר.');
INSERT INTO `Message` VALUES(528, 'he', 'לא ידוע');
INSERT INTO `Message` VALUES(529, 'he', 'המדריך עודכן.');
INSERT INTO `Message` VALUES(530, 'he', 'המדריך נוסף. הוא יוצג ברגע שיאושר.');
INSERT INTO `Message` VALUES(531, 'he', 'אושר');
INSERT INTO `Message` VALUES(532, 'he', 'אושר');
INSERT INTO `Message` VALUES(533, 'he', 'הוסתר');
INSERT INTO `Message` VALUES(534, 'he', 'הוסתר');
INSERT INTO `Message` VALUES(535, 'he', 'המדריך אושר');
INSERT INTO `Message` VALUES(536, 'he', 'המדריך הוסתר');
INSERT INTO `Message` VALUES(537, 'he', 'המדריך הוסתר');
INSERT INTO `Message` VALUES(538, 'he', 'מדריכים בהמתנה {count}');
INSERT INTO `Message` VALUES(539, 'he', 'המדריכים שלי');
INSERT INTO `Message` VALUES(540, 'he', '{count} מדריכים בהמתנה');
INSERT INTO `Message` VALUES(541, 'he', 'הינך חייב להיות מחובר כדי לפרסם תגובות.');
INSERT INTO `Message` VALUES(542, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(543, 'he', 'הדפס');
INSERT INTO `Message` VALUES(544, 'he', 'PDF');
INSERT INTO `Message` VALUES(545, 'he', 'Word');
INSERT INTO `Message` VALUES(546, 'he', 'טקסט');
INSERT INTO `Message` VALUES(547, 'he', 'RSS');
INSERT INTO `Message` VALUES(548, 'he', 'RSS עבור המדריכים');
INSERT INTO `Message` VALUES(549, 'he', 'התקנה');
INSERT INTO `Message` VALUES(550, 'he', 'בלוג');
INSERT INTO `Message` VALUES(551, 'he', 'קטגוריות');
INSERT INTO `Message` VALUES(552, 'he', 'הוסף קטגוריות');
INSERT INTO `Message` VALUES(553, 'he', 'הוסף הודעה');
INSERT INTO `Message` VALUES(554, 'he', 'מיקום');
INSERT INTO `Message` VALUES(555, 'he', 'כותרת');
INSERT INTO `Message` VALUES(556, 'he', 'מפתח');
INSERT INTO `Message` VALUES(557, 'he', 'תיאור');
INSERT INTO `Message` VALUES(558, 'he', 'שפה');
INSERT INTO `Message` VALUES(559, 'he', 'קריאה');
INSERT INTO `Message` VALUES(560, 'he', 'הודעות');
INSERT INTO `Message` VALUES(561, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(562, 'he', 'מוסיף קטגוריה');
INSERT INTO `Message` VALUES(563, 'he', 'תת-קטגוריה');
INSERT INTO `Message` VALUES(564, 'he', 'כותרת');
INSERT INTO `Message` VALUES(565, 'he', 'תיאור');
INSERT INTO `Message` VALUES(566, 'he', 'מפתח');
INSERT INTO `Message` VALUES(567, 'he', 'שפה');
INSERT INTO `Message` VALUES(568, 'he', 'מיקום');
INSERT INTO `Message` VALUES(569, 'he', 'תיאור קצר');
INSERT INTO `Message` VALUES(570, 'he', 'תגיות');
INSERT INTO `Message` VALUES(571, 'he', 'קטגוריה לקריאה בלבד');
INSERT INTO `Message` VALUES(572, 'he', 'הרשאות צפייה');
INSERT INTO `Message` VALUES(573, 'he', 'הרשאות פרסום הודעות');
INSERT INTO `Message` VALUES(574, 'he', 'הרשאות פרסום תגובות');
INSERT INTO `Message` VALUES(575, 'he', 'הרשאות פרסום קבצים');
INSERT INTO `Message` VALUES(576, 'he', 'הרשאות פרסום הודעות אוטומטי');
INSERT INTO `Message` VALUES(577, 'he', 'בחר קטגורית אב לקטגוריה זו');
INSERT INTO `Message` VALUES(578, 'he', '-- ראשית --');
INSERT INTO `Message` VALUES(579, 'he', 'השפה בה הקטגוריה מוצגת.');
INSERT INTO `Message` VALUES(580, 'he', 'הרשאות משתמשים אשר יכולים לצפות בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(581, 'he', 'הרשאות משתמשים שיכולים לפרסם הודעות בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(582, 'he', 'הרשאות משתמשים שיכולים לפרסם תגובות בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(583, 'he', 'הרשאות משתמשים שיכולים לפרסם קבצים בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(584, 'he', 'הרשאות משתמשים שיכולים לפרסם הודעות בקטגוריה זו ללא צורך באישור ידני (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(585, 'he', 'קטגוריה נוספה');
INSERT INTO `Message` VALUES(586, 'he', 'צפה בהודעות');
INSERT INTO `Message` VALUES(587, 'he', 'צפה בקטגוריה');
INSERT INTO `Message` VALUES(588, 'he', 'הוסף הודעה לקטגוריה זו');
INSERT INTO `Message` VALUES(589, 'he', 'הוסף תת-קטגוריה לקטגוריה זו');
INSERT INTO `Message` VALUES(590, 'he', 'ערוך קטגוריה זו');
INSERT INTO `Message` VALUES(591, 'he', 'מחק קטגוריה זו!');
INSERT INTO `Message` VALUES(592, 'he', 'צופה בקטגוריה');
INSERT INTO `Message` VALUES(593, 'he', 'מיין רשימה על פי כותרת');
INSERT INTO `Message` VALUES(594, 'he', 'מיין רשימה על פי מפתח');
INSERT INTO `Message` VALUES(595, 'he', 'פורסם');
INSERT INTO `Message` VALUES(596, 'he', 'מיין רשימה על פי תאריך פרסום');
INSERT INTO `Message` VALUES(597, 'he', 'עורך');
INSERT INTO `Message` VALUES(598, 'he', 'מיין רשימה על פי העורך');
INSERT INTO `Message` VALUES(599, 'he', 'מיין רשימה על פי השפה');
INSERT INTO `Message` VALUES(600, 'he', 'סטטוס');
INSERT INTO `Message` VALUES(601, 'he', 'מיין רשימה על פי הסטטוס');
INSERT INTO `Message` VALUES(602, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(603, 'he', 'בלוג');
INSERT INTO `Message` VALUES(604, 'he', 'לא נמצאו הודעות.');
INSERT INTO `Message` VALUES(605, 'he', 'הוסף הודעה');
INSERT INTO `Message` VALUES(606, 'he', '{count} הודעות בהמתנה');
INSERT INTO `Message` VALUES(607, 'he', 'ההודעות שלי');
INSERT INTO `Message` VALUES(608, 'he', 'קטגוריות');
INSERT INTO `Message` VALUES(609, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(610, 'he', 'RSS עבור הבלוג');
INSERT INTO `Message` VALUES(611, 'he', 'מוסיף הודעה');
INSERT INTO `Message` VALUES(612, 'he', 'אנא מלא את כל שדות החובה ולאחר מכן לחץ על כפתור השליחה. לאחר שליחת הטופס יתכן ויקח זמן עד שההודעה תיהיה מפורסמת לקהל הרחב.');
INSERT INTO `Message` VALUES(613, 'he', 'קטגוריה');
INSERT INTO `Message` VALUES(614, 'he', 'תוכן');
INSERT INTO `Message` VALUES(615, 'he', 'ההודעה אושרה');
INSERT INTO `Message` VALUES(616, 'he', 'בחר קטגוריה להודעה זו');
INSERT INTO `Message` VALUES(617, 'he', '-- בחר --');
INSERT INTO `Message` VALUES(618, 'he', 'מוסתר');
INSERT INTO `Message` VALUES(619, 'he', 'פעיל');
INSERT INTO `Message` VALUES(620, 'he', 'מצטערים, אך קטגוריה זו היא לקריאה בלבד.');
INSERT INTO `Message` VALUES(621, 'he', 'סטטוס קטגוריה עודכן.');
INSERT INTO `Message` VALUES(622, 'he', 'ההודעה נוספה.');
INSERT INTO `Message` VALUES(623, 'he', 'תגובות');
INSERT INTO `Message` VALUES(624, 'he', 'צפיות');
INSERT INTO `Message` VALUES(625, 'he', 'לא פורסמו תגובות עדיין.');
INSERT INTO `Message` VALUES(626, 'he', 'תגובה');
INSERT INTO `Message` VALUES(627, 'he', 'פרסם תגובה');
INSERT INTO `Message` VALUES(628, 'he', 'עורך הודעה');
INSERT INTO `Message` VALUES(629, 'he', 'ההודעה עודכנה.');
INSERT INTO `Message` VALUES(630, 'he', 'ההודעה נוספה.');
INSERT INTO `Message` VALUES(631, 'he', 'עדכן סטטוס תגובה!');
INSERT INTO `Message` VALUES(632, 'he', 'פורסם על ידי <strong>{by}</strong> ב {in} בתאריך {on}');
INSERT INTO `Message` VALUES(633, 'he', 'ההודעה הוסתרה');
INSERT INTO `Message` VALUES(634, 'he', 'ההודעה הוסתרה');
INSERT INTO `Message` VALUES(635, 'he', 'ההודעה אושרה');
INSERT INTO `Message` VALUES(636, 'he', 'מוסיף מדריך');
INSERT INTO `Message` VALUES(637, 'he', 'בחר קטגוריה להודעה זו');
INSERT INTO `Message` VALUES(638, 'he', '-- בחר --');
INSERT INTO `Message` VALUES(639, 'he', 'השפה בה ההודעה תוצג.');
INSERT INTO `Message` VALUES(640, 'he', 'מוסתר');
INSERT INTO `Message` VALUES(641, 'he', 'פעיל');
INSERT INTO `Message` VALUES(642, 'he', 'המדריך נוסף');
INSERT INTO `Message` VALUES(643, 'he', 'עדכן סטטוס הודעה!');
INSERT INTO `Message` VALUES(644, 'he', 'צפה בהודעה');
INSERT INTO `Message` VALUES(645, 'he', 'ערוך הודעה זו');
INSERT INTO `Message` VALUES(646, 'he', 'מחק הודעה זו!');
INSERT INTO `Message` VALUES(647, 'he', 'נערך לאחרונה');
INSERT INTO `Message` VALUES(648, 'he', 'נערך לאחרונה על ידי');
INSERT INTO `Message` VALUES(649, 'he', 'נהל תגובות');
INSERT INTO `Message` VALUES(650, 'he', 'תגובות');
INSERT INTO `Message` VALUES(651, 'he', 'מספר');
INSERT INTO `Message` VALUES(652, 'he', 'תאריך פרסום');
INSERT INTO `Message` VALUES(653, 'he', 'מיין רשימה על פי התאריך');
INSERT INTO `Message` VALUES(654, 'he', 'מיין רשימה על פי הסטטוס');
INSERT INTO `Message` VALUES(655, 'he', 'תגובה');
INSERT INTO `Message` VALUES(656, 'he', 'תאריך הצטרפות');
INSERT INTO `Message` VALUES(657, 'he', 'עדכן סטטוס תגובה!');
INSERT INTO `Message` VALUES(658, 'he', 'מחק תגובה זו!');
INSERT INTO `Message` VALUES(659, 'he', 'התגובה עודכנה.');
INSERT INTO `Message` VALUES(660, 'he', 'התגובה נמחקה.');
INSERT INTO `Message` VALUES(661, 'he', 'לא נמצאו תגובות.');
INSERT INTO `Message` VALUES(662, 'he', 'התנתק');
INSERT INTO `Message` VALUES(663, 'he', 'הינך מנותק כעת.');
INSERT INTO `Message` VALUES(664, 'he', 'שכחת סיסמא?');
INSERT INTO `Message` VALUES(665, 'he', 'טופס הרשמה');
INSERT INTO `Message` VALUES(666, 'he', 'אנא מלא את כל שדות החובה ולאחר מכן לחץ על כפתור השליחה.');
INSERT INTO `Message` VALUES(667, 'he', 'שלח');
INSERT INTO `Message` VALUES(668, 'he', 'אנא ציין את שם המשתמש שלך (מינימום תווים: 3 מקסימום: 32)');
INSERT INTO `Message` VALUES(669, 'he', 'אנא ציין את הסיסמא שלך (מינימום תווים: 3 מקסימום: 32)');
INSERT INTO `Message` VALUES(670, 'he', 'אשר סיסמא');
INSERT INTO `Message` VALUES(671, 'he', 'אנא ציין את כתובת הדואר אלקטרוני שלך');
INSERT INTO `Message` VALUES(672, 'he', 'אנא ציין את הטקסט המוצג בתמונה למטה');
INSERT INTO `Message` VALUES(673, 'he', 'טופס התחברות');
INSERT INTO `Message` VALUES(674, 'he', 'אנא מלא את כל שדות החובה ולאחר מכן לחץ על כפתור השליחה.');
INSERT INTO `Message` VALUES(675, 'he', 'אנא ציין את כתובת הדואר אלקטרוני שלך');
INSERT INTO `Message` VALUES(676, 'he', 'אנא ציין את הסיסמא שלך');
INSERT INTO `Message` VALUES(677, 'he', 'אנא ציין את הטקסט המוצג בתמונה למטה');
INSERT INTO `Message` VALUES(678, 'he', 'מצטערים, אך לא ניתן היה למצוא משתמש עם פרטי ההתחברות הללו.');
INSERT INTO `Message` VALUES(679, 'he', 'שכחת סיסמא?');
INSERT INTO `Message` VALUES(680, 'he', 'מצטערים, אך כתובת אימייל זו לא קיימת ברשומות שלנו.');
INSERT INTO `Message` VALUES(681, 'he', 'אפס סיסמא');
INSERT INTO `Message` VALUES(682, 'he', 'מסך זה ידריך אותך בתהליך איפוס הסיסמא.\r\n<br /></br />\r\nכתובת האימייל שלך נחוצה במקרה זה, וכמו כן אנו מבקשים ממך להזין קוד אבטחה כדי למנוע שימוש מיותר בטופס זה.\r\n<br /><br />\r\nהטופס ישלח ברגע שכתובת האימייל היא תקינה וקיימת ברשומות שלנו, וכמו כן קוד האבטחה שהוזן הינו זהה לקוד האבטחה שהוצג.\r\n<br /><br />\r\nברגע שזה יבוצע ישלח לכתובת שלך אימייל עם פרטים כיצד לאפס את הסיסמא, באימייל זה יהיה לינק שתצטרך ללחוץ עליו כדי להשלים את תהליך איפוס הסיסמא.\r\n<br /><br />\r\nברגע שתבצע חלק זה בתהליך ישלח אליך אימייל נוסף עם הסיסמא החדשה שלך.');
INSERT INTO `Message` VALUES(683, 'he', 'טופס איפוס סיסמא');
INSERT INTO `Message` VALUES(684, 'he', ' {username},<br /><br />הינך מקבל אימייל זה מכיוון שבקשת לאפס את סיסמאתך.<br /><br /> \r\n											אנא לחץ על הלינק הבא בכדי לאפס את הסיסמא שלך ולקבל אחת חדשה לאימייל.<br /><br />\r\n											קישור לאיפוס הסיסמא:<br /><br />\r\n											----------------------<br />\r\n											{link}<br />\r\n											----------------------<br /><br /><br />\r\n											<em>אם לא בקשת לאפס את הסיסמא וקבלת אימייל זה בטעות, אנא התעלם ממנו לחלוטין.</em>');
INSERT INTO `Message` VALUES(685, 'he', '<br /><br />----------------<br />בברכה,<br />צוות {team} .<br />');
INSERT INTO `Message` VALUES(686, 'he', 'בקשת איפוס סיסמא');
INSERT INTO `Message` VALUES(687, 'he', 'תודה! אנא בדוק את האימייל שלך ולחץ על קישור איפוס הסיסמא שנשלח.');
INSERT INTO `Message` VALUES(688, 'he', '{username},<br /><br />\r\n									הסיסמא שלך אופסה בהצלחה.<br /><br />\r\n									הסיסמא החדשה שלך היא: <b>{password}</b><br />');
INSERT INTO `Message` VALUES(689, 'he', 'איפוס סיסמא הושלם');
INSERT INTO `Message` VALUES(690, 'he', 'תודה! הסיסמא שלך אופסה. אנא בדוק את האימייל שלך עבור הסיסמא החדשה שלך.');
INSERT INTO `Message` VALUES(691, 'he', '-- הכל --');
INSERT INTO `Message` VALUES(692, 'he', '-- בחר --');
INSERT INTO `Message` VALUES(693, 'he', 'אודות');
INSERT INTO `Message` VALUES(694, 'he', 'מצטערים, אך כבר קיים עמוד עם המפתח והשפה שנבחרו.');
INSERT INTO `Message` VALUES(695, 'he', 'שרת מארח:');
INSERT INTO `Message` VALUES(696, 'he', 'טופס יצירת קשר');
INSERT INTO `Message` VALUES(697, 'he', 'אנא מלא את כל שדות החובה ולחץ על כפתור השליחה בסיום.');
INSERT INTO `Message` VALUES(698, 'he', 'שם');
INSERT INTO `Message` VALUES(699, 'he', 'אימייל');
INSERT INTO `Message` VALUES(700, 'he', 'נושא');
INSERT INTO `Message` VALUES(701, 'he', 'הודעה');
INSERT INTO `Message` VALUES(702, 'he', 'קוד אבטחה');
INSERT INTO `Message` VALUES(703, 'he', 'אנא ציין את השם שלך');
INSERT INTO `Message` VALUES(704, 'he', 'אנא ציין את האימייל שלך');
INSERT INTO `Message` VALUES(705, 'he', 'אנא ציין את הקוד המוצג בתמונה למטה');
INSERT INTO `Message` VALUES(706, 'he', 'קבוצת הגדרות נוספה.');
INSERT INTO `Message` VALUES(707, 'he', 'הגדרות יצירת קשר');
INSERT INTO `Message` VALUES(708, 'he', 'לא נוספו הגדרות עדיין.');
INSERT INTO `Message` VALUES(709, 'he', 'הגדרה נוספה.');
INSERT INTO `Message` VALUES(710, 'he', 'עורך הגדרות');
INSERT INTO `Message` VALUES(711, 'he', 'עורך הגדרות');
INSERT INTO `Message` VALUES(712, 'he', 'אנא בחר את הנושא המתאים');
INSERT INTO `Message` VALUES(713, 'he', 'אנא ציין את ההודעה');
INSERT INTO `Message` VALUES(714, 'he', 'הגדרה נערכה.');
INSERT INTO `Message` VALUES(715, 'he', 'תמיכה');
INSERT INTO `Message` VALUES(716, 'he', 'שיתוף פעולה');
INSERT INTO `Message` VALUES(717, 'he', 'דיווח על באג');
INSERT INTO `Message` VALUES(718, 'he', 'דיווח על באג בדוקומנטציה');
INSERT INTO `Message` VALUES(719, 'he', 'הצעות עסקיות');
INSERT INTO `Message` VALUES(720, 'he', 'שאלות');
INSERT INTO `Message` VALUES(721, 'he', 'אחר');
INSERT INTO `Message` VALUES(722, 'he', '-- בחר --');
INSERT INTO `Message` VALUES(723, 'he', 'ההרשמה הסתיימה. אנא התחבר.');
INSERT INTO `Message` VALUES(724, 'he', 'תודה. הטופס נשלח בהצלחה.');
INSERT INTO `Message` VALUES(725, 'he', 'לא');
INSERT INTO `Message` VALUES(726, 'he', 'כן');
INSERT INTO `Message` VALUES(727, 'he', 'טופס יצירת קשר חדש<br /><br />\r\n													על ידי: {name}<br />\r\n													אימייל: {email}<br />\r\n													נושא: {subject}<br />\r\n													========================<br />\r\n													{msg}<br />\r\n													========================<br /><br />\r\n													בברכה, צוות {team} .');
INSERT INTO `Message` VALUES(728, 'he', 'טופס יצירת קשר חדש: {subject}');
INSERT INTO `Message` VALUES(729, 'he', 'יצירת קשר');
INSERT INTO `Message` VALUES(730, 'he', 'טופס יצירת קשר');
INSERT INTO `Message` VALUES(731, 'he', 'שם');
INSERT INTO `Message` VALUES(732, 'he', 'מיין רשימה על פי שם');
INSERT INTO `Message` VALUES(733, 'he', 'אימייל');
INSERT INTO `Message` VALUES(734, 'he', 'מיין רשימה על פי אימייל');
INSERT INTO `Message` VALUES(735, 'he', 'נושא');
INSERT INTO `Message` VALUES(736, 'he', 'מיין רשימה על פי נושא');
INSERT INTO `Message` VALUES(737, 'he', 'תאריך');
INSERT INTO `Message` VALUES(738, 'he', 'מיין רשימה על פי תאריך');
INSERT INTO `Message` VALUES(739, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(740, 'he', 'צפה');
INSERT INTO `Message` VALUES(741, 'he', 'טפסי יצירת קשר');
INSERT INTO `Message` VALUES(742, 'he', 'ההודעה לא נמצאה.');
INSERT INTO `Message` VALUES(743, 'he', '');
INSERT INTO `Message` VALUES(744, 'he', 'על ידי {name}');
INSERT INTO `Message` VALUES(745, 'he', 'הגב');
INSERT INTO `Message` VALUES(746, 'he', 'שלח');
INSERT INTO `Message` VALUES(747, 'he', 'קריאה');
INSERT INTO `Message` VALUES(748, 'he', 'מיין רשימה על פי סטטוס קריאה');
INSERT INTO `Message` VALUES(749, 'he', 'סמן כנקרא');
INSERT INTO `Message` VALUES(750, 'he', 'סמן כלא נקרא');
INSERT INTO `Message` VALUES(751, 'he', 'מחק!');
INSERT INTO `Message` VALUES(752, 'he', 'הפריט נמחק.');
INSERT INTO `Message` VALUES(753, 'he', '{count} פריטים סומנו כנקראו.');
INSERT INTO `Message` VALUES(754, 'he', '{count} פריטים סומנו כלא נקראו.');
INSERT INTO `Message` VALUES(755, 'he', '{count} פריטים נמחקו.');
INSERT INTO `Message` VALUES(756, 'he', 'לא נמצאו פריטים.');
INSERT INTO `Message` VALUES(757, 'he', 'צופה בהודעה');
INSERT INTO `Message` VALUES(758, 'he', 'טופס יצירת קשר חדש<br /><br />\r\n										    מספר: {id}<br />\r\n											על ידי: {name}<br />\r\n											אימייל: {email}<br />\r\n											נושא: {subject}<br />\r\n											========================<br />\r\n											{msg}<br />\r\n											========================<br /><br />\r\n											בברכה, צוות {team} .');
INSERT INTO `Message` VALUES(759, 'he', 'קבלת תגובה חדשה מאת {replyername}<br /><br />\r\n											 =====================<br />\r\n											 {msg}<br />\r\n											 =====================<br /><br />\r\n											 בברכה, צוות {team} .');
INSERT INTO `Message` VALUES(760, 'he', 'הגב: {subject}');
INSERT INTO `Message` VALUES(761, 'he', 'תגובה נשלחה.');
INSERT INTO `Message` VALUES(762, 'he', 'קבלת תגובה חדשה מאת <b>{replyername}</b><br /><br />\r\n											 =====================<br />\r\n											 {msg}<br />\r\n											 =====================<br /><br />\r\n											 בברכה, צוות {team} .<br /><br />');
INSERT INTO `Message` VALUES(763, 'he', '{count} משתמשים נמחקו.');
INSERT INTO `Message` VALUES(764, 'he', 'משתמש נמחק.');
INSERT INTO `Message` VALUES(765, 'he', 'ערך ההגדרה');
INSERT INTO `Message` VALUES(766, 'he', 'מפתח יחודי להגדרה');
INSERT INTO `Message` VALUES(767, 'he', 'לא נמצאו חדשות.');
INSERT INTO `Message` VALUES(768, 'he', 'עורך מדריך');
INSERT INTO `Message` VALUES(769, 'he', 'מצטערים, אך כתובת אימייל זו כבר נמצאת בשימוש על ידי משתמש אחר.');
INSERT INTO `Message` VALUES(770, 'he', 'מצטערים, אך לא ניתן היה לאתר את המשתמש הזה.');
INSERT INTO `Message` VALUES(771, 'he', 'משתמשים');
INSERT INTO `Message` VALUES(772, 'he', 'צופה בפרופיל של {name}');
INSERT INTO `Message` VALUES(773, 'he', 'פרסומים אחרונים');
INSERT INTO `Message` VALUES(774, 'he', 'מדריכים');
INSERT INTO `Message` VALUES(775, 'he', 'לא פורסמו מדריכים.');
INSERT INTO `Message` VALUES(776, 'he', 'הודעות בלוג');
INSERT INTO `Message` VALUES(777, 'he', 'לא פורסמו הודעות.');
INSERT INTO `Message` VALUES(778, 'he', 'שם משתמש');
INSERT INTO `Message` VALUES(779, 'he', 'מיין רשימה על פי שם משתמש');
INSERT INTO `Message` VALUES(780, 'he', 'תאריך הצטרפות');
INSERT INTO `Message` VALUES(781, 'he', 'מיין רשימה על פי תאריך הצטרפות');
INSERT INTO `Message` VALUES(782, 'he', 'תפקיד');
INSERT INTO `Message` VALUES(783, 'he', 'מיין רשימה על פי התפקיד');
INSERT INTO `Message` VALUES(784, 'he', 'משתמש');
INSERT INTO `Message` VALUES(785, 'he', 'מנהל');
INSERT INTO `Message` VALUES(786, 'he', 'שאלות נפוצות');
INSERT INTO `Message` VALUES(787, 'he', 'שאלות נפוצות');
INSERT INTO `Message` VALUES(788, 'he', 'מצטערים, אך אין לך את ההרשאות המתאימות לצפייה באזור זה.');
INSERT INTO `Message` VALUES(789, 'he', 'תודה. הנך מחובר כעת.');
INSERT INTO `Message` VALUES(790, 'he', 'תוספים');
INSERT INTO `Message` VALUES(791, 'he', 'קטגוריות');
INSERT INTO `Message` VALUES(792, 'he', 'הוסף קטגוריה');
INSERT INTO `Message` VALUES(793, 'he', 'הוסף תוסף');
INSERT INTO `Message` VALUES(794, 'he', 'מיקום');
INSERT INTO `Message` VALUES(795, 'he', 'כותרת');
INSERT INTO `Message` VALUES(796, 'he', 'מפתח');
INSERT INTO `Message` VALUES(797, 'he', 'תיאור');
INSERT INTO `Message` VALUES(798, 'he', 'שפה');
INSERT INTO `Message` VALUES(799, 'he', 'קריאה');
INSERT INTO `Message` VALUES(800, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(801, 'he', 'נהל תגובות');
INSERT INTO `Message` VALUES(802, 'he', 'תגובות');
INSERT INTO `Message` VALUES(803, 'he', 'מספר');
INSERT INTO `Message` VALUES(804, 'he', 'עורך');
INSERT INTO `Message` VALUES(805, 'he', 'מיין רשימה על פי עורך');
INSERT INTO `Message` VALUES(806, 'he', 'תאריך פרסום');
INSERT INTO `Message` VALUES(807, 'he', 'מיין רשימה על פי תאריך פרסום');
INSERT INTO `Message` VALUES(808, 'he', 'סטטוס');
INSERT INTO `Message` VALUES(809, 'he', 'מיין רשימה על פי סטטוס');
INSERT INTO `Message` VALUES(810, 'he', 'תגובה');
INSERT INTO `Message` VALUES(811, 'he', 'לא נמצאו תגובות.');
INSERT INTO `Message` VALUES(812, 'he', 'מוסיף קטגוריה.');
INSERT INTO `Message` VALUES(813, 'he', 'תת-קטגוריה');
INSERT INTO `Message` VALUES(814, 'he', 'תיאור קצר');
INSERT INTO `Message` VALUES(815, 'he', 'תגיות');
INSERT INTO `Message` VALUES(816, 'he', 'קטגוריה לקריאה בלבד');
INSERT INTO `Message` VALUES(817, 'he', 'הרשאות צפייה');
INSERT INTO `Message` VALUES(818, 'he', 'הרשאות פרסום תוספים');
INSERT INTO `Message` VALUES(819, 'he', 'הרשאות פרסום תגובות');
INSERT INTO `Message` VALUES(820, 'he', 'הרשאות פרסום קבצים');
INSERT INTO `Message` VALUES(821, 'he', 'הרשאות פרסום תוספים ללא צורך באישור');
INSERT INTO `Message` VALUES(822, 'he', 'בחר קטגורית אב לקטגוריה זו');
INSERT INTO `Message` VALUES(823, 'he', '-- ראשית --');
INSERT INTO `Message` VALUES(824, 'he', 'השפה בה הקטגוריה מוצגת בה.');
INSERT INTO `Message` VALUES(825, 'he', 'הרשאות צפייה בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(826, 'he', 'הרשאות פרסום בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(827, 'he', 'הרשאות פרסום תגובות בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(828, 'he', 'הרשאות פרסום קבצים בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(829, 'he', 'הרשאות פרסום ללא אישור בקטגוריה זו (כברירת מחדל אף אחד)');
INSERT INTO `Message` VALUES(830, 'he', 'קטגוריה נוספה.');
INSERT INTO `Message` VALUES(831, 'he', 'צפה בתוספים');
INSERT INTO `Message` VALUES(832, 'he', 'צפה בקטגוריה');
INSERT INTO `Message` VALUES(833, 'he', 'הוסף תוסף לקטגוריה זו');
INSERT INTO `Message` VALUES(834, 'he', 'הוסף תת קטגוריה לקטגוריה זו');
INSERT INTO `Message` VALUES(835, 'he', 'ערוך קטגוריה');
INSERT INTO `Message` VALUES(836, 'he', 'מחק קטגוריה!');
INSERT INTO `Message` VALUES(837, 'he', 'סטטוס קטגוריה עודכן.');
INSERT INTO `Message` VALUES(838, 'he', 'צופה בקטגוריה.');
INSERT INTO `Message` VALUES(839, 'he', 'מיין רשימה על פי כותרת');
INSERT INTO `Message` VALUES(840, 'he', 'מיין רשימה על פי מפתח');
INSERT INTO `Message` VALUES(841, 'he', 'תאריך פרסום');
INSERT INTO `Message` VALUES(842, 'he', 'מיין רשימה על פי תאריך פרסום');
INSERT INTO `Message` VALUES(843, 'he', 'מיין רשימה על פי שפה');
INSERT INTO `Message` VALUES(844, 'he', 'מיין רשימה על פי סטטוס');
INSERT INTO `Message` VALUES(845, 'he', 'מוסיף תוסף');
INSERT INTO `Message` VALUES(846, 'he', 'קטגוריה');
INSERT INTO `Message` VALUES(847, 'he', 'תוכן');
INSERT INTO `Message` VALUES(848, 'he', 'התוסף אושר');
INSERT INTO `Message` VALUES(849, 'he', 'בחר קטגוריה לתוסף זה');
INSERT INTO `Message` VALUES(850, 'he', '-- בחר --');
INSERT INTO `Message` VALUES(851, 'he', 'בחר את השפה בה התוסף יוצג.');
INSERT INTO `Message` VALUES(852, 'he', 'מוסתר');
INSERT INTO `Message` VALUES(853, 'he', 'פעיל');
INSERT INTO `Message` VALUES(854, 'he', 'התוסף נוסף. :)');
INSERT INTO `Message` VALUES(855, 'he', 'עדכן ססטוס תוסף.');
INSERT INTO `Message` VALUES(856, 'he', 'צפה בתוסף');
INSERT INTO `Message` VALUES(857, 'he', 'ערוך תוסף');
INSERT INTO `Message` VALUES(858, 'he', 'מחק תוסף');
INSERT INTO `Message` VALUES(859, 'he', 'סטטוס התוסף עודכן.');
INSERT INTO `Message` VALUES(860, 'he', 'תאריך עדכון אחרון');
INSERT INTO `Message` VALUES(861, 'he', 'נערך לאחרונה על ידי');
INSERT INTO `Message` VALUES(862, 'he', 'עורך תוסף');
INSERT INTO `Message` VALUES(863, 'he', 'התוסף עודכן');
INSERT INTO `Message` VALUES(864, 'he', 'עורך קטגוריה');
INSERT INTO `Message` VALUES(865, 'he', 'קטגוריה עודכנה.');
INSERT INTO `Message` VALUES(866, 'he', 'קטגוריה נמחקה.');
INSERT INTO `Message` VALUES(867, 'he', 'מחק קטגוריה');
INSERT INTO `Message` VALUES(868, 'he', 'העבר קטגוריות אל');
INSERT INTO `Message` VALUES(869, 'he', 'בחר קטגוריה כדי להעביר את כל תתי הקטגוריה');
INSERT INTO `Message` VALUES(870, 'he', 'העבר תוספים אל');
INSERT INTO `Message` VALUES(871, 'he', 'בחר קטגוריה להעביר את כל התוספים');
INSERT INTO `Message` VALUES(872, 'he', 'הינך חייב לציין קטגוריה להעביר את הפריטים.');
INSERT INTO `Message` VALUES(873, 'he', 'דוקומנטציה');
INSERT INTO `Message` VALUES(874, 'he', 'פורסם על ידי <strong>{by}</strong> ב {in} בתאריך {on}');
INSERT INTO `Message` VALUES(875, 'he', 'הוסף תוסף');
INSERT INTO `Message` VALUES(876, 'he', '{count} תוספים בהמתנה');
INSERT INTO `Message` VALUES(877, 'he', 'התוספים שלי');
INSERT INTO `Message` VALUES(878, 'he', 'אנא מלא את כל שדות החובה ולחץ על כפתור השליחה בסיום.');
INSERT INTO `Message` VALUES(879, 'he', 'בחר קטגוריה לתוסף זה');
INSERT INTO `Message` VALUES(880, 'he', 'צפיות');
INSERT INTO `Message` VALUES(881, 'he', 'לא פורסמו תגובות עדיין.');
INSERT INTO `Message` VALUES(882, 'he', 'פרסם תגובה');
INSERT INTO `Message` VALUES(883, 'he', 'התגובה פורסמה.');
INSERT INTO `Message` VALUES(884, 'he', 'עדכן סטטוס תגובה.');
INSERT INTO `Message` VALUES(885, 'he', 'התוספים שלי');
INSERT INTO `Message` VALUES(886, 'he', 'התוסף הוסתר');
INSERT INTO `Message` VALUES(887, 'he', 'התוסף הוסתר');
INSERT INTO `Message` VALUES(888, 'he', '{count} תוספים בהמתנה');
INSERT INTO `Message` VALUES(889, 'he', 'התוסף אושר');
INSERT INTO `Message` VALUES(890, 'he', 'לא נמצאו תוספים.');
INSERT INTO `Message` VALUES(891, 'he', 'תוספים שפורסמו');
INSERT INTO `Message` VALUES(892, 'he', 'לא פורסמו תוספים.');
INSERT INTO `Message` VALUES(893, 'he', 'תגובות');
INSERT INTO `Message` VALUES(894, 'he', 'לא פורסמו תגובות עדיין.');
INSERT INTO `Message` VALUES(895, 'he', 'פרסם תגובה');
INSERT INTO `Message` VALUES(896, 'he', 'התגובה פורסמה.');
INSERT INTO `Message` VALUES(897, 'he', 'עדכן סטטוס תגובה.');
INSERT INTO `Message` VALUES(898, 'he', 'פרופיל');
INSERT INTO `Message` VALUES(899, 'he', 'העלה קובץ');
INSERT INTO `Message` VALUES(900, 'he', 'אנא בחר קובץ להעלאה ציין תיאור ולחץ על כפתור השליחה.');
INSERT INTO `Message` VALUES(901, 'he', 'קובץ');
INSERT INTO `Message` VALUES(902, 'he', 'התוסף שלך הועלה!');
INSERT INTO `Message` VALUES(903, 'he', 'שם');
INSERT INTO `Message` VALUES(904, 'he', 'שם קובץ');
INSERT INTO `Message` VALUES(905, 'he', 'תיאור הקובץ');
INSERT INTO `Message` VALUES(906, 'he', 'סוג הקובץ');
INSERT INTO `Message` VALUES(907, 'he', 'תאריך העלאה');
INSERT INTO `Message` VALUES(908, 'he', 'הורדות');
INSERT INTO `Message` VALUES(909, 'he', 'גודל הקובץ');
INSERT INTO `Message` VALUES(910, 'he', 'הורד קובץ');
INSERT INTO `Message` VALUES(911, 'he', 'מחק');
INSERT INTO `Message` VALUES(912, 'he', 'הקובץ נמחק.');
INSERT INTO `Message` VALUES(913, 'he', 'דיוור');
INSERT INTO `Message` VALUES(914, 'he', 'כתובות אימייל');
INSERT INTO `Message` VALUES(915, 'he', 'אימייל');
INSERT INTO `Message` VALUES(916, 'he', 'מיין רשימה על פי אימייל');
INSERT INTO `Message` VALUES(917, 'he', 'הצטרף');
INSERT INTO `Message` VALUES(918, 'he', 'מיין רשימה על פי תאריך הצטרפות');
INSERT INTO `Message` VALUES(919, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(920, 'he', 'לא נמצאו פריטים.');
INSERT INTO `Message` VALUES(921, 'he', 'הוסף אימייל');
INSERT INTO `Message` VALUES(922, 'he', 'אימייל');
INSERT INTO `Message` VALUES(923, 'he', 'האימייל נוסף.');
INSERT INTO `Message` VALUES(924, 'he', 'מחק פריט זה.');
INSERT INTO `Message` VALUES(925, 'he', 'הפריט נמחק.');
INSERT INTO `Message` VALUES(926, 'he', 'שלח דיוור.');
INSERT INTO `Message` VALUES(927, 'he', 'נשלח!');
INSERT INTO `Message` VALUES(928, 'he', 'נושא');
INSERT INTO `Message` VALUES(929, 'he', '{count} הודעות דיוור נשלחו.');
INSERT INTO `Message` VALUES(930, 'he', 'תכונות עיקריות');
INSERT INTO `Message` VALUES(931, 'he', 'מודל-תצוגה-קונטרולר (MVC)');
INSERT INTO `Message` VALUES(932, 'he', 'ניהול תבניות ועיצוב');
INSERT INTO `Message` VALUES(933, 'he', 'מה הוא Yii?');
INSERT INTO `Message` VALUES(934, 'he', 'Yii הינו פריימוורק בעל ביצועים גבוהים אשר נכתב בשפת PHP כדי לפתח אפליקציות ווב.');
INSERT INTO `Message` VALUES(935, 'he', 'Yii מאפשר למפתחים לבצע שימוש חוזר בפיתוח אפליקציות אשר מזרז את תהליך הפיתוח בצורה משמעותית. השם Yii (המבוטא כ- Yee או [ji:] ) משמעותו היא קלה, יעיל וניתן להרחבה.');
INSERT INTO `Message` VALUES(936, 'he', 'רשימת אפשרויות עיקרית');
INSERT INTO `Message` VALUES(937, 'he', 'שימוש ב-MVC');
INSERT INTO `Message` VALUES(938, 'he', 'ניהול מסד נתונים');
INSERT INTO `Message` VALUES(939, 'he', 'תמיכה ב JQuery');
INSERT INTO `Message` VALUES(940, 'he', 'תמיכה בשפות');
INSERT INTO `Message` VALUES(941, 'he', 'ניהול מטמון');
INSERT INTO `Message` VALUES(942, 'he', 'ניהול שגיאות ותיעוד');
INSERT INTO `Message` VALUES(943, 'he', 'תבניות');
INSERT INTO `Message` VALUES(944, 'he', 'Web services');
INSERT INTO `Message` VALUES(945, 'he', 'אפליקציות מסוף');
INSERT INTO `Message` VALUES(946, 'he', 'ניהול ואימות משתמשים');
INSERT INTO `Message` VALUES(947, 'he', 'וידג''טים');
INSERT INTO `Message` VALUES(948, 'he', 'ניהול אימות טפסים');
INSERT INTO `Message` VALUES(949, 'he', 'צפה ברשימת אפשרויות מלאה');
INSERT INTO `Message` VALUES(950, 'he', 'מדריכים אחרונים');
INSERT INTO `Message` VALUES(951, 'he', 'ארכיטקטורת MVC');
INSERT INTO `Message` VALUES(952, 'he', 'מסד נתונים, DAO/ActiveRecord');
INSERT INTO `Message` VALUES(953, 'he', 'תמיכה בשפות, I18N/L10N');
INSERT INTO `Message` VALUES(954, 'he', 'ניהול וידג''טים');
INSERT INTO `Message` VALUES(955, 'he', 'ניהול תבניות');
INSERT INTO `Message` VALUES(956, 'he', 'אודות');
INSERT INTO `Message` VALUES(957, 'he', '<strong>{name}</strong> הינו אתר תמיכה <b>לא רשמי</b> בשפה העברית עבור הפריימוורק {yii}, הוא נבנה כדי לתת למשתמשים מדריכים, תוספים ודוקומנטציה מלאה בעברית.');
INSERT INTO `Message` VALUES(958, 'he', 'מרבית מהתוכן הקיים באתר הוא בחינם, מתוחזק ומפורסם על ידי משתמשי הקהילה.');
INSERT INTO `Message` VALUES(959, 'he', 'קרא עוד');
INSERT INTO `Message` VALUES(960, 'he', 'RSS עבור תוספים');
INSERT INTO `Message` VALUES(961, 'he', 'למה כדי להשתמש ב Yii?');
INSERT INTO `Message` VALUES(962, 'he', 'קל');
INSERT INTO `Message` VALUES(963, 'he', 'Yii הינו קל ופשוט ללמידה ושימוש. כל מה שצריך לדעת זה PHP בסיסי (ידע ב OOP יקנה יתרון). אין צורך בללמוד שפה חדשה.');
INSERT INTO `Message` VALUES(964, 'he', 'מתועד כהלכה');
INSERT INTO `Message` VALUES(965, 'he', 'דוקומנטציה');
INSERT INTO `Message` VALUES(966, 'he', 'Yii מכילה {doc} רחבה במיוחד. מהמדריך המלא עד לתיעוד כל המחלקות, Yii מכילה את כל המידע הדרוש כדי ללמוד ולעבוד אתה בקלות. ');
INSERT INTO `Message` VALUES(967, 'he', 'מכיל אפשרויות');
INSERT INTO `Message` VALUES(968, 'he', 'Yii מגיעה עם סט נרחב של אפשרויות. החל מארכיטקטורת MVC, DAO, Active Record, ניהול תביות, תמיכה בשפות, Yii מספקת כמעט כל אפשרות הנחוצה כיום לפיתוח אפליקציות ווב 2.0.');
INSERT INTO `Message` VALUES(969, 'he', 'בחינם!');
INSERT INTO `Message` VALUES(970, 'he', 'לבסוף, Yii היא בחינם. תוך שימוש ברשיון ה-BSD החדש, Yii מוודא שגם כל התוספים המפורסמים באתר יפורסמו תחת אותו רישיון. זה אומר שניתן להשתמש בה גם לצרכים עסקיים וחופשיים כאחד.');
INSERT INTO `Message` VALUES(971, 'he', 'תוספים אחרונים');
INSERT INTO `Message` VALUES(972, 'he', 'דיוור');
INSERT INTO `Message` VALUES(973, 'he', 'הרשם לרשימת הדיוור של האתר והשאר עדכני בכל הנוגע לאתר, ל-Yii, מדריכים, דוקומנטציה, ושאר פעילות באתר.');
INSERT INTO `Message` VALUES(974, 'he', 'ציין כתובת אימייל...');
INSERT INTO `Message` VALUES(975, 'he', 'אימייל');
INSERT INTO `Message` VALUES(976, 'he', 'כתובת אימייל');
INSERT INTO `Message` VALUES(977, 'he', 'הרשם');
INSERT INTO `Message` VALUES(978, 'he', 'כתובת האימייל כבר רשומה.');
INSERT INTO `Message` VALUES(979, 'he', 'תודה. הנך רשום לרשימת הדיוור של האתר.');
INSERT INTO `Message` VALUES(980, 'he', '{count} פריטים נמחקו.');
INSERT INTO `Message` VALUES(981, 'he', 'תצוגה מקדימה!');
INSERT INTO `Message` VALUES(982, 'he', 'תצוגה מקדימה');
INSERT INTO `Message` VALUES(983, 'he', 'מצטערים, אך העמוד שחפשת לא נמצא.');
INSERT INTO `Message` VALUES(984, 'he', 'התחבר בעזרת Facebook');
INSERT INTO `Message` VALUES(985, 'he', 'התחבר בעזרת Facebook');
INSERT INTO `Message` VALUES(986, 'he', 'מצטערים, לא ניתן היה לאתר משתמש עם חשבון Facebook זה.');
INSERT INTO `Message` VALUES(987, 'he', 'לא ניתן היה לאתר שום חשבון משתמש המשוייך לחשבון Facebook זה.');
INSERT INTO `Message` VALUES(988, 'he', '<b>{name}</b>, אתה כמעט שם! כל מה שנותר לך לעשות הוא למלא את אחד מהטפסים הבאים בכדי לסיים את תהליך ההתחברות. במידה וכבר נרשמת לאתר זה בעבר ויש ברשותך חשבון פעיל שתרצה לשייך לחשבון הפייסבוק שלך אנא מלא את הטופס <i>טופס שיוך חשבון</i> , במידה ולא נרשמת לאתר זה בעבר ותרצה להשתמש בחשבון הפייסבוק שלך כאן כל מה שעליך לעשות הוא למלא את הטופס <i>טופס הרשמה</i>. ברגע שמלאת את אחד מהטפסים, לחץ על כפתור השליחה בטופס שבו בחרת.\r\n');
INSERT INTO `Message` VALUES(989, 'he', '<b>{name}</b>, אתה כמעט שם! כל מה שנותר לך לעשות הוא למלא את אחד מהטפסים הבאים בכדי לסיים את תהליך ההתחברות. במידה וכבר נרשמת לאתר זה בעבר ויש ברשותך חשבון פעיל שתרצה לשייך לחשבון הפייסבוק שלך אנא מלא את הטופס <i>טופס שיוך חשבון</i> , במידה ולא נרשמת לאתר זה בעבר ותרצה להשתמש בחשבון הפייסבוק שלך כאן כל מה שעליך לעשות הוא למלא את הטופס <i>טופס הרשמה</i>. ברגע שמלאת את אחד מהטפסים, לחץ על כפתור השליחה בטופס שבו בחרת.\r\n');
INSERT INTO `Message` VALUES(990, 'he', 'טופס שיוך חשבון');
INSERT INTO `Message` VALUES(991, 'he', 'שייך חשבון באתר עם החשבון שלך בפייסבוק');
INSERT INTO `Message` VALUES(992, 'he', 'טופס הרשמה');
INSERT INTO `Message` VALUES(993, 'he', 'הרשם לאתר בעזרת הפרטים מחשבון הפייסבוק שלך.');
INSERT INTO `Message` VALUES(994, 'he', 'ציין את שם המשתמש שלך');
INSERT INTO `Message` VALUES(995, 'he', 'מצטערים, אך כתובות האימייל של החשבונות אינם תואמות.');
INSERT INTO `Message` VALUES(996, 'he', 'מצאנו חשבון משתמש אשר משוייך לחשבון הפייסבוק שלך אך כתובות האימייל אינם תואמות, אנא מלא את הטופס הבא בכדי להתחבר בתור המשתמש הזה.');
INSERT INTO `Message` VALUES(997, 'he', 'תודה. הנך מחובר כעת.');
INSERT INTO `Message` VALUES(998, 'he', 'פורום');
INSERT INTO `Message` VALUES(999, 'he', 'פורום');
INSERT INTO `Message` VALUES(1000, 'he', 'לא פורסמו נושאים עדיין.');
INSERT INTO `Message` VALUES(1001, 'he', 'צור נושא');
INSERT INTO `Message` VALUES(1002, 'he', 'צור נושא חדש');
INSERT INTO `Message` VALUES(1003, 'he', 'אנא מלא את כל השדות ולאחר מכן לחץ על כפתור השליחה.');
INSERT INTO `Message` VALUES(1004, 'he', 'כותרת');
INSERT INTO `Message` VALUES(1005, 'he', 'תוכן');
INSERT INTO `Message` VALUES(1006, 'he', 'תודה. הנושא שלך פורסם.');
INSERT INTO `Message` VALUES(1007, 'he', 'נושאים');
INSERT INTO `Message` VALUES(1008, 'he', 'צפיות:');
INSERT INTO `Message` VALUES(1009, 'he', 'מפרסם');
INSERT INTO `Message` VALUES(1010, 'he', 'תאריך');
INSERT INTO `Message` VALUES(1011, 'he', 'צפיות');
INSERT INTO `Message` VALUES(1012, 'he', 'תגובות');
INSERT INTO `Message` VALUES(1013, 'he', 'הודעה אחרונה');
INSERT INTO `Message` VALUES(1014, 'he', 'על ידי {by}<br />בתאריך {on}');
INSERT INTO `Message` VALUES(1015, 'he', 'מצטערים, לא ניתן היה לאתר את הנושא הזה.');
INSERT INTO `Message` VALUES(1016, 'he', 'צופה בנושא: {title}');
INSERT INTO `Message` VALUES(1017, 'he', 'הודעות');
INSERT INTO `Message` VALUES(1018, 'he', 'לא פורסמו תגובות עדיין.');
INSERT INTO `Message` VALUES(1019, 'he', 'הינך חייב להיות מחובר בכדי לפרסם.');
INSERT INTO `Message` VALUES(1020, 'he', 'פרסם');
INSERT INTO `Message` VALUES(1021, 'he', 'פרסם תגובה');
INSERT INTO `Message` VALUES(1022, 'he', 'תודה. התגובה שלך פורסמה.');
INSERT INTO `Message` VALUES(1023, 'he', 'עדכן סטטוס תגובה.');
INSERT INTO `Message` VALUES(1024, 'he', 'סטטוס תגובה עודכן.');
INSERT INTO `Message` VALUES(1025, 'he', '(מוסתר)');
INSERT INTO `Message` VALUES(1026, 'he', 'נהל');
INSERT INTO `Message` VALUES(1027, 'he', 'עדכן סטטוס נושא');
INSERT INTO `Message` VALUES(1028, 'he', 'סטטוס נושא עודכן');
INSERT INTO `Message` VALUES(1029, 'he', 'לא הועלו קבצים עדיין.');
INSERT INTO `Message` VALUES(1030, 'he', 'מידע אודות האתר');
INSERT INTO `Message` VALUES(1031, 'he', 'מספר משתמשים');
INSERT INTO `Message` VALUES(1032, 'he', 'רשומים בדיוור');
INSERT INTO `Message` VALUES(1033, 'he', 'נרשם לאחרונה');
INSERT INTO `Message` VALUES(1034, 'he', 'הערות משתמשים');
INSERT INTO `Message` VALUES(1035, 'he', 'תגובות משתמשים אחרונות');
INSERT INTO `Message` VALUES(1036, 'he', 'דוקומנטציה');
INSERT INTO `Message` VALUES(1037, 'he', 'צפיות בדוקומנטציה');
INSERT INTO `Message` VALUES(1038, 'he', 'תגובות בדוקומנטציה');
INSERT INTO `Message` VALUES(1039, 'he', 'תגובות אחרונות');
INSERT INTO `Message` VALUES(1040, 'he', 'מידע אודות הבלוג');
INSERT INTO `Message` VALUES(1041, 'he', 'סך הכל קטגוריות');
INSERT INTO `Message` VALUES(1042, 'he', 'סך הכל הודעות');
INSERT INTO `Message` VALUES(1043, 'he', 'סך הכל צפיות');
INSERT INTO `Message` VALUES(1044, 'he', 'סך הכל תגובות');
INSERT INTO `Message` VALUES(1045, 'he', 'עמודים');
INSERT INTO `Message` VALUES(1046, 'he', 'מספר עמודים');
INSERT INTO `Message` VALUES(1047, 'he', 'עמודים מוסתרים');
INSERT INTO `Message` VALUES(1048, 'he', 'מידע אודות מדריכים');
INSERT INTO `Message` VALUES(1049, 'he', 'סך הכל מדריכים');
INSERT INTO `Message` VALUES(1050, 'he', 'תוספים');
INSERT INTO `Message` VALUES(1051, 'he', 'סך הכל תוספים');
INSERT INTO `Message` VALUES(1052, 'he', 'סך הכל קבצים');
INSERT INTO `Message` VALUES(1053, 'he', 'מידע יצירות קשר');
INSERT INTO `Message` VALUES(1054, 'he', 'סך הכל נשלחו');
INSERT INTO `Message` VALUES(1055, 'he', 'נשלח לאחרונה');
INSERT INTO `Message` VALUES(1056, 'he', 'פורום');
INSERT INTO `Message` VALUES(1057, 'he', 'סך הכל נושאים');
INSERT INTO `Message` VALUES(1058, 'he', 'נושא אחרון');
INSERT INTO `Message` VALUES(1059, 'he', 'תגובה אחרונה');
INSERT INTO `Message` VALUES(1060, 'he', 'סך הכל תגובות ממתינות לאישור');
INSERT INTO `Message` VALUES(1061, 'he', 'סך הכל הודעות ממתינות לאישור');
INSERT INTO `Message` VALUES(1062, 'he', 'סך הכל מדריכים ממתינים לאישור');
INSERT INTO `Message` VALUES(1063, 'he', 'סך הכל תוספים ממתינים לאישור');
INSERT INTO `Message` VALUES(1064, 'he', 'סך הכל נושאים');
INSERT INTO `Message` VALUES(1065, 'he', 'בנאום (ריבוי שפות/לוקליזציה)');
INSERT INTO `Message` VALUES(1066, 'he', 'ריבוי שפות / לוקליזציה');
INSERT INTO `Message` VALUES(1067, 'he', 'שימוש בתחביר תצוגה נוסף');
INSERT INTO `Message` VALUES(1068, 'he', 'שיפור ביצועי המערכת');
INSERT INTO `Message` VALUES(1069, 'he', 'עבודה עם מסד נתונים');
INSERT INTO `Message` VALUES(1070, 'he', 'אפשרויות');
INSERT INTO `Message` VALUES(1071, 'he', 'איסוף קלט מאסיבי');
INSERT INTO `Message` VALUES(1072, 'he', 'בניית בלוג בעזרת Yii');
INSERT INTO `Message` VALUES(1073, 'he', ' ניהול תבניות ועיצוב');
INSERT INTO `Message` VALUES(1074, 'he', 'חיפוש');
INSERT INTO `Message` VALUES(1075, 'he', 'טוען...');
INSERT INTO `Message` VALUES(1076, 'he', 'חיפוש');
INSERT INTO `Message` VALUES(1077, 'he', 'רשימת האפשרויות הזמינות ב Yii');
INSERT INTO `Message` VALUES(1078, 'he', 'אין מדריכים זמינים.');
INSERT INTO `Message` VALUES(1079, 'he', 'דוקומנטציה ומדריכים');

-- --------------------------------------------------------

--
-- Table structure for table `newsletter`
--

CREATE TABLE `newsletter` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `email` varchar(125) NOT NULL DEFAULT '',
  `joined` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `joined` (`joined`),
  KEY `email` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `newsletter`
--


-- --------------------------------------------------------

--
-- Table structure for table `sessions`
--

CREATE TABLE `sessions` (
  `id` char(32) NOT NULL,
  `expire` int(11) DEFAULT NULL,
  `data` text,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- Dumping data for table `sessions`
--

INSERT INTO `sessions` VALUES('186c4d48f6c55bfe61cfb65a9469bbff', 1276510098, 'Yii.CCaptchaAction.2467f1e8.site/login.captcha|s:5:"xxril";Yii.CCaptchaAction.2467f1e8.site/login.captchacount|i:3;e97abf38ce39094539bf0786bb01f509__id|s:1:"1";e97abf38ce39094539bf0786bb01f509__name|s:18:"vadimg88@gmail.com";e97abf38ce39094539bf0786bb01f509name|s:5:"admin";e97abf38ce39094539bf0786bb01f509username|s:5:"admin";e97abf38ce39094539bf0786bb01f509seoname|s:5:"admin";e97abf38ce39094539bf0786bb01f509email|s:18:"vadimg88@gmail.com";e97abf38ce39094539bf0786bb01f509role|s:5:"admin";e97abf38ce39094539bf0786bb01f509__states|a:5:{s:4:"name";b:1;s:8:"username";b:1;s:7:"seoname";b:1;s:5:"email";b:1;s:4:"role";b:1;}');

-- --------------------------------------------------------

--
-- Table structure for table `settings`
--

CREATE TABLE `settings` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(125) NOT NULL DEFAULT '',
  `description` text,
  `category` int(10) NOT NULL DEFAULT '0',
  `type` char(30) NOT NULL DEFAULT 'text',
  `settingkey` varchar(125) NOT NULL DEFAULT '',
  `default_value` text,
  `value` text,
  `extra` text,
  `php` text,
  PRIMARY KEY (`id`),
  UNIQUE KEY `settingkey` (`settingkey`),
  KEY `title` (`title`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=20 ;

--
-- Dumping data for table `settings`
--

INSERT INTO `settings` VALUES(13, 'Application (Site) Title', 'This is the default application (site) title.', 2, 'text', 'applicationName', 'My Site', 'Yiiframework.co.il', '', '');
INSERT INTO `settings` VALUES(14, 'Default Role ', 'Choose the default group for new users registered.', 2, 'dropdown', 'default_group', 'user', 'admin', '#show_roles#', '');
INSERT INTO `settings` VALUES(15, 'Incoming Email Address', 'Enter the incoming email address', 2, 'text', 'emailin', 'customers@yiiframework.co.il', 'customers@yiiframework.co.il', '', '');
INSERT INTO `settings` VALUES(16, 'Out Going Email Address', 'Enter the out going email address.', 2, 'text', 'emailout', 'support@yiiframework.co.il', 'support@yiiframework.co.il', '', '');
INSERT INTO `settings` VALUES(17, 'Subject Topics', 'Enter the subject topics. One per line.', 3, 'textarea', 'contactustopics', 'Support\r\nAffiliate\r\nBug Report\r\nDocumentation Bug Report\r\nBusiness Offers\r\nQuestions\r\nOther... ', NULL, '', '');
INSERT INTO `settings` VALUES(18, 'Email the submitted forms?', 'Do you wish to email the submitted forms to the support email address of the system?', 3, 'yesno', 'contactusemail', '1', NULL, '', '');
INSERT INTO `settings` VALUES(19, 'Latest News Category', 'Choose the category to grab the latest news from', 2, 'dropdown', 'latestnewscat', '0', '1', '#show_blogcats#', '');

-- --------------------------------------------------------

--
-- Table structure for table `settingscats`
--

CREATE TABLE `settingscats` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(125) NOT NULL DEFAULT '',
  `description` varchar(255) DEFAULT NULL,
  `groupkey` varchar(125) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`),
  UNIQUE KEY `groupkey` (`groupkey`),
  KEY `title` (`title`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=4 ;

--
-- Dumping data for table `settingscats`
--

INSERT INTO `settingscats` VALUES(2, 'General Settings', 'General settings related to the entire application', 'general');
INSERT INTO `settingscats` VALUES(3, 'Contact Us Settings', 'Contact Us form and page settings', 'contactus');

-- --------------------------------------------------------

--
-- Table structure for table `SourceMessage`
--

CREATE TABLE `SourceMessage` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `category` varchar(32) DEFAULT NULL,
  `message` text,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=1080 ;

--
-- Dumping data for table `SourceMessage`
--

INSERT INTO `SourceMessage` VALUES(1, 'global', 'Yiiframework.co.il');
INSERT INTO `SourceMessage` VALUES(2, 'global', 'Admin');
INSERT INTO `SourceMessage` VALUES(3, 'adminglobal', 'Dashboard');
INSERT INTO `SourceMessage` VALUES(4, 'adminglobal', 'Are you sure you want to delete this item?\\nThis action cannot be undone!');
INSERT INTO `SourceMessage` VALUES(5, 'adminglobal', 'OK! Action Cancled.');
INSERT INTO `SourceMessage` VALUES(6, 'adminglobal', 'Admin Panel');
INSERT INTO `SourceMessage` VALUES(7, 'adminglobal', 'Hello,');
INSERT INTO `SourceMessage` VALUES(8, 'adminglobal', 'Edit your profile');
INSERT INTO `SourceMessage` VALUES(9, 'adminglobal', 'You have');
INSERT INTO `SourceMessage` VALUES(10, 'adminglobal', '{n} Messages');
INSERT INTO `SourceMessage` VALUES(11, 'adminglobal', 'View the Site');
INSERT INTO `SourceMessage` VALUES(12, 'adminglobal', 'Sign Out');
INSERT INTO `SourceMessage` VALUES(13, 'adminglobal', 'System');
INSERT INTO `SourceMessage` VALUES(14, 'adminglobal', 'Manage Settings');
INSERT INTO `SourceMessage` VALUES(15, 'adminglobal', 'Management');
INSERT INTO `SourceMessage` VALUES(16, 'adminglobal', 'Manage Members');
INSERT INTO `SourceMessage` VALUES(17, 'adminglobal', 'Roles, Tasks & Operations');
INSERT INTO `SourceMessage` VALUES(18, 'adminglobal', 'Javascript is disabled or is not supported by your browser. Please <a href="http://browsehappy.com/" title="Upgrade to a better browser">upgrade</a> your browser or <a href="http://www.google.com/support/bin/answer.py?answer=23852" title="Enable Javascript in your browser">enable</a> Javascript to navigate the interface properly.');
INSERT INTO `SourceMessage` VALUES(19, 'adminglobal', 'Home');
INSERT INTO `SourceMessage` VALUES(20, 'adminglobal', '{sitename} &copy; 2010 All rights reserved.');
INSERT INTO `SourceMessage` VALUES(21, 'adminglobal', 'Settings');
INSERT INTO `SourceMessage` VALUES(22, 'adminsettings', 'Add Setting Group');
INSERT INTO `SourceMessage` VALUES(23, 'adminsettings', 'Add Setting');
INSERT INTO `SourceMessage` VALUES(24, 'adminsettings', 'Settings Categories');
INSERT INTO `SourceMessage` VALUES(25, 'adminsettings', 'Title');
INSERT INTO `SourceMessage` VALUES(26, 'adminsettings', 'Description');
INSERT INTO `SourceMessage` VALUES(27, 'adminsettings', 'Key');
INSERT INTO `SourceMessage` VALUES(28, 'adminsettings', 'Count');
INSERT INTO `SourceMessage` VALUES(29, 'adminsettings', 'Options');
INSERT INTO `SourceMessage` VALUES(30, 'adminsettings', 'View category settings');
INSERT INTO `SourceMessage` VALUES(31, 'adminsettings', 'Total Settings');
INSERT INTO `SourceMessage` VALUES(32, 'adminglobal', 'Add setting to this group');
INSERT INTO `SourceMessage` VALUES(33, 'adminglobal', 'Edit this group');
INSERT INTO `SourceMessage` VALUES(34, 'adminglobal', 'Delete this group!');
INSERT INTO `SourceMessage` VALUES(35, 'adminglobal', 'General Settings');
INSERT INTO `SourceMessage` VALUES(36, 'adminsettings', 'Hover over the setting title to see a description if one exists.');
INSERT INTO `SourceMessage` VALUES(37, 'adminsettings', 'Configure Settings');
INSERT INTO `SourceMessage` VALUES(38, 'adminsettings', '(Setting Changed)');
INSERT INTO `SourceMessage` VALUES(39, 'adminglobal', 'Revert setting value to the default value.');
INSERT INTO `SourceMessage` VALUES(40, 'adminglobal', 'Edit this setting');
INSERT INTO `SourceMessage` VALUES(41, 'adminglobal', 'Delete this setting!');
INSERT INTO `SourceMessage` VALUES(42, 'adminglobal', 'Save');
INSERT INTO `SourceMessage` VALUES(43, 'adminglobal', 'Close this notification');
INSERT INTO `SourceMessage` VALUES(44, 'adminglobal', 'Adding setting group');
INSERT INTO `SourceMessage` VALUES(45, 'adminsettings', 'Adding setting group');
INSERT INTO `SourceMessage` VALUES(46, 'adminglobal', 'Submit');
INSERT INTO `SourceMessage` VALUES(47, 'adminglobal', 'Adding Setting');
INSERT INTO `SourceMessage` VALUES(48, 'adminsettings', 'Adding Setting');
INSERT INTO `SourceMessage` VALUES(49, 'adminsettings', 'Setting Title');
INSERT INTO `SourceMessage` VALUES(50, 'adminsettings', 'Setting Description');
INSERT INTO `SourceMessage` VALUES(51, 'adminsettings', 'Setting Key');
INSERT INTO `SourceMessage` VALUES(52, 'adminsettings', 'Setting Group');
INSERT INTO `SourceMessage` VALUES(53, 'adminglobal', '-- Choose Value --');
INSERT INTO `SourceMessage` VALUES(54, 'adminsettings', 'Setting Type');
INSERT INTO `SourceMessage` VALUES(55, 'adminsettings', 'Text Field');
INSERT INTO `SourceMessage` VALUES(56, 'adminsettings', 'Text Area');
INSERT INTO `SourceMessage` VALUES(57, 'adminsettings', 'Select Box');
INSERT INTO `SourceMessage` VALUES(58, 'adminsettings', 'Multi Select Box');
INSERT INTO `SourceMessage` VALUES(59, 'adminsettings', 'Yes/No');
INSERT INTO `SourceMessage` VALUES(60, 'adminsettings', 'HTML Editor');
INSERT INTO `SourceMessage` VALUES(61, 'adminsettings', 'Setting Default Value');
INSERT INTO `SourceMessage` VALUES(62, 'adminsettings', 'Setting Current Value');
INSERT INTO `SourceMessage` VALUES(63, 'adminsettings', 'Setting Extra');
INSERT INTO `SourceMessage` VALUES(64, 'adminsettings', 'Setting PHP Code');
INSERT INTO `SourceMessage` VALUES(65, 'adminglobal', 'Members');
INSERT INTO `SourceMessage` VALUES(66, 'adminmembers', 'Add User');
INSERT INTO `SourceMessage` VALUES(67, 'adminmembers', 'Users');
INSERT INTO `SourceMessage` VALUES(68, 'adminmembers', 'Username');
INSERT INTO `SourceMessage` VALUES(69, 'adminmembers', 'Sort user list by username');
INSERT INTO `SourceMessage` VALUES(70, 'adminmembers', 'Email');
INSERT INTO `SourceMessage` VALUES(71, 'adminmembers', 'Sort user list by email');
INSERT INTO `SourceMessage` VALUES(72, 'adminmembers', 'Role');
INSERT INTO `SourceMessage` VALUES(73, 'adminmembers', 'Sort user list by role');
INSERT INTO `SourceMessage` VALUES(74, 'adminmembers', 'Joined');
INSERT INTO `SourceMessage` VALUES(75, 'adminmembers', 'Sort user list by joined date');
INSERT INTO `SourceMessage` VALUES(76, 'adminmembers', 'Options');
INSERT INTO `SourceMessage` VALUES(77, 'global', '-- Choose Action --');
INSERT INTO `SourceMessage` VALUES(78, 'global', 'Delete Selected');
INSERT INTO `SourceMessage` VALUES(79, 'global', 'Apply');
INSERT INTO `SourceMessage` VALUES(80, 'adminmembers', 'Are you sure you would like to perform a bulk operation?');
INSERT INTO `SourceMessage` VALUES(81, 'adminmembers', 'View User');
INSERT INTO `SourceMessage` VALUES(82, 'adminmembers', 'Joined Date');
INSERT INTO `SourceMessage` VALUES(83, 'adminmembers', 'Edit this member');
INSERT INTO `SourceMessage` VALUES(84, 'adminmembers', 'Delete this member!');
INSERT INTO `SourceMessage` VALUES(85, 'adminroles', 'Roles');
INSERT INTO `SourceMessage` VALUES(86, 'adminroles', 'Add Auth Item');
INSERT INTO `SourceMessage` VALUES(87, 'adminroles', 'Auth Items');
INSERT INTO `SourceMessage` VALUES(88, 'adminroles', 'Name');
INSERT INTO `SourceMessage` VALUES(89, 'adminroles', 'Sort list by name');
INSERT INTO `SourceMessage` VALUES(90, 'adminroles', 'Description');
INSERT INTO `SourceMessage` VALUES(91, 'adminroles', 'Sort list by description');
INSERT INTO `SourceMessage` VALUES(92, 'adminroles', 'Type');
INSERT INTO `SourceMessage` VALUES(93, 'adminroles', 'Sort list by type');
INSERT INTO `SourceMessage` VALUES(94, 'adminroles', 'Children');
INSERT INTO `SourceMessage` VALUES(95, 'adminroles', 'Options');
INSERT INTO `SourceMessage` VALUES(96, 'adminroles', 'View Auth Item');
INSERT INTO `SourceMessage` VALUES(97, 'adminroles', 'Role');
INSERT INTO `SourceMessage` VALUES(98, 'adminroles', 'Item Children');
INSERT INTO `SourceMessage` VALUES(99, 'adminroles', 'Add auth child item');
INSERT INTO `SourceMessage` VALUES(100, 'adminroles', 'Edit this auth item');
INSERT INTO `SourceMessage` VALUES(101, 'adminroles', 'Delete this auth item!');
INSERT INTO `SourceMessage` VALUES(102, 'adminroles', 'Adding Role');
INSERT INTO `SourceMessage` VALUES(103, 'adminroles', 'Adding Auth Item');
INSERT INTO `SourceMessage` VALUES(104, 'adminroles', 'Auth Item Name');
INSERT INTO `SourceMessage` VALUES(105, 'adminroles', 'Auth Item Description');
INSERT INTO `SourceMessage` VALUES(106, 'adminroles', 'Auth Item Type');
INSERT INTO `SourceMessage` VALUES(107, 'global', '-- Choose Value --');
INSERT INTO `SourceMessage` VALUES(108, 'adminroles', 'Auth Item bizRule');
INSERT INTO `SourceMessage` VALUES(109, 'adminroles', 'Auth Item Data');
INSERT INTO `SourceMessage` VALUES(110, 'global', 'Contact Us');
INSERT INTO `SourceMessage` VALUES(111, 'global', 'Blog');
INSERT INTO `SourceMessage` VALUES(112, 'global', 'Extensions');
INSERT INTO `SourceMessage` VALUES(113, 'global', 'Documentation');
INSERT INTO `SourceMessage` VALUES(114, 'global', 'Home');
INSERT INTO `SourceMessage` VALUES(115, 'members', 'Logged in as, {username}');
INSERT INTO `SourceMessage` VALUES(116, 'global', 'English');
INSERT INTO `SourceMessage` VALUES(117, 'global', 'Hebrew');
INSERT INTO `SourceMessage` VALUES(118, 'global', 'Moderator Panel');
INSERT INTO `SourceMessage` VALUES(119, 'members', 'Logout');
INSERT INTO `SourceMessage` VALUES(120, 'adminglobal', 'Manage Languages');
INSERT INTO `SourceMessage` VALUES(121, 'adminlanguages', 'Languages');
INSERT INTO `SourceMessage` VALUES(122, 'documentation', 'Complete Documentation');
INSERT INTO `SourceMessage` VALUES(123, 'global', 'Welcome To {sitename}');
INSERT INTO `SourceMessage` VALUES(124, 'global', 'New Members');
INSERT INTO `SourceMessage` VALUES(125, 'global', 'If you are a new member visiting this site, Once you get a chance to browse through the site, Please take a moment to register to be able to have access to the full feautres this site offers.');
INSERT INTO `SourceMessage` VALUES(126, 'global', 'Existing Members');
INSERT INTO `SourceMessage` VALUES(127, 'global', 'If you are an existing member please take a moment to Login In and have full access to the sites features.');
INSERT INTO `SourceMessage` VALUES(128, 'global', 'Member Log In');
INSERT INTO `SourceMessage` VALUES(129, 'members', 'Email');
INSERT INTO `SourceMessage` VALUES(130, 'members', 'Password');
INSERT INTO `SourceMessage` VALUES(131, 'members', 'Security Code');
INSERT INTO `SourceMessage` VALUES(132, 'global', 'Remember Me');
INSERT INTO `SourceMessage` VALUES(133, 'global', 'Login');
INSERT INTO `SourceMessage` VALUES(134, 'global', 'Lost Your Password?');
INSERT INTO `SourceMessage` VALUES(135, 'global', 'Not A Member Yet? Sign Up!');
INSERT INTO `SourceMessage` VALUES(136, 'members', 'Username');
INSERT INTO `SourceMessage` VALUES(137, 'members', 'Password Confirmation');
INSERT INTO `SourceMessage` VALUES(138, 'global', 'Refresh');
INSERT INTO `SourceMessage` VALUES(139, 'global', 'Enter the text displayed in the image.');
INSERT INTO `SourceMessage` VALUES(140, 'global', 'Register');
INSERT INTO `SourceMessage` VALUES(141, 'global', 'Log In | Register');
INSERT INTO `SourceMessage` VALUES(142, 'global', 'Close Panel');
INSERT INTO `SourceMessage` VALUES(143, 'documentation', 'The Blog Tutorial');
INSERT INTO `SourceMessage` VALUES(144, 'adminlang', 'Languages');
INSERT INTO `SourceMessage` VALUES(145, 'adminlang', 'Langauges');
INSERT INTO `SourceMessage` VALUES(146, 'adminlang', 'Language Key');
INSERT INTO `SourceMessage` VALUES(147, 'adminlang', 'Language Title');
INSERT INTO `SourceMessage` VALUES(148, 'adminlang', 'Source Language');
INSERT INTO `SourceMessage` VALUES(149, 'adminlang', '# Strings');
INSERT INTO `SourceMessage` VALUES(150, 'adminlang', 'Options');
INSERT INTO `SourceMessage` VALUES(151, 'adminlang', 'Source cannot be translated');
INSERT INTO `SourceMessage` VALUES(152, 'adminlang', 'Not Source Language');
INSERT INTO `SourceMessage` VALUES(153, 'adminlang', 'Translate this language');
INSERT INTO `SourceMessage` VALUES(154, 'adminlang', 'Copy missing language strings from source into this language');
INSERT INTO `SourceMessage` VALUES(155, 'adminlang', 'Copy completed! Total of {number} missing strings copied.');
INSERT INTO `SourceMessage` VALUES(156, 'adminlang', 'Language Strings');
INSERT INTO `SourceMessage` VALUES(157, 'adminlang', 'String ID');
INSERT INTO `SourceMessage` VALUES(158, 'adminlang', 'Sort by string id');
INSERT INTO `SourceMessage` VALUES(159, 'adminlang', 'Original String');
INSERT INTO `SourceMessage` VALUES(160, 'adminlang', 'Translation');
INSERT INTO `SourceMessage` VALUES(161, 'adminlang', 'Sort by translation');
INSERT INTO `SourceMessage` VALUES(162, 'adminlang', 'ID');
INSERT INTO `SourceMessage` VALUES(163, 'adminlang', 'Translate');
INSERT INTO `SourceMessage` VALUES(164, 'adminlang', 'Submit');
INSERT INTO `SourceMessage` VALUES(165, 'adminlang', 'Strings Updated.');
INSERT INTO `SourceMessage` VALUES(166, 'adminlang', 'Revert translation to original');
INSERT INTO `SourceMessage` VALUES(167, 'adminlang', 'String Reverted.');
INSERT INTO `SourceMessage` VALUES(168, 'adminroles', 'Editing auth item');
INSERT INTO `SourceMessage` VALUES(169, 'adminroles', 'Auth Item Updated.');
INSERT INTO `SourceMessage` VALUES(170, 'adminroles', 'Viewing Child Items');
INSERT INTO `SourceMessage` VALUES(171, 'adminroles', 'Add Auth Item Child');
INSERT INTO `SourceMessage` VALUES(172, 'adminroles', 'Child Auth Items');
INSERT INTO `SourceMessage` VALUES(173, 'adminroles', 'Parent');
INSERT INTO `SourceMessage` VALUES(174, 'adminroles', 'Sort list by parent');
INSERT INTO `SourceMessage` VALUES(175, 'adminroles', 'Child');
INSERT INTO `SourceMessage` VALUES(176, 'adminroles', 'Sort list by child');
INSERT INTO `SourceMessage` VALUES(177, 'adminroles', 'Delete this relationship!');
INSERT INTO `SourceMessage` VALUES(178, 'adminroles', 'Auth Item Deleted.');
INSERT INTO `SourceMessage` VALUES(179, 'adminroles', 'No items found.');
INSERT INTO `SourceMessage` VALUES(180, 'adminroles', 'Role Added.');
INSERT INTO `SourceMessage` VALUES(181, 'adminroles', 'Task');
INSERT INTO `SourceMessage` VALUES(182, 'adminroles', 'Adding auth item child');
INSERT INTO `SourceMessage` VALUES(183, 'adminroles', 'Auth Item Parent');
INSERT INTO `SourceMessage` VALUES(184, 'adminroles', 'Auth Item Child');
INSERT INTO `SourceMessage` VALUES(185, 'adminroles', 'Child item Added.');
INSERT INTO `SourceMessage` VALUES(186, 'adminlang', 'Search:');
INSERT INTO `SourceMessage` VALUES(187, 'adminglobal', 'Documentation');
INSERT INTO `SourceMessage` VALUES(188, 'adminglobal', 'Manage Documentation');
INSERT INTO `SourceMessage` VALUES(189, 'adminglobal', 'Manage Comments');
INSERT INTO `SourceMessage` VALUES(190, 'adminglobal', 'Custom Pages');
INSERT INTO `SourceMessage` VALUES(191, 'adminglobal', 'Manage Pages');
INSERT INTO `SourceMessage` VALUES(192, 'adminglobal', 'Tutorials');
INSERT INTO `SourceMessage` VALUES(193, 'adminglobal', 'Manage Tutorials');
INSERT INTO `SourceMessage` VALUES(194, 'adminglobal', 'Extensions');
INSERT INTO `SourceMessage` VALUES(195, 'adminglobal', 'Manage Extensions');
INSERT INTO `SourceMessage` VALUES(196, 'adminglobal', 'Blog');
INSERT INTO `SourceMessage` VALUES(197, 'adminglobal', 'Manage Blog');
INSERT INTO `SourceMessage` VALUES(198, 'adminglobal', 'Contact');
INSERT INTO `SourceMessage` VALUES(199, 'adminglobal', 'Manage Contacts');
INSERT INTO `SourceMessage` VALUES(200, 'adminglobal', 'Widgets');
INSERT INTO `SourceMessage` VALUES(201, 'adminglobal', 'Manage Widgets');
INSERT INTO `SourceMessage` VALUES(202, 'admindocs', 'Documentations');
INSERT INTO `SourceMessage` VALUES(203, 'admindocs', 'Guide');
INSERT INTO `SourceMessage` VALUES(204, 'admindocs', 'Blog');
INSERT INTO `SourceMessage` VALUES(205, 'admindocs', 'Name');
INSERT INTO `SourceMessage` VALUES(206, 'admindocs', 'Last Modified');
INSERT INTO `SourceMessage` VALUES(207, 'admindocs', 'Options');
INSERT INTO `SourceMessage` VALUES(208, 'admindocs', 'No files found.');
INSERT INTO `SourceMessage` VALUES(209, 'admindocs', 'Edit this topic');
INSERT INTO `SourceMessage` VALUES(210, 'admindocs', 'View this topic');
INSERT INTO `SourceMessage` VALUES(211, 'admindocs', 'Sorry, We could not find that topic.');
INSERT INTO `SourceMessage` VALUES(212, 'admindocs', 'Editing "{topic}"');
INSERT INTO `SourceMessage` VALUES(213, 'admindocs', 'Save');
INSERT INTO `SourceMessage` VALUES(214, 'admindocs', 'Topic Saved.');
INSERT INTO `SourceMessage` VALUES(215, 'admindocs', 'Editing Topic');
INSERT INTO `SourceMessage` VALUES(216, 'admindocs', 'key');
INSERT INTO `SourceMessage` VALUES(217, 'admindocs', 'Last Modifier');
INSERT INTO `SourceMessage` VALUES(218, 'admindocs', 'Views');
INSERT INTO `SourceMessage` VALUES(219, 'admindocs', 'Topic Updated.');
INSERT INTO `SourceMessage` VALUES(220, 'docs', 'Documentation Name');
INSERT INTO `SourceMessage` VALUES(221, 'docs', 'Documentation Key');
INSERT INTO `SourceMessage` VALUES(222, 'docs', 'Docmentation Description');
INSERT INTO `SourceMessage` VALUES(223, 'docs', 'Documentation Content');
INSERT INTO `SourceMessage` VALUES(224, 'docs', 'Documentation Type');
INSERT INTO `SourceMessage` VALUES(225, 'admindocs', 'There is already a topic with that key in this documentation type.');
INSERT INTO `SourceMessage` VALUES(226, 'adminmembers', 'Editing User');
INSERT INTO `SourceMessage` VALUES(227, 'adminmembers', 'Email Address');
INSERT INTO `SourceMessage` VALUES(228, 'adminmembers', 'Password');
INSERT INTO `SourceMessage` VALUES(229, 'adminmembers', 'Default Role');
INSERT INTO `SourceMessage` VALUES(230, 'adminmembers', 'Other Assigned Roles');
INSERT INTO `SourceMessage` VALUES(231, 'adminmembers', 'Other Assigned Tasks');
INSERT INTO `SourceMessage` VALUES(232, 'adminmembers', 'Other Assigned Operations');
INSERT INTO `SourceMessage` VALUES(233, 'admindocs', 'Language');
INSERT INTO `SourceMessage` VALUES(234, 'docs', 'Documentations');
INSERT INTO `SourceMessage` VALUES(235, 'global', 'Tutorials');
INSERT INTO `SourceMessage` VALUES(236, 'global', 'Showcase');
INSERT INTO `SourceMessage` VALUES(237, 'global', 'Latest News');
INSERT INTO `SourceMessage` VALUES(238, 'global', 'Latest Users Joined');
INSERT INTO `SourceMessage` VALUES(239, 'index', 'Please wait, Loading twitter');
INSERT INTO `SourceMessage` VALUES(240, 'global', 'Copyright {name} {year} &copy All Rights Reserved.');
INSERT INTO `SourceMessage` VALUES(241, 'global', 'Terms Of Service');
INSERT INTO `SourceMessage` VALUES(242, 'global', 'About Us');
INSERT INTO `SourceMessage` VALUES(243, 'global', 'Copyright {name} {year} &copy All Rights Reserved');
INSERT INTO `SourceMessage` VALUES(244, 'docs', 'Comments');
INSERT INTO `SourceMessage` VALUES(245, 'global', 'Unknown');
INSERT INTO `SourceMessage` VALUES(246, 'adminroles', 'Operation');
INSERT INTO `SourceMessage` VALUES(247, 'docs', 'Comment');
INSERT INTO `SourceMessage` VALUES(248, 'docs', 'Post Comment');
INSERT INTO `SourceMessage` VALUES(249, 'docs', 'Comment Added.');
INSERT INTO `SourceMessage` VALUES(250, 'docs', 'No comments posted yet.');
INSERT INTO `SourceMessage` VALUES(251, 'docs', 'You must be logged in to post comments.');
INSERT INTO `SourceMessage` VALUES(252, 'members', 'Sorry, But the password did not match the one in our records.');
INSERT INTO `SourceMessage` VALUES(253, 'members', 'Joined');
INSERT INTO `SourceMessage` VALUES(254, 'adminmembers', 'Please select a valid role.');
INSERT INTO `SourceMessage` VALUES(255, 'adminmembers', 'User Updated.');
INSERT INTO `SourceMessage` VALUES(256, 'adminmembers', 'Viewing User');
INSERT INTO `SourceMessage` VALUES(257, 'adminmembers', 'Username:');
INSERT INTO `SourceMessage` VALUES(258, 'adminmembers', 'Email:');
INSERT INTO `SourceMessage` VALUES(259, 'adminmembers', 'Joined:');
INSERT INTO `SourceMessage` VALUES(260, 'adminmembers', 'Role:');
INSERT INTO `SourceMessage` VALUES(261, 'adminmembers', 'Personal Information');
INSERT INTO `SourceMessage` VALUES(262, 'adminmembers', 'Site Activity Information');
INSERT INTO `SourceMessage` VALUES(263, 'adminmembers', 'Adding User');
INSERT INTO `SourceMessage` VALUES(264, 'adminmembers', 'User Added.');
INSERT INTO `SourceMessage` VALUES(265, 'global', 'Close this notification');
INSERT INTO `SourceMessage` VALUES(266, 'docs', 'Views');
INSERT INTO `SourceMessage` VALUES(267, 'docs', 'Complete Documentation');
INSERT INTO `SourceMessage` VALUES(268, 'docs', 'אפשרויות חדשות');
INSERT INTO `SourceMessage` VALUES(269, 'adminglobal', 'Newsletter');
INSERT INTO `SourceMessage` VALUES(270, 'adminglobal', 'Manage Newsletters');
INSERT INTO `SourceMessage` VALUES(271, 'adminglobal', 'Reports');
INSERT INTO `SourceMessage` VALUES(272, 'adminglobal', 'Manage Reports');
INSERT INTO `SourceMessage` VALUES(273, 'adminglobal', 'Contact Us');
INSERT INTO `SourceMessage` VALUES(274, 'docs', 'אימות משתמשים וניהול גישות');
INSERT INTO `SourceMessage` VALUES(275, 'docs', 'ניהול קישורים');
INSERT INTO `SourceMessage` VALUES(276, 'admindocs', 'Manage Comments');
INSERT INTO `SourceMessage` VALUES(277, 'admindocs', 'Comments');
INSERT INTO `SourceMessage` VALUES(278, 'admindocs', 'ID');
INSERT INTO `SourceMessage` VALUES(279, 'admindocs', 'Sort list by id');
INSERT INTO `SourceMessage` VALUES(280, 'admindocs', 'Author');
INSERT INTO `SourceMessage` VALUES(281, 'admindocs', 'Sort list by author');
INSERT INTO `SourceMessage` VALUES(282, 'admindocs', 'Post Date');
INSERT INTO `SourceMessage` VALUES(283, 'admindocs', 'Sort list by date');
INSERT INTO `SourceMessage` VALUES(284, 'admindocs', 'Comment');
INSERT INTO `SourceMessage` VALUES(285, 'adminglobal', 'Are you sure you would like to perform a bulk operation?');
INSERT INTO `SourceMessage` VALUES(286, 'admindocs', 'Joined Date');
INSERT INTO `SourceMessage` VALUES(287, 'admindocs', 'Delete this comment!');
INSERT INTO `SourceMessage` VALUES(288, 'admindocs', '{count} comments deleted.');
INSERT INTO `SourceMessage` VALUES(289, 'admindocs', 'No Comments Found.');
INSERT INTO `SourceMessage` VALUES(290, 'docs', 'No comments posted yet. Be the first!');
INSERT INTO `SourceMessage` VALUES(291, 'docs', 'עדכון מגרסא 1.0 לגרסא 1.1');
INSERT INTO `SourceMessage` VALUES(292, 'docs', 'יצירת אפליקצית Yii ראשונה');
INSERT INTO `SourceMessage` VALUES(293, 'docs', 'אבטחה');
INSERT INTO `SourceMessage` VALUES(294, 'admindocs', 'Status');
INSERT INTO `SourceMessage` VALUES(295, 'admindocs', 'Toggle comment status!');
INSERT INTO `SourceMessage` VALUES(296, 'global', 'Approve Selected');
INSERT INTO `SourceMessage` VALUES(297, 'global', 'Un-Approve Selected');
INSERT INTO `SourceMessage` VALUES(298, 'adminmembers', 'Comment Updated.');
INSERT INTO `SourceMessage` VALUES(299, 'admindocs', 'Sort list by visibility');
INSERT INTO `SourceMessage` VALUES(300, 'admindocs', '{count} comments approved.');
INSERT INTO `SourceMessage` VALUES(301, 'admindocs', '{count} comments Un-Approved.');
INSERT INTO `SourceMessage` VALUES(302, 'docs', 'Comment Updated.');
INSERT INTO `SourceMessage` VALUES(303, 'admindocs', 'Comment Updated.');
INSERT INTO `SourceMessage` VALUES(304, 'adminroles', '{number} Child item(s) Added.');
INSERT INTO `SourceMessage` VALUES(305, 'error', 'Sorry, You don''t have the required permissions to enter to this section');
INSERT INTO `SourceMessage` VALUES(306, 'error', 'Sorry, You don''t have the required permissions to enter this section');
INSERT INTO `SourceMessage` VALUES(307, 'adminsettings', 'Settings Updated.');
INSERT INTO `SourceMessage` VALUES(308, 'adminsettings', 'Setting Reverted.');
INSERT INTO `SourceMessage` VALUES(309, 'admincustompages', 'Custom Pages');
INSERT INTO `SourceMessage` VALUES(310, 'admincustompages', 'Add Page');
INSERT INTO `SourceMessage` VALUES(311, 'admincustompages', 'Title');
INSERT INTO `SourceMessage` VALUES(312, 'admincustompages', 'Sort list by title');
INSERT INTO `SourceMessage` VALUES(313, 'admincustompages', 'Alias');
INSERT INTO `SourceMessage` VALUES(314, 'admincustompages', 'Sort list by alias');
INSERT INTO `SourceMessage` VALUES(315, 'admincustompages', 'Posted');
INSERT INTO `SourceMessage` VALUES(316, 'admincustompages', 'Sort list by date posted');
INSERT INTO `SourceMessage` VALUES(317, 'admincustompages', 'Author');
INSERT INTO `SourceMessage` VALUES(318, 'admincustompages', 'Sort list by author');
INSERT INTO `SourceMessage` VALUES(319, 'admincustompages', 'Language');
INSERT INTO `SourceMessage` VALUES(320, 'admincustompages', 'Sort list by language');
INSERT INTO `SourceMessage` VALUES(321, 'admincustompages', 'Status');
INSERT INTO `SourceMessage` VALUES(322, 'admincustompages', 'Sort list by status');
INSERT INTO `SourceMessage` VALUES(323, 'adminglobal', 'Options');
INSERT INTO `SourceMessage` VALUES(324, 'global', 'UnApprove Selected');
INSERT INTO `SourceMessage` VALUES(325, 'adminglobal', 'No Rows Found.');
INSERT INTO `SourceMessage` VALUES(326, 'admincustompages', 'Adding Custom Page');
INSERT INTO `SourceMessage` VALUES(327, 'adminsettings', 'Adding Custom Page');
INSERT INTO `SourceMessage` VALUES(328, 'admincustompages', 'Page Title');
INSERT INTO `SourceMessage` VALUES(329, 'admincustompages', 'Page Alias');
INSERT INTO `SourceMessage` VALUES(330, 'admincustompages', 'Page Tags');
INSERT INTO `SourceMessage` VALUES(331, 'admincustompages', 'Page Language');
INSERT INTO `SourceMessage` VALUES(332, 'admincustompages', 'Page Meta Description');
INSERT INTO `SourceMessage` VALUES(333, 'admincustompages', 'Page Meta Keywords');
INSERT INTO `SourceMessage` VALUES(334, 'admincustompages', 'Page Visibility');
INSERT INTO `SourceMessage` VALUES(335, 'admincustompages', 'Page Status');
INSERT INTO `SourceMessage` VALUES(336, 'admincustompages', 'Page Content');
INSERT INTO `SourceMessage` VALUES(337, 'admincustompages', 'Hidden (Draft)');
INSERT INTO `SourceMessage` VALUES(338, 'admincustompages', 'Open (Published)');
INSERT INTO `SourceMessage` VALUES(339, 'admincustompages', 'Content');
INSERT INTO `SourceMessage` VALUES(340, 'admincustompages', 'Tags');
INSERT INTO `SourceMessage` VALUES(341, 'admincustompages', 'Meta Description');
INSERT INTO `SourceMessage` VALUES(342, 'admincustompages', 'Meta Keywords');
INSERT INTO `SourceMessage` VALUES(343, 'admincustompages', 'Visibility');
INSERT INTO `SourceMessage` VALUES(344, 'admincustompages', 'The language the page can be displayed in.');
INSERT INTO `SourceMessage` VALUES(345, 'admincustompages', '-- ALL --');
INSERT INTO `SourceMessage` VALUES(346, 'admincustompages', 'User roles that can access this page (Defaults to everyone)');
INSERT INTO `SourceMessage` VALUES(347, 'admincustompages', 'Page Added.');
INSERT INTO `SourceMessage` VALUES(348, 'admincustompages', 'Toggle page status!');
INSERT INTO `SourceMessage` VALUES(349, 'admincustompages', 'Edit this page');
INSERT INTO `SourceMessage` VALUES(350, 'admincustompages', 'Delete this page!');
INSERT INTO `SourceMessage` VALUES(351, 'admincustompages', 'Editing Custom Page');
INSERT INTO `SourceMessage` VALUES(352, 'admincustompages', 'Page Updated.');
INSERT INTO `SourceMessage` VALUES(353, 'admincustompages', 'Last Modified Date');
INSERT INTO `SourceMessage` VALUES(354, 'admincustompages', 'Last Modified By');
INSERT INTO `SourceMessage` VALUES(355, 'adminglobal', 'All');
INSERT INTO `SourceMessage` VALUES(356, 'admindocs', 'Status Updated.');
INSERT INTO `SourceMessage` VALUES(357, 'admincustompages', 'Page Deleted.');
INSERT INTO `SourceMessage` VALUES(358, 'admincustompages', '{count} pages Un-Approved.');
INSERT INTO `SourceMessage` VALUES(359, 'admincustompages', '{count} pages approved.');
INSERT INTO `SourceMessage` VALUES(360, 'admincustompages', '{count} pages deleted.');
INSERT INTO `SourceMessage` VALUES(361, 'adminglobal', 'Preview');
INSERT INTO `SourceMessage` VALUES(362, 'admincustompages', 'Preview Page');
INSERT INTO `SourceMessage` VALUES(363, 'admincustompages', 'Status Updated.');
INSERT INTO `SourceMessage` VALUES(364, 'error', 'Sorry, The page you were looking for was not found.');
INSERT INTO `SourceMessage` VALUES(365, 'custompages', 'zxczxc');
INSERT INTO `SourceMessage` VALUES(366, 'admincustompages', 'Page Edited.');
INSERT INTO `SourceMessage` VALUES(367, 'custompages', 'sdvcsdv');
INSERT INTO `SourceMessage` VALUES(368, 'admincustompages', 'view this page');
INSERT INTO `SourceMessage` VALUES(369, 'custompages', 'אודות האתר');
INSERT INTO `SourceMessage` VALUES(370, 'error', 'Error');
INSERT INTO `SourceMessage` VALUES(371, 'adminglobal', 'Error');
INSERT INTO `SourceMessage` VALUES(372, 'adminglobal', 'Sorry, But you are not authorized to enter this section.');
INSERT INTO `SourceMessage` VALUES(373, 'admindebug', 'File:');
INSERT INTO `SourceMessage` VALUES(374, 'admindebug', 'Type:');
INSERT INTO `SourceMessage` VALUES(375, 'admindebug', 'Trace');
INSERT INTO `SourceMessage` VALUES(376, 'admindebug', 'Source');
INSERT INTO `SourceMessage` VALUES(377, 'global', 'Error');
INSERT INTO `SourceMessage` VALUES(378, 'docs', 'אפליקציה');
INSERT INTO `SourceMessage` VALUES(379, 'global', 'Rating Added.');
INSERT INTO `SourceMessage` VALUES(380, 'custompages', 'sdvsdvsdv');
INSERT INTO `SourceMessage` VALUES(381, 'admintutorials', 'Tutorials');
INSERT INTO `SourceMessage` VALUES(382, 'admintuts', 'Add User');
INSERT INTO `SourceMessage` VALUES(383, 'admintuts', 'Categories');
INSERT INTO `SourceMessage` VALUES(384, 'adminturs', 'Title');
INSERT INTO `SourceMessage` VALUES(385, 'adminturs', 'Alias');
INSERT INTO `SourceMessage` VALUES(386, 'adminturs', 'Description');
INSERT INTO `SourceMessage` VALUES(387, 'adminturs', 'Language');
INSERT INTO `SourceMessage` VALUES(388, 'admintuts', 'Options');
INSERT INTO `SourceMessage` VALUES(389, 'admintuts', 'View Tutorials');
INSERT INTO `SourceMessage` VALUES(390, 'global', 'All');
INSERT INTO `SourceMessage` VALUES(391, 'admintuts', 'Position');
INSERT INTO `SourceMessage` VALUES(392, 'admintuts', 'Title');
INSERT INTO `SourceMessage` VALUES(393, 'admintuts', 'Alias');
INSERT INTO `SourceMessage` VALUES(394, 'admintuts', 'Description');
INSERT INTO `SourceMessage` VALUES(395, 'admintuts', 'Language');
INSERT INTO `SourceMessage` VALUES(396, 'admintuts', 'Read');
INSERT INTO `SourceMessage` VALUES(397, 'admintuts', 'Edit this category');
INSERT INTO `SourceMessage` VALUES(398, 'admintuts', 'Delete this category!');
INSERT INTO `SourceMessage` VALUES(399, 'global', 'Reorder');
INSERT INTO `SourceMessage` VALUES(400, 'admintutorials', 'Categories');
INSERT INTO `SourceMessage` VALUES(401, 'admintuts', 'Add Category');
INSERT INTO `SourceMessage` VALUES(402, 'admintuts', 'Add tutorial to this category');
INSERT INTO `SourceMessage` VALUES(403, 'admintuts', 'Add sub category to this category');
INSERT INTO `SourceMessage` VALUES(404, 'admintuts', 'Categories Reordered');
INSERT INTO `SourceMessage` VALUES(405, 'admintuts', 'Category status Updated.');
INSERT INTO `SourceMessage` VALUES(406, 'admintuts', 'Adding Category');
INSERT INTO `SourceMessage` VALUES(407, 'tutorials', 'Sub-Category');
INSERT INTO `SourceMessage` VALUES(408, 'tutorials', 'Title');
INSERT INTO `SourceMessage` VALUES(409, 'tutorials', 'Description');
INSERT INTO `SourceMessage` VALUES(410, 'tutorials', 'Alias');
INSERT INTO `SourceMessage` VALUES(411, 'tutorials', 'Language');
INSERT INTO `SourceMessage` VALUES(412, 'tutorials', 'Position');
INSERT INTO `SourceMessage` VALUES(413, 'tutorials', 'Meta Description');
INSERT INTO `SourceMessage` VALUES(414, 'tutorials', 'Meta Keywords');
INSERT INTO `SourceMessage` VALUES(415, 'tutorials', 'ReadOnly Category');
INSERT INTO `SourceMessage` VALUES(416, 'tutorials', 'Viewing Permission');
INSERT INTO `SourceMessage` VALUES(417, 'tutorials', 'Adding Tutorials Permission');
INSERT INTO `SourceMessage` VALUES(418, 'tutorials', 'Adding Comments Permission');
INSERT INTO `SourceMessage` VALUES(419, 'tutorials', 'Adding Files Permission');
INSERT INTO `SourceMessage` VALUES(420, 'tutorials', 'Auto Approved Tutorial Permission');
INSERT INTO `SourceMessage` VALUES(421, 'admintuts', 'The language the page can be displayed in.');
INSERT INTO `SourceMessage` VALUES(422, 'adminglobal', '-- ALL --');
INSERT INTO `SourceMessage` VALUES(423, 'admintuts', 'User roles that can view this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(424, 'admintuts', 'User roles that can add tutorials to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(425, 'admintuts', 'User roles that can add tutorial comments to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(426, 'admintuts', 'User roles that can add tutorial files to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(427, 'admintuts', 'User roles that can add tutorials this category without the need of manual approval (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(428, 'admintuts', 'Choose a category that this category will be a child of.');
INSERT INTO `SourceMessage` VALUES(429, 'admintuts', '-- Root --');
INSERT INTO `SourceMessage` VALUES(430, 'admintuts', 'Category Added.');
INSERT INTO `SourceMessage` VALUES(431, 'admintuts', 'Categories Reordered.');
INSERT INTO `SourceMessage` VALUES(432, 'admintuts', 'Editing Category');
INSERT INTO `SourceMessage` VALUES(433, 'admintuts', 'Category Updated.');
INSERT INTO `SourceMessage` VALUES(434, 'admintuts', 'Category cannot be placed under one of it''s child''s');
INSERT INTO `SourceMessage` VALUES(435, 'admintuts', 'Category Deleted.');
INSERT INTO `SourceMessage` VALUES(436, 'admintuts', 'Category was not found.');
INSERT INTO `SourceMessage` VALUES(437, 'admintuts', 'Delete Category');
INSERT INTO `SourceMessage` VALUES(438, 'admintuts', 'Move Categories To');
INSERT INTO `SourceMessage` VALUES(439, 'admintuts', 'Choose a category to move all subcategories into');
INSERT INTO `SourceMessage` VALUES(440, 'admintuts', '-- Choose --');
INSERT INTO `SourceMessage` VALUES(441, 'admintuts', 'Move Tutorials To');
INSERT INTO `SourceMessage` VALUES(442, 'admintuts', 'Choose a category to move all tutorials into');
INSERT INTO `SourceMessage` VALUES(443, 'admintuts', 'You must specify a valid category to move the items.');
INSERT INTO `SourceMessage` VALUES(444, 'admintuts', 'View category');
INSERT INTO `SourceMessage` VALUES(445, 'admintuts', 'Add Tutorial');
INSERT INTO `SourceMessage` VALUES(446, 'admintuts', 'Tutorials');
INSERT INTO `SourceMessage` VALUES(447, 'admintuts', 'Sort list by title');
INSERT INTO `SourceMessage` VALUES(448, 'admintuts', 'Sort list by alias');
INSERT INTO `SourceMessage` VALUES(449, 'admintuts', 'Posted');
INSERT INTO `SourceMessage` VALUES(450, 'admintuts', 'Sort list by date posted');
INSERT INTO `SourceMessage` VALUES(451, 'admintuts', 'Author');
INSERT INTO `SourceMessage` VALUES(452, 'admintuts', 'Sort list by author');
INSERT INTO `SourceMessage` VALUES(453, 'admintuts', 'Sort list by language');
INSERT INTO `SourceMessage` VALUES(454, 'admintuts', 'Status');
INSERT INTO `SourceMessage` VALUES(455, 'admintuts', 'Sort list by status');
INSERT INTO `SourceMessage` VALUES(456, 'admintuts', 'Viewing Category');
INSERT INTO `SourceMessage` VALUES(457, 'admintuts', 'Adding Tutorial');
INSERT INTO `SourceMessage` VALUES(458, 'tutorials', 'Category');
INSERT INTO `SourceMessage` VALUES(459, 'tutorials', 'Content');
INSERT INTO `SourceMessage` VALUES(460, 'tutorials', 'Tutorial Approved');
INSERT INTO `SourceMessage` VALUES(461, 'admintuts', 'Choose a category for this tutorial');
INSERT INTO `SourceMessage` VALUES(462, 'admintuts', 'The language the tutorial can be displayed in.');
INSERT INTO `SourceMessage` VALUES(463, 'admintuts', 'Hidden (Draft)');
INSERT INTO `SourceMessage` VALUES(464, 'admintuts', 'Open (Published)');
INSERT INTO `SourceMessage` VALUES(465, 'admintuts', 'Tutorial Added.');
INSERT INTO `SourceMessage` VALUES(466, 'admintuts', 'Toggle page status!');
INSERT INTO `SourceMessage` VALUES(467, 'admintuts', 'view this tutorial');
INSERT INTO `SourceMessage` VALUES(468, 'admintuts', 'Edit this tutorial');
INSERT INTO `SourceMessage` VALUES(469, 'admintuts', 'Delete this tutorial!');
INSERT INTO `SourceMessage` VALUES(470, 'admintuts', '{count} tutorials approved.');
INSERT INTO `SourceMessage` VALUES(471, 'admintuts', 'Sorry, That alias is already in use.');
INSERT INTO `SourceMessage` VALUES(472, 'admintuts', '# Tutorials');
INSERT INTO `SourceMessage` VALUES(473, 'admintuts', 'Tutorial status Updated.');
INSERT INTO `SourceMessage` VALUES(474, 'admintuts', 'Last Modified Date');
INSERT INTO `SourceMessage` VALUES(475, 'admintuts', 'Last Modified By');
INSERT INTO `SourceMessage` VALUES(476, 'admintuts', 'Editing Tutorial');
INSERT INTO `SourceMessage` VALUES(477, 'admintuts', 'Tutorial Updated.');
INSERT INTO `SourceMessage` VALUES(478, 'admintuts', 'Tutorial Deleted.');
INSERT INTO `SourceMessage` VALUES(479, 'admintuts', 'Manage Comments');
INSERT INTO `SourceMessage` VALUES(480, 'admintuts', 'Comments');
INSERT INTO `SourceMessage` VALUES(481, 'admintuts', 'ID');
INSERT INTO `SourceMessage` VALUES(482, 'admintuts', 'Post Date');
INSERT INTO `SourceMessage` VALUES(483, 'admintuts', 'Sort list by date');
INSERT INTO `SourceMessage` VALUES(484, 'admintuts', 'Sort list by visibility');
INSERT INTO `SourceMessage` VALUES(485, 'admintuts', 'Comment');
INSERT INTO `SourceMessage` VALUES(486, 'admintuts', 'No Comments Found.');
INSERT INTO `SourceMessage` VALUES(487, 'admintuts', 'Joined Date');
INSERT INTO `SourceMessage` VALUES(488, 'admintuts', 'Toggle comment status!');
INSERT INTO `SourceMessage` VALUES(489, 'admintuts', 'Delete this comment!');
INSERT INTO `SourceMessage` VALUES(490, 'admintuts', 'Comment Updated.');
INSERT INTO `SourceMessage` VALUES(491, 'admintuts', '{count} comments approved.');
INSERT INTO `SourceMessage` VALUES(492, 'admintuts', 'Comment Deleted.');
INSERT INTO `SourceMessage` VALUES(493, 'admintuts', '{count} comments deleted.');
INSERT INTO `SourceMessage` VALUES(494, 'tutorials', 'Tutorials');
INSERT INTO `SourceMessage` VALUES(495, 'docs', 'תצוגה');
INSERT INTO `SourceMessage` VALUES(496, 'admintuts', 'The language the category can be displayed in.');
INSERT INTO `SourceMessage` VALUES(497, 'adminglobal', 'No Items Found.');
INSERT INTO `SourceMessage` VALUES(498, 'tutorials', 'Categories');
INSERT INTO `SourceMessage` VALUES(499, 'tutorials', 'There are not tutorials to display!');
INSERT INTO `SourceMessage` VALUES(500, 'tutorials', 'There are no tutorials to display!');
INSERT INTO `SourceMessage` VALUES(501, 'tutorials', 'וידג''טים');
INSERT INTO `SourceMessage` VALUES(502, 'tutorials', 'Comments');
INSERT INTO `SourceMessage` VALUES(503, 'tutorials', 'Posted by <strong>{by}</strong> in {in} on {on}');
INSERT INTO `SourceMessage` VALUES(504, 'tutorials', '!@#!%$#^#$עובד בדיקות');
INSERT INTO `SourceMessage` VALUES(505, 'tutorials', 'מדריכים');
INSERT INTO `SourceMessage` VALUES(506, 'error', 'Sorry, We could not find that tutoria.');
INSERT INTO `SourceMessage` VALUES(507, 'tutorials', 'Views');
INSERT INTO `SourceMessage` VALUES(508, 'tutorials', 'No comments posted yet. Be the first!');
INSERT INTO `SourceMessage` VALUES(509, 'tutorials', 'Comment');
INSERT INTO `SourceMessage` VALUES(510, 'tutorials', 'Post Comment');
INSERT INTO `SourceMessage` VALUES(511, 'error', 'Sorry, We could not find that tutorial.');
INSERT INTO `SourceMessage` VALUES(512, 'tutorials', 'Comment Added.');
INSERT INTO `SourceMessage` VALUES(513, 'tutorials', 'Toggle comment status!');
INSERT INTO `SourceMessage` VALUES(514, 'global', 'Comment Updated.');
INSERT INTO `SourceMessage` VALUES(515, 'error', 'Sorry, We could not find that category.');
INSERT INTO `SourceMessage` VALUES(516, 'tutorials', 'Add Tutorial');
INSERT INTO `SourceMessage` VALUES(517, 'tutorials', 'Options');
INSERT INTO `SourceMessage` VALUES(518, 'tutorials', 'Adding Tutorial');
INSERT INTO `SourceMessage` VALUES(519, 'tutorials', '-- Choose --');
INSERT INTO `SourceMessage` VALUES(520, 'tutorials', 'Please fill all required fields and hit the submit button once your done. It may take time for the tutorial to be displayed publicly.');
INSERT INTO `SourceMessage` VALUES(521, 'tutorials', 'Sorry, That category is readonly.');
INSERT INTO `SourceMessage` VALUES(522, 'tutorials', 'Tutorial Added.');
INSERT INTO `SourceMessage` VALUES(523, 'error', 'Sorry, You are not allowed to perform that action.');
INSERT INTO `SourceMessage` VALUES(524, 'global', 'Guest');
INSERT INTO `SourceMessage` VALUES(525, 'tutorials', 'Edit');
INSERT INTO `SourceMessage` VALUES(526, 'tutorials', 'Editing Tutorial');
INSERT INTO `SourceMessage` VALUES(527, 'tutorials', 'Tutorial Updated. It will be displayed once approved.');
INSERT INTO `SourceMessage` VALUES(528, 'adminglobal', 'Unknown');
INSERT INTO `SourceMessage` VALUES(529, 'tutorials', 'Tutorial Updated.');
INSERT INTO `SourceMessage` VALUES(530, 'tutorials', 'Tutorial Added. It will be displayed once approved.');
INSERT INTO `SourceMessage` VALUES(531, 'tutorials', 'Approved');
INSERT INTO `SourceMessage` VALUES(532, 'global', 'Approved');
INSERT INTO `SourceMessage` VALUES(533, 'tutorials', 'UnApproved');
INSERT INTO `SourceMessage` VALUES(534, 'global', 'UnApproved');
INSERT INTO `SourceMessage` VALUES(535, 'global', 'Tutorial Approved');
INSERT INTO `SourceMessage` VALUES(536, 'tutorials', 'Tutorial UnApproved');
INSERT INTO `SourceMessage` VALUES(537, 'global', 'Tutorial UnApproved');
INSERT INTO `SourceMessage` VALUES(538, 'tutorials', 'Pending Tutorials {count}');
INSERT INTO `SourceMessage` VALUES(539, 'tutorials', 'My Tutorials');
INSERT INTO `SourceMessage` VALUES(540, 'tutorials', '{count} Pending Tutorials');
INSERT INTO `SourceMessage` VALUES(541, 'global', 'You must be logged in to post comments.');
INSERT INTO `SourceMessage` VALUES(542, 'global', 'Options');
INSERT INTO `SourceMessage` VALUES(543, 'global', 'Print');
INSERT INTO `SourceMessage` VALUES(544, 'global', 'PDF');
INSERT INTO `SourceMessage` VALUES(545, 'global', 'Word');
INSERT INTO `SourceMessage` VALUES(546, 'global', 'Text');
INSERT INTO `SourceMessage` VALUES(547, 'global', 'RSS Feed');
INSERT INTO `SourceMessage` VALUES(548, 'tutorials', 'Tutorials RSS Feed');
INSERT INTO `SourceMessage` VALUES(549, 'docs', 'התקנה');
INSERT INTO `SourceMessage` VALUES(550, 'adminblog', 'Blog');
INSERT INTO `SourceMessage` VALUES(551, 'adminblog', 'Categories');
INSERT INTO `SourceMessage` VALUES(552, 'adminblog', 'Add Category');
INSERT INTO `SourceMessage` VALUES(553, 'adminblog', 'Add Post');
INSERT INTO `SourceMessage` VALUES(554, 'adminblog', 'Position');
INSERT INTO `SourceMessage` VALUES(555, 'adminblog', 'Title');
INSERT INTO `SourceMessage` VALUES(556, 'adminblog', 'Alias');
INSERT INTO `SourceMessage` VALUES(557, 'adminblog', 'Description');
INSERT INTO `SourceMessage` VALUES(558, 'adminblog', 'Language');
INSERT INTO `SourceMessage` VALUES(559, 'adminblog', 'Read');
INSERT INTO `SourceMessage` VALUES(560, 'adminblog', 'Posts');
INSERT INTO `SourceMessage` VALUES(561, 'adminblog', 'Options');
INSERT INTO `SourceMessage` VALUES(562, 'adminblog', 'Adding Category');
INSERT INTO `SourceMessage` VALUES(563, 'blog', 'Sub-Category');
INSERT INTO `SourceMessage` VALUES(564, 'blog', 'Title');
INSERT INTO `SourceMessage` VALUES(565, 'blog', 'Description');
INSERT INTO `SourceMessage` VALUES(566, 'blog', 'Alias');
INSERT INTO `SourceMessage` VALUES(567, 'blog', 'Language');
INSERT INTO `SourceMessage` VALUES(568, 'blog', 'Position');
INSERT INTO `SourceMessage` VALUES(569, 'blog', 'Meta Description');
INSERT INTO `SourceMessage` VALUES(570, 'blog', 'Meta Keywords');
INSERT INTO `SourceMessage` VALUES(571, 'blog', 'ReadOnly Category');
INSERT INTO `SourceMessage` VALUES(572, 'blog', 'Viewing Permission');
INSERT INTO `SourceMessage` VALUES(573, 'blog', 'Adding Posts Permission');
INSERT INTO `SourceMessage` VALUES(574, 'blog', 'Adding Comments Permission');
INSERT INTO `SourceMessage` VALUES(575, 'blog', 'Adding Files Permission');
INSERT INTO `SourceMessage` VALUES(576, 'blog', 'Auto Approved Post Permission');
INSERT INTO `SourceMessage` VALUES(577, 'adminblog', 'Choose a category that this category will be a child of.');
INSERT INTO `SourceMessage` VALUES(578, 'adminblog', '-- Root --');
INSERT INTO `SourceMessage` VALUES(579, 'adminblog', 'The language the category can be displayed in.');
INSERT INTO `SourceMessage` VALUES(580, 'adminblog', 'User roles that can view this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(581, 'adminblog', 'User roles that can add blog to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(582, 'adminblog', 'User roles that can add comments to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(583, 'adminblog', 'User roles that can add files to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(584, 'adminblog', 'User roles that can add blog this category without the need of manual approval (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(585, 'adminblog', 'Category Added.');
INSERT INTO `SourceMessage` VALUES(586, 'adminblog', 'View Posts');
INSERT INTO `SourceMessage` VALUES(587, 'adminblog', 'View category');
INSERT INTO `SourceMessage` VALUES(588, 'adminblog', 'Add post to this category');
INSERT INTO `SourceMessage` VALUES(589, 'adminblog', 'Add sub category to this category');
INSERT INTO `SourceMessage` VALUES(590, 'adminblog', 'Edit this category');
INSERT INTO `SourceMessage` VALUES(591, 'adminblog', 'Delete this category!');
INSERT INTO `SourceMessage` VALUES(592, 'adminblog', 'Viewing Category');
INSERT INTO `SourceMessage` VALUES(593, 'adminblog', 'Sort list by title');
INSERT INTO `SourceMessage` VALUES(594, 'adminblog', 'Sort list by alias');
INSERT INTO `SourceMessage` VALUES(595, 'adminblog', 'Posted');
INSERT INTO `SourceMessage` VALUES(596, 'adminblog', 'Sort list by date posted');
INSERT INTO `SourceMessage` VALUES(597, 'adminblog', 'Author');
INSERT INTO `SourceMessage` VALUES(598, 'adminblog', 'Sort list by author');
INSERT INTO `SourceMessage` VALUES(599, 'adminblog', 'Sort list by language');
INSERT INTO `SourceMessage` VALUES(600, 'adminblog', 'Status');
INSERT INTO `SourceMessage` VALUES(601, 'adminblog', 'Sort list by status');
INSERT INTO `SourceMessage` VALUES(602, 'blog', 'Tutorials');
INSERT INTO `SourceMessage` VALUES(603, 'blog', 'Blog');
INSERT INTO `SourceMessage` VALUES(604, 'blog', 'There are no posts to display!');
INSERT INTO `SourceMessage` VALUES(605, 'blog', 'Add Post');
INSERT INTO `SourceMessage` VALUES(606, 'blog', '{count} Pending Posts');
INSERT INTO `SourceMessage` VALUES(607, 'blog', 'My Posts');
INSERT INTO `SourceMessage` VALUES(608, 'blog', 'Categories');
INSERT INTO `SourceMessage` VALUES(609, 'blog', 'Options');
INSERT INTO `SourceMessage` VALUES(610, 'blog', 'Blog RSS Feed');
INSERT INTO `SourceMessage` VALUES(611, 'blog', 'Adding Post');
INSERT INTO `SourceMessage` VALUES(612, 'blog', 'Please fill all required fields and hit the submit button once your done. It may take time for the post to be displayed publicly.');
INSERT INTO `SourceMessage` VALUES(613, 'blog', 'Category');
INSERT INTO `SourceMessage` VALUES(614, 'blog', 'Content');
INSERT INTO `SourceMessage` VALUES(615, 'blog', 'Post Approved');
INSERT INTO `SourceMessage` VALUES(616, 'admintuts', 'Choose a category for this post');
INSERT INTO `SourceMessage` VALUES(617, 'global', '-- Choose --');
INSERT INTO `SourceMessage` VALUES(618, 'global', 'Hidden (Draft)');
INSERT INTO `SourceMessage` VALUES(619, 'global', 'Open (Published)');
INSERT INTO `SourceMessage` VALUES(620, 'blog', 'Sorry, That category is readonly.');
INSERT INTO `SourceMessage` VALUES(621, 'adminblog', 'Category status Updated.');
INSERT INTO `SourceMessage` VALUES(622, 'blog', 'Post Added.');
INSERT INTO `SourceMessage` VALUES(623, 'blog', 'Comments');
INSERT INTO `SourceMessage` VALUES(624, 'blog', 'Views');
INSERT INTO `SourceMessage` VALUES(625, 'blog', 'No comments posted yet. Be the first!');
INSERT INTO `SourceMessage` VALUES(626, 'blog', 'Comment');
INSERT INTO `SourceMessage` VALUES(627, 'blog', 'Post Comment');
INSERT INTO `SourceMessage` VALUES(628, 'blog', 'Editing Post');
INSERT INTO `SourceMessage` VALUES(629, 'blog', 'Post Updated.');
INSERT INTO `SourceMessage` VALUES(630, 'blog', 'Comment Added.');
INSERT INTO `SourceMessage` VALUES(631, 'blog', 'Toggle comment status!');
INSERT INTO `SourceMessage` VALUES(632, 'blog', 'Posted by <strong>{by}</strong> in {in} on {on}');
INSERT INTO `SourceMessage` VALUES(633, 'blog', 'Post UnApproved');
INSERT INTO `SourceMessage` VALUES(634, 'global', 'Post UnApproved');
INSERT INTO `SourceMessage` VALUES(635, 'global', 'Post Approved');
INSERT INTO `SourceMessage` VALUES(636, 'adminblog', 'Adding Tutorial');
INSERT INTO `SourceMessage` VALUES(637, 'adminblog', 'Choose a category for this post');
INSERT INTO `SourceMessage` VALUES(638, 'adminblog', '-- Choose --');
INSERT INTO `SourceMessage` VALUES(639, 'adminblog', 'The language the post can be displayed in.');
INSERT INTO `SourceMessage` VALUES(640, 'adminblog', 'Hidden (Draft)');
INSERT INTO `SourceMessage` VALUES(641, 'adminblog', 'Open (Published)');
INSERT INTO `SourceMessage` VALUES(642, 'adminblog', 'Tutorial Added.');
INSERT INTO `SourceMessage` VALUES(643, 'adminblog', 'Toggle page status!');
INSERT INTO `SourceMessage` VALUES(644, 'adminblog', 'view this post');
INSERT INTO `SourceMessage` VALUES(645, 'adminblog', 'Edit this post');
INSERT INTO `SourceMessage` VALUES(646, 'adminblog', 'Delete this post!');
INSERT INTO `SourceMessage` VALUES(647, 'adminblog', 'Last Modified Date');
INSERT INTO `SourceMessage` VALUES(648, 'adminblog', 'Last Modified By');
INSERT INTO `SourceMessage` VALUES(649, 'adminblog', 'Manage Comments');
INSERT INTO `SourceMessage` VALUES(650, 'adminblog', 'Comments');
INSERT INTO `SourceMessage` VALUES(651, 'adminblog', 'ID');
INSERT INTO `SourceMessage` VALUES(652, 'adminblog', 'Post Date');
INSERT INTO `SourceMessage` VALUES(653, 'adminblog', 'Sort list by date');
INSERT INTO `SourceMessage` VALUES(654, 'adminblog', 'Sort list by visibility');
INSERT INTO `SourceMessage` VALUES(655, 'adminblog', 'Comment');
INSERT INTO `SourceMessage` VALUES(656, 'adminblog', 'Joined Date');
INSERT INTO `SourceMessage` VALUES(657, 'adminblog', 'Toggle comment status!');
INSERT INTO `SourceMessage` VALUES(658, 'adminblog', 'Delete this comment!');
INSERT INTO `SourceMessage` VALUES(659, 'adminblog', 'Comment Updated.');
INSERT INTO `SourceMessage` VALUES(660, 'adminblog', 'Comment Deleted.');
INSERT INTO `SourceMessage` VALUES(661, 'adminblog', 'No Comments Found.');
INSERT INTO `SourceMessage` VALUES(662, 'global', 'Logout');
INSERT INTO `SourceMessage` VALUES(663, 'members', 'You are now logged out.');
INSERT INTO `SourceMessage` VALUES(664, 'login', 'Lost Password');
INSERT INTO `SourceMessage` VALUES(665, 'register', 'Registration Form');
INSERT INTO `SourceMessage` VALUES(666, 'register', 'Please fill all required fields and hit the submit button once your done.');
INSERT INTO `SourceMessage` VALUES(667, 'global', 'Submit');
INSERT INTO `SourceMessage` VALUES(668, 'register', 'Enter your desired username (Min: 3 Max: 32)');
INSERT INTO `SourceMessage` VALUES(669, 'register', 'Enter your desired password (Min: 3 Max: 32)');
INSERT INTO `SourceMessage` VALUES(670, 'register', 'Confirm your password');
INSERT INTO `SourceMessage` VALUES(671, 'register', 'Enter your desired email address');
INSERT INTO `SourceMessage` VALUES(672, 'register', 'Enter the text displayed in the image below');
INSERT INTO `SourceMessage` VALUES(673, 'login', 'Login Form');
INSERT INTO `SourceMessage` VALUES(674, 'login', 'Please fill all required fields and hit the submit button once your done.');
INSERT INTO `SourceMessage` VALUES(675, 'login', 'Enter your email address');
INSERT INTO `SourceMessage` VALUES(676, 'login', 'Enter your password');
INSERT INTO `SourceMessage` VALUES(677, 'login', 'Enter the text displayed in the image below');
INSERT INTO `SourceMessage` VALUES(678, 'members', 'Sorry, But we can''t find a member with those login information.');
INSERT INTO `SourceMessage` VALUES(679, 'login', 'Lost Password?');
INSERT INTO `SourceMessage` VALUES(680, 'lostpassword', 'Sorry, That email does not exists in our records.');
INSERT INTO `SourceMessage` VALUES(681, 'login', 'Reset Password');
INSERT INTO `SourceMessage` VALUES(682, 'login', 'This screen will guide you through the process of reseting you password.<br /><br />\n									Your email is required as well as the security code to prevent from abusing the password reset feature.<br /><br />\n									The form will be submitted when the email is validated and exists in our records and the security code entered is valid.<br /><br />\n									You will receive an email with a password reset link that you will need to click in order to complete the password reset process.<br /><br />\n									Once that is done you will receive another email with the actual new randomly generated password, That you will be able to change it at any time through your profile.');
INSERT INTO `SourceMessage` VALUES(683, 'login', 'Lost Password Form');
INSERT INTO `SourceMessage` VALUES(684, 'login', 'Dear {username},<br /><br />You''ve asked a reset for your password.<br /><br /> \n											Please click the link below in order to perform the reset and get a new password emailed to you.<br /><br />\n											The reset link is:<br /><br />\n											----------------------<br />\n											{link}<br />\n											----------------------<br /><br /><br />\n											<em>If you did not request this reset then please ignore this email.</em>');
INSERT INTO `SourceMessage` VALUES(685, 'global', '<br /><br />----------------<br />Regards,<br />The {team} Team.<br />');
INSERT INTO `SourceMessage` VALUES(686, 'login', 'Password Reset Request');
INSERT INTO `SourceMessage` VALUES(687, 'login', 'Thank You. Check your email for the password reset link.');
INSERT INTO `SourceMessage` VALUES(688, 'login', 'Dear {username},<br /><br />\n									We have reseted your password successfully.<br /><br />\n									You new password is: <b>{password}</b><br />');
INSERT INTO `SourceMessage` VALUES(689, 'login', 'Password Reset Completed');
INSERT INTO `SourceMessage` VALUES(690, 'login', 'Thank You. Your password was reset. Please check your email for you new generated password.');
INSERT INTO `SourceMessage` VALUES(691, 'admincustompages', '-- Any --');
INSERT INTO `SourceMessage` VALUES(692, 'admincustompages', '-- Choose --');
INSERT INTO `SourceMessage` VALUES(693, 'custompages', 'אודות');
INSERT INTO `SourceMessage` VALUES(694, 'custompages', 'There is already a page with that alias and language combination.');
INSERT INTO `SourceMessage` VALUES(695, 'adminmembers', 'IP:');
INSERT INTO `SourceMessage` VALUES(696, 'contactus', 'Contact Us Form');
INSERT INTO `SourceMessage` VALUES(697, 'contactus', 'Please fill all required fields and hit the submit button once your done.');
INSERT INTO `SourceMessage` VALUES(698, 'contactus', 'Name');
INSERT INTO `SourceMessage` VALUES(699, 'contactus', 'Email');
INSERT INTO `SourceMessage` VALUES(700, 'contactus', 'Subject');
INSERT INTO `SourceMessage` VALUES(701, 'contactus', 'Message');
INSERT INTO `SourceMessage` VALUES(702, 'contactus', 'Security Code');
INSERT INTO `SourceMessage` VALUES(703, 'contactus', 'Please enter your name');
INSERT INTO `SourceMessage` VALUES(704, 'contactus', 'Please enter your email address');
INSERT INTO `SourceMessage` VALUES(705, 'contactus', 'Enter the text displayed in the image below');
INSERT INTO `SourceMessage` VALUES(706, 'adminsettings', 'Setting group added.');
INSERT INTO `SourceMessage` VALUES(707, 'adminglobal', 'Contact Us Settings');
INSERT INTO `SourceMessage` VALUES(708, 'adminsetings', 'No Settings Added Yet.');
INSERT INTO `SourceMessage` VALUES(709, 'adminsettings', 'Setting added.');
INSERT INTO `SourceMessage` VALUES(710, 'adminglobal', 'Editing Setting');
INSERT INTO `SourceMessage` VALUES(711, 'adminsettings', 'Editing Setting');
INSERT INTO `SourceMessage` VALUES(712, 'contactus', 'Please Choose the appropriate subject for your input');
INSERT INTO `SourceMessage` VALUES(713, 'contactus', 'Please enter your message');
INSERT INTO `SourceMessage` VALUES(714, 'adminsettings', 'Setting edited.');
INSERT INTO `SourceMessage` VALUES(715, 'contactus', 'Support\r');
INSERT INTO `SourceMessage` VALUES(716, 'contactus', 'Affiliate\r');
INSERT INTO `SourceMessage` VALUES(717, 'contactus', 'Bug Report\r');
INSERT INTO `SourceMessage` VALUES(718, 'contactus', 'Documentation Bug Report\r');
INSERT INTO `SourceMessage` VALUES(719, 'contactus', 'Business Offers\r');
INSERT INTO `SourceMessage` VALUES(720, 'contactus', 'Questions\r');
INSERT INTO `SourceMessage` VALUES(721, 'contactus', 'Other... ');
INSERT INTO `SourceMessage` VALUES(722, 'contactus', '-- Choose --');
INSERT INTO `SourceMessage` VALUES(723, 'register', 'Registration Completed. Please sign in.');
INSERT INTO `SourceMessage` VALUES(724, 'contactus', 'Thank You. The form submitted successfully.');
INSERT INTO `SourceMessage` VALUES(725, 'global', 'No');
INSERT INTO `SourceMessage` VALUES(726, 'global', 'Yes');
INSERT INTO `SourceMessage` VALUES(727, 'contactus', 'New Contact Us Form Submitted<br /><br />\n													By: {name}<br />\n													Email: {email}<br />\n													Subject: {subject}<br />\n													========================<br />\n													{msg}<br />\n													========================<br /><br />\n													Regards, the {team} Team.');
INSERT INTO `SourceMessage` VALUES(728, 'contactus', 'New Contact Us Form: {subject}');
INSERT INTO `SourceMessage` VALUES(729, 'admincontactus', 'Contact Us');
INSERT INTO `SourceMessage` VALUES(730, 'admincontactus', 'Contact Us Submitted Form');
INSERT INTO `SourceMessage` VALUES(731, 'admincontactus', 'Name');
INSERT INTO `SourceMessage` VALUES(732, 'admincontactus', 'Sort list by name');
INSERT INTO `SourceMessage` VALUES(733, 'admincontactus', 'Email');
INSERT INTO `SourceMessage` VALUES(734, 'admincontactus', 'Sort list by email');
INSERT INTO `SourceMessage` VALUES(735, 'admincontactus', 'Subject');
INSERT INTO `SourceMessage` VALUES(736, 'admincontactus', 'Sort list by subject');
INSERT INTO `SourceMessage` VALUES(737, 'admincontactus', 'Date');
INSERT INTO `SourceMessage` VALUES(738, 'admincontactus', 'Sort list by date');
INSERT INTO `SourceMessage` VALUES(739, 'admincontactus', 'Options');
INSERT INTO `SourceMessage` VALUES(740, 'admincontactus', 'View Item');
INSERT INTO `SourceMessage` VALUES(741, 'admincontactus', 'Contact Us Submitted Forms');
INSERT INTO `SourceMessage` VALUES(742, 'contactus', 'Message Was Not Found.');
INSERT INTO `SourceMessage` VALUES(743, '', '');
INSERT INTO `SourceMessage` VALUES(744, 'contactus', 'By {name}');
INSERT INTO `SourceMessage` VALUES(745, 'contactus', 'Reply');
INSERT INTO `SourceMessage` VALUES(746, 'contactus', 'Send');
INSERT INTO `SourceMessage` VALUES(747, 'admincontactus', 'Read');
INSERT INTO `SourceMessage` VALUES(748, 'admincontactus', 'Sort list by read status');
INSERT INTO `SourceMessage` VALUES(749, 'contactus', 'Mark As Read');
INSERT INTO `SourceMessage` VALUES(750, 'contactus', 'Mark As Not Read');
INSERT INTO `SourceMessage` VALUES(751, 'contactus', 'Delete this item!');
INSERT INTO `SourceMessage` VALUES(752, 'contactus', 'Item Deleted.');
INSERT INTO `SourceMessage` VALUES(753, 'contactus', '{count} items marked as read.');
INSERT INTO `SourceMessage` VALUES(754, 'contactus', '{count} items marked as not read.');
INSERT INTO `SourceMessage` VALUES(755, 'contactus', '{count} items deleted.');
INSERT INTO `SourceMessage` VALUES(756, 'admincontactus', 'No items found.');
INSERT INTO `SourceMessage` VALUES(757, 'contactus', 'Viewing Message');
INSERT INTO `SourceMessage` VALUES(758, 'contactus', 'New Contact Us Form Submitted<br /><br />\n										    Id: {id}<br />\n											By: {name}<br />\n											Email: {email}<br />\n											Subject: {subject}<br />\n											========================<br />\n											{msg}<br />\n											========================<br /><br />\n											Regards, the {team} Team.');
INSERT INTO `SourceMessage` VALUES(759, 'contactus', 'You have received a new reply from {replyername}<br /><br />\n											 =====================<br />\n											 {msg}<br />\n											 =====================<br /><br />\n											 Regards, The {team} Team.');
INSERT INTO `SourceMessage` VALUES(760, 'contactus', 'Re: {subject}');
INSERT INTO `SourceMessage` VALUES(761, 'contactus', 'Reply Sent.');
INSERT INTO `SourceMessage` VALUES(762, 'contactus', 'You have received a new reply from <b>{replyername}</b><br /><br />\n											 =====================<br />\n											 {msg}<br />\n											 =====================<br /><br />\n											 Regards, The {team} Team.<br /><br />');
INSERT INTO `SourceMessage` VALUES(763, 'adminmembers', '{count} users deleted.');
INSERT INTO `SourceMessage` VALUES(764, 'adminmembers', 'User Deleted.');
INSERT INTO `SourceMessage` VALUES(765, 'adminsettings', 'Setting Value');
INSERT INTO `SourceMessage` VALUES(766, 'adminsettings', 'Setting Unique Key');
INSERT INTO `SourceMessage` VALUES(767, 'index', 'No News To Display.');
INSERT INTO `SourceMessage` VALUES(768, 'adminblog', 'Editing Tutorial');
INSERT INTO `SourceMessage` VALUES(769, 'adminmembers', 'Sorry, That email is already in use by another member.');
INSERT INTO `SourceMessage` VALUES(770, 'users', 'Sorry, But we could not find that user.');
INSERT INTO `SourceMessage` VALUES(771, 'users', 'Users');
INSERT INTO `SourceMessage` VALUES(772, 'users', 'Viewing {name} Profile');
INSERT INTO `SourceMessage` VALUES(773, 'users', 'Latest Submissions');
INSERT INTO `SourceMessage` VALUES(774, 'users', 'Tutorials');
INSERT INTO `SourceMessage` VALUES(775, 'users', 'No Tutorials Submitted.');
INSERT INTO `SourceMessage` VALUES(776, 'users', 'Blog Posts');
INSERT INTO `SourceMessage` VALUES(777, 'users', 'No Blog Posts Submitted.');
INSERT INTO `SourceMessage` VALUES(778, 'users', 'Username');
INSERT INTO `SourceMessage` VALUES(779, 'users', 'Sort list by username');
INSERT INTO `SourceMessage` VALUES(780, 'users', 'Joined');
INSERT INTO `SourceMessage` VALUES(781, 'users', 'Sort list by joined date');
INSERT INTO `SourceMessage` VALUES(782, 'users', 'Role');
INSERT INTO `SourceMessage` VALUES(783, 'users', 'Sort list by role');
INSERT INTO `SourceMessage` VALUES(784, 'users', 'Member');
INSERT INTO `SourceMessage` VALUES(785, 'users', 'Admin');
INSERT INTO `SourceMessage` VALUES(786, 'global', 'F.A.Q');
INSERT INTO `SourceMessage` VALUES(787, 'custompages', 'שאלות נפוצות');
INSERT INTO `SourceMessage` VALUES(788, 'error', 'Sorry, You are not allowed to enter this section.');
INSERT INTO `SourceMessage` VALUES(789, 'login', 'Thanks. You are now logged in.');
INSERT INTO `SourceMessage` VALUES(790, 'extensions', 'Extensions');
INSERT INTO `SourceMessage` VALUES(791, 'extensions', 'Categories');
INSERT INTO `SourceMessage` VALUES(792, 'extensions', 'Add Category');
INSERT INTO `SourceMessage` VALUES(793, 'extensions', 'Add Extension');
INSERT INTO `SourceMessage` VALUES(794, 'extensions', 'Position');
INSERT INTO `SourceMessage` VALUES(795, 'extensions', 'Title');
INSERT INTO `SourceMessage` VALUES(796, 'extensions', 'Alias');
INSERT INTO `SourceMessage` VALUES(797, 'extensions', 'Description');
INSERT INTO `SourceMessage` VALUES(798, 'extensions', 'Language');
INSERT INTO `SourceMessage` VALUES(799, 'extensions', 'Read');
INSERT INTO `SourceMessage` VALUES(800, 'extensions', 'Options');
INSERT INTO `SourceMessage` VALUES(801, 'extensions', 'Manage Comments');
INSERT INTO `SourceMessage` VALUES(802, 'extensions', 'Comments');
INSERT INTO `SourceMessage` VALUES(803, 'extensions', 'ID');
INSERT INTO `SourceMessage` VALUES(804, 'extensions', 'Author');
INSERT INTO `SourceMessage` VALUES(805, 'extensions', 'Sort list by author');
INSERT INTO `SourceMessage` VALUES(806, 'extensions', 'Post Date');
INSERT INTO `SourceMessage` VALUES(807, 'extensions', 'Sort list by date');
INSERT INTO `SourceMessage` VALUES(808, 'extensions', 'Status');
INSERT INTO `SourceMessage` VALUES(809, 'extensions', 'Sort list by visibility');
INSERT INTO `SourceMessage` VALUES(810, 'extensions', 'Comment');
INSERT INTO `SourceMessage` VALUES(811, 'extensions', 'No Comments Found.');
INSERT INTO `SourceMessage` VALUES(812, 'extensions', 'Adding Category');
INSERT INTO `SourceMessage` VALUES(813, 'extensions', 'Sub-Category');
INSERT INTO `SourceMessage` VALUES(814, 'extensions', 'Meta Description');
INSERT INTO `SourceMessage` VALUES(815, 'extensions', 'Meta Keywords');
INSERT INTO `SourceMessage` VALUES(816, 'extensions', 'ReadOnly Category');
INSERT INTO `SourceMessage` VALUES(817, 'extensions', 'Viewing Permission');
INSERT INTO `SourceMessage` VALUES(818, 'extensions', 'Adding Extensions Permission');
INSERT INTO `SourceMessage` VALUES(819, 'extensions', 'Adding Comments Permission');
INSERT INTO `SourceMessage` VALUES(820, 'extensions', 'Adding Files Permission');
INSERT INTO `SourceMessage` VALUES(821, 'extensions', 'Auto Approved Post Permission');
INSERT INTO `SourceMessage` VALUES(822, 'extensions', 'Choose a category that this category will be a child of.');
INSERT INTO `SourceMessage` VALUES(823, 'extensions', '-- Root --');
INSERT INTO `SourceMessage` VALUES(824, 'extensions', 'The language the category can be displayed in.');
INSERT INTO `SourceMessage` VALUES(825, 'extensions', 'User roles that can view this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(826, 'extensions', 'User roles that can add blog to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(827, 'extensions', 'User roles that can add comments to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(828, 'extensions', 'User roles that can add files to this category (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(829, 'extensions', 'User roles that can add blog this category without the need of manual approval (Defaults to nobody)');
INSERT INTO `SourceMessage` VALUES(830, 'extensions', 'Category Added.');
INSERT INTO `SourceMessage` VALUES(831, 'extensions', 'View Extensions');
INSERT INTO `SourceMessage` VALUES(832, 'extensions', 'View category');
INSERT INTO `SourceMessage` VALUES(833, 'extensions', 'Add extensions to this category');
INSERT INTO `SourceMessage` VALUES(834, 'extensions', 'Add sub category to this category');
INSERT INTO `SourceMessage` VALUES(835, 'extensions', 'Edit this category');
INSERT INTO `SourceMessage` VALUES(836, 'extensions', 'Delete this category!');
INSERT INTO `SourceMessage` VALUES(837, 'extensions', 'Category status Updated.');
INSERT INTO `SourceMessage` VALUES(838, 'extensions', 'Viewing Category');
INSERT INTO `SourceMessage` VALUES(839, 'extensions', 'Sort list by title');
INSERT INTO `SourceMessage` VALUES(840, 'extensions', 'Sort list by alias');
INSERT INTO `SourceMessage` VALUES(841, 'extensions', 'Posted');
INSERT INTO `SourceMessage` VALUES(842, 'extensions', 'Sort list by date posted');
INSERT INTO `SourceMessage` VALUES(843, 'extensions', 'Sort list by language');
INSERT INTO `SourceMessage` VALUES(844, 'extensions', 'Sort list by status');
INSERT INTO `SourceMessage` VALUES(845, 'extensions', 'Adding Extension');
INSERT INTO `SourceMessage` VALUES(846, 'extensions', 'Category');
INSERT INTO `SourceMessage` VALUES(847, 'extensions', 'Content');
INSERT INTO `SourceMessage` VALUES(848, 'extensions', 'Extension Approved');
INSERT INTO `SourceMessage` VALUES(849, 'extensions', 'Choose a category for this post');
INSERT INTO `SourceMessage` VALUES(850, 'extensions', '-- Choose --');
INSERT INTO `SourceMessage` VALUES(851, 'extensions', 'The language the post can be displayed in.');
INSERT INTO `SourceMessage` VALUES(852, 'extensions', 'Hidden (Draft)');
INSERT INTO `SourceMessage` VALUES(853, 'extensions', 'Open (Published)');
INSERT INTO `SourceMessage` VALUES(854, 'extensions', 'Extension Added.');
INSERT INTO `SourceMessage` VALUES(855, 'extensions', 'Toggle page status!');
INSERT INTO `SourceMessage` VALUES(856, 'extensions', 'view this post');
INSERT INTO `SourceMessage` VALUES(857, 'extensions', 'Edit this post');
INSERT INTO `SourceMessage` VALUES(858, 'extensions', 'Delete this post!');
INSERT INTO `SourceMessage` VALUES(859, 'extensions', 'Extension status Updated.');
INSERT INTO `SourceMessage` VALUES(860, 'extensions', 'Last Modified Date');
INSERT INTO `SourceMessage` VALUES(861, 'extensions', 'Last Modified By');
INSERT INTO `SourceMessage` VALUES(862, 'extensions', 'Editing Extension');
INSERT INTO `SourceMessage` VALUES(863, 'extensions', 'Extension Updated.');
INSERT INTO `SourceMessage` VALUES(864, 'extensions', 'Editing Category');
INSERT INTO `SourceMessage` VALUES(865, 'extensions', 'Category Updated.');
INSERT INTO `SourceMessage` VALUES(866, 'extensions', 'Category Deleted.');
INSERT INTO `SourceMessage` VALUES(867, 'extensions', 'Delete Category');
INSERT INTO `SourceMessage` VALUES(868, 'extensions', 'Move Categories To');
INSERT INTO `SourceMessage` VALUES(869, 'extensions', 'Choose a category to move all subcategories into');
INSERT INTO `SourceMessage` VALUES(870, 'extensions', 'Move Posts To');
INSERT INTO `SourceMessage` VALUES(871, 'extensions', 'Choose a category to move all posts into');
INSERT INTO `SourceMessage` VALUES(872, 'extensions', 'You must specify a valid category to move the items.');
INSERT INTO `SourceMessage` VALUES(873, 'custompages', 'דוקומנטציה');
INSERT INTO `SourceMessage` VALUES(874, 'extensions', 'Posted by <strong>{by}</strong> in {in} on {on}');
INSERT INTO `SourceMessage` VALUES(875, 'extensions', 'Add Post');
INSERT INTO `SourceMessage` VALUES(876, 'extensions', '{count} Pending Posts');
INSERT INTO `SourceMessage` VALUES(877, 'extensions', 'My Posts');
INSERT INTO `SourceMessage` VALUES(878, 'extensions', 'Please fill all required fields and hit the submit button once your done. It may take time for the extension to be displayed publicly.');
INSERT INTO `SourceMessage` VALUES(879, 'extensions', 'Choose a category for this extension');
INSERT INTO `SourceMessage` VALUES(880, 'extensions', 'Views');
INSERT INTO `SourceMessage` VALUES(881, 'extensions', 'No comments posted yet. Be the first!');
INSERT INTO `SourceMessage` VALUES(882, 'extensions', 'Post Comment');
INSERT INTO `SourceMessage` VALUES(883, 'extensions', 'Comment Added.');
INSERT INTO `SourceMessage` VALUES(884, 'extensions', 'Toggle comment status!');
INSERT INTO `SourceMessage` VALUES(885, 'extensions', 'My Extensions');
INSERT INTO `SourceMessage` VALUES(886, 'extensions', 'Extension UnApproved');
INSERT INTO `SourceMessage` VALUES(887, 'global', 'Extension UnApproved');
INSERT INTO `SourceMessage` VALUES(888, 'extensions', '{count} Pending Extensions');
INSERT INTO `SourceMessage` VALUES(889, 'global', 'Extension Approved');
INSERT INTO `SourceMessage` VALUES(890, 'extensions', 'There are no extensions to display!');
INSERT INTO `SourceMessage` VALUES(891, 'users', 'Extensions Posted');
INSERT INTO `SourceMessage` VALUES(892, 'users', 'No Extensions Submitted.');
INSERT INTO `SourceMessage` VALUES(893, 'users', 'Comments');
INSERT INTO `SourceMessage` VALUES(894, 'users', 'No comments posted yet. Be the first!');
INSERT INTO `SourceMessage` VALUES(895, 'users', 'Post Comment');
INSERT INTO `SourceMessage` VALUES(896, 'users', 'Comment Added.');
INSERT INTO `SourceMessage` VALUES(897, 'users', 'Toggle comment status!');
INSERT INTO `SourceMessage` VALUES(898, 'global', 'Profile');
INSERT INTO `SourceMessage` VALUES(899, 'extensions', 'Upload A File');
INSERT INTO `SourceMessage` VALUES(900, 'extensions', 'Please choose a file to upload and enter a description for that file. Then press the submit button.');
INSERT INTO `SourceMessage` VALUES(901, 'extensions', 'File');
INSERT INTO `SourceMessage` VALUES(902, 'extensions', 'Success! Your extension was uploaded.');
INSERT INTO `SourceMessage` VALUES(903, 'extensions', 'Name');
INSERT INTO `SourceMessage` VALUES(904, 'extensions', 'File Name');
INSERT INTO `SourceMessage` VALUES(905, 'extensions', 'File Description');
INSERT INTO `SourceMessage` VALUES(906, 'extensions', 'File Type');
INSERT INTO `SourceMessage` VALUES(907, 'extensions', 'Uploaded Date');
INSERT INTO `SourceMessage` VALUES(908, 'extensions', 'Downloads');
INSERT INTO `SourceMessage` VALUES(909, 'extensions', 'File Size');
INSERT INTO `SourceMessage` VALUES(910, 'extensions', 'Download A File');
INSERT INTO `SourceMessage` VALUES(911, 'extensions', 'Delete');
INSERT INTO `SourceMessage` VALUES(912, 'extensions', 'File Deleted.');
INSERT INTO `SourceMessage` VALUES(913, 'adminnewsletter', 'News Letter');
INSERT INTO `SourceMessage` VALUES(914, 'adminnewsletter', 'Newsletter Emails');
INSERT INTO `SourceMessage` VALUES(915, 'adminnewsletter', 'Email');
INSERT INTO `SourceMessage` VALUES(916, 'adminnewsletter', 'Sort list by email');
INSERT INTO `SourceMessage` VALUES(917, 'adminnewsletter', 'Joined');
INSERT INTO `SourceMessage` VALUES(918, 'adminnewsletter', 'Sort list by date');
INSERT INTO `SourceMessage` VALUES(919, 'adminnewsletter', 'Options');
INSERT INTO `SourceMessage` VALUES(920, 'adminnewsletter', 'No items found.');
INSERT INTO `SourceMessage` VALUES(921, 'newsletter', 'Add Subscriber');
INSERT INTO `SourceMessage` VALUES(922, 'newsletter', 'Email');
INSERT INTO `SourceMessage` VALUES(923, 'newsletter', 'Email Added.');
INSERT INTO `SourceMessage` VALUES(924, 'newsletter', 'Delete this item!');
INSERT INTO `SourceMessage` VALUES(925, 'newsletter', 'Item Deleted.');
INSERT INTO `SourceMessage` VALUES(926, 'newsletter', 'Send Newsletter');
INSERT INTO `SourceMessage` VALUES(927, 'adminglobal', 'Send!');
INSERT INTO `SourceMessage` VALUES(928, 'newsletter', 'Subject');
INSERT INTO `SourceMessage` VALUES(929, 'newsletter', '{count} Newsletter emails sent.');
INSERT INTO `SourceMessage` VALUES(930, 'index', 'Yii Key Features');
INSERT INTO `SourceMessage` VALUES(931, 'docs', 'מודל-תצוגה-קונטרולר (MVC)');
INSERT INTO `SourceMessage` VALUES(932, 'docs', 'ניהול תבניות ועיצוב');
INSERT INTO `SourceMessage` VALUES(933, 'index', 'What is Yii?');
INSERT INTO `SourceMessage` VALUES(934, 'index', 'Yii is a high-performance  component-based PHP framework for developing large-scale Web applications.');
INSERT INTO `SourceMessage` VALUES(935, 'index', 'Yii enables maximum reusability in Web programming and can significantly accelerate the development process. The name Yii (pronounced as Yee or [ji:]) stands for easy, efficient and extensible.');
INSERT INTO `SourceMessage` VALUES(936, 'index', 'Main Feature List');
INSERT INTO `SourceMessage` VALUES(937, 'index', 'MVC design pattern');
INSERT INTO `SourceMessage` VALUES(938, 'index', 'DAO and Active Record');
INSERT INTO `SourceMessage` VALUES(939, 'index', 'jQuery-based JavaScript support');
INSERT INTO `SourceMessage` VALUES(940, 'index', 'I18N and L10N');
INSERT INTO `SourceMessage` VALUES(941, 'index', 'Page, fragment and data caching');
INSERT INTO `SourceMessage` VALUES(942, 'index', 'Error handling and logging');
INSERT INTO `SourceMessage` VALUES(943, 'index', 'Theming');
INSERT INTO `SourceMessage` VALUES(944, 'index', 'Web services');
INSERT INTO `SourceMessage` VALUES(945, 'index', 'Console applications');
INSERT INTO `SourceMessage` VALUES(946, 'index', 'Authentication and authorization');
INSERT INTO `SourceMessage` VALUES(947, 'index', 'Web 2.0 widgets');
INSERT INTO `SourceMessage` VALUES(948, 'index', 'Form input and validation');
INSERT INTO `SourceMessage` VALUES(949, 'index', 'View complete feature list');
INSERT INTO `SourceMessage` VALUES(950, 'index', 'Latest Tutorials');
INSERT INTO `SourceMessage` VALUES(951, 'index', 'MVC Architecture');
INSERT INTO `SourceMessage` VALUES(952, 'index', 'Database, DAO/ActiveRecord');
INSERT INTO `SourceMessage` VALUES(953, 'index', 'Multilingual, I18N/L10N');
INSERT INTO `SourceMessage` VALUES(954, 'index', 'Widgets Management');
INSERT INTO `SourceMessage` VALUES(955, 'index', 'Theme Control');
INSERT INTO `SourceMessage` VALUES(956, 'index', 'About Us');
INSERT INTO `SourceMessage` VALUES(957, 'index', '<strong>{name}</strong> is an <b>un</b>official Hebrew support site for the {yii}, It was built to provide the local users with some information, Documentation, Tutorials and extensions that are already written and/or translated into Hebrew.');
INSERT INTO `SourceMessage` VALUES(958, 'index', 'The majority of the content provided here is written by the community and is provided totally free of charge.');
INSERT INTO `SourceMessage` VALUES(959, 'index', 'Read More');
INSERT INTO `SourceMessage` VALUES(960, 'extensions', 'Extensions RSS Feed');
INSERT INTO `SourceMessage` VALUES(961, 'index', 'Why should you use Yii?');
INSERT INTO `SourceMessage` VALUES(962, 'index', 'Easy');
INSERT INTO `SourceMessage` VALUES(963, 'index', 'Yii is easy to learn and use. You only need to know PHP and object-oriented programming. You are not forced to learn a new configuration or templating language.');
INSERT INTO `SourceMessage` VALUES(964, 'index', 'Well Documented');
INSERT INTO `SourceMessage` VALUES(965, 'index', 'Documentation');
INSERT INTO `SourceMessage` VALUES(966, 'index', 'Yii has very detailed {doc}. From the definitive guide to class reference, Yii has every information you need to quickly learn and master it.');
INSERT INTO `SourceMessage` VALUES(967, 'index', 'Feature Rich');
INSERT INTO `SourceMessage` VALUES(968, 'index', 'Yii comes with a rich set of features. From MVC, DAO/ActiveRecord, to theming, internationalization and localization, Yii provides nearly every feature needed by today''s Web 2.0 application development.');
INSERT INTO `SourceMessage` VALUES(969, 'index', 'Free!');
INSERT INTO `SourceMessage` VALUES(970, 'index', 'Last but not least, Yii is free! Yii uses the new BSD license, and it also ensures that the third-party work it integrates with use BSD-compatible licenses. This means it is both financially and lawfully free for you to use Yii to develop either open source or proprietary applications.');
INSERT INTO `SourceMessage` VALUES(971, 'index', 'Latest Extensions');
INSERT INTO `SourceMessage` VALUES(972, 'index', 'Newsletter');
INSERT INTO `SourceMessage` VALUES(973, 'index', 'Signup to our newsletter, And stay up-to-date with the latest information, Documentation, Tutorials and extensions submissions.');
INSERT INTO `SourceMessage` VALUES(974, 'index', 'Enter email address...');
INSERT INTO `SourceMessage` VALUES(975, 'index', 'Email');
INSERT INTO `SourceMessage` VALUES(976, 'index', 'Email Address');
INSERT INTO `SourceMessage` VALUES(977, 'index', 'Subscribe');
INSERT INTO `SourceMessage` VALUES(978, 'newsletter', 'That email address is already subscribed.');
INSERT INTO `SourceMessage` VALUES(979, 'index', 'Thank you. You are now subscribed to our newsletter.');
INSERT INTO `SourceMessage` VALUES(980, 'newsletter', '{count} items deleted.');
INSERT INTO `SourceMessage` VALUES(981, 'adminglobal', 'Preview!');
INSERT INTO `SourceMessage` VALUES(982, 'newsletter', 'Preview');
INSERT INTO `SourceMessage` VALUES(983, 'error', 'Sorry, But the page you were looking for was not found.');
INSERT INTO `SourceMessage` VALUES(984, 'login', 'Login With Facebook');
INSERT INTO `SourceMessage` VALUES(985, 'login', 'Connect with Facebook');
INSERT INTO `SourceMessage` VALUES(986, 'members', 'Sorry, We could not find a member with that facebook account.');
INSERT INTO `SourceMessage` VALUES(987, 'login', 'We could not find any user associated with that facebook account in our records.');
INSERT INTO `SourceMessage` VALUES(988, 'login', '<b>{name}</b>, Your almost there! Just complete one of the forms below to finish the login process. If you have already signed up to this website in the past and have an active account that you would like to associate with your facebook account please fill in the <i>Associate Account Form</i>, If you never signed-up to this website and would like to use your facebook account here just complete the <i>Sign-Up Form</i>. Once you have completed one of the forms, Just hit the submit button for the form you have chosen.');
INSERT INTO `SourceMessage` VALUES(989, 'login', '<b>{name}</b>, Your almost there! Just complete one of the forms below to finish the login process. If you have already signed up to this website in the past and have an active account that you would like to associate with your facebook account please fill in the <i>Associate Account Form</i>, If you never signed-up to this website and would like to use your facebook account here just complete the <i>Sign-Up Form</i>. Once you have completed one of the forms, Just hit the submit button in the form you have chosen.');
INSERT INTO `SourceMessage` VALUES(990, 'login', 'Associate Account Form');
INSERT INTO `SourceMessage` VALUES(991, 'login', 'Associate an account with your facebook account.');
INSERT INTO `SourceMessage` VALUES(992, 'login', 'Sign-Up Form');
INSERT INTO `SourceMessage` VALUES(993, 'login', 'Signup using your facebook account information');
INSERT INTO `SourceMessage` VALUES(994, 'login', 'Enter your username');
INSERT INTO `SourceMessage` VALUES(995, 'members', 'Sorry, But the emails of the accounts did no match.');
INSERT INTO `SourceMessage` VALUES(996, 'login', 'We found a user account associated with your facebook account, But the email used there is different, Please complete the form below to login as that user.');
INSERT INTO `SourceMessage` VALUES(997, 'login', 'Thank You. You are now logged in.');
INSERT INTO `SourceMessage` VALUES(998, 'global', 'Forum');
INSERT INTO `SourceMessage` VALUES(999, 'forum', 'Forum');
INSERT INTO `SourceMessage` VALUES(1000, 'forum', 'There are not topics posted yet. Be the first to post.');
INSERT INTO `SourceMessage` VALUES(1001, 'forum', 'Create Topic');
INSERT INTO `SourceMessage` VALUES(1002, 'forum', 'Create A Topic');
INSERT INTO `SourceMessage` VALUES(1003, 'forum', 'Please fill all required fields and hit the submit button once your done. It may take time for the topic to be displayed publicly.');
INSERT INTO `SourceMessage` VALUES(1004, 'forum', 'Title');
INSERT INTO `SourceMessage` VALUES(1005, 'forum', 'Content');
INSERT INTO `SourceMessage` VALUES(1006, 'forum', 'Thank You. Your topic created.');
INSERT INTO `SourceMessage` VALUES(1007, 'forum', 'Topics');
INSERT INTO `SourceMessage` VALUES(1008, 'forum', 'Views:');
INSERT INTO `SourceMessage` VALUES(1009, 'forum', 'Author');
INSERT INTO `SourceMessage` VALUES(1010, 'forum', 'Date');
INSERT INTO `SourceMessage` VALUES(1011, 'forum', 'Views');
INSERT INTO `SourceMessage` VALUES(1012, 'forum', 'Replies');
INSERT INTO `SourceMessage` VALUES(1013, 'forum', 'Last Post');
INSERT INTO `SourceMessage` VALUES(1014, 'forum', 'By {by}<br />On {on}');
INSERT INTO `SourceMessage` VALUES(1015, 'forum', 'Sorry, We could not find that topic.');
INSERT INTO `SourceMessage` VALUES(1016, 'forum', 'Viewing Topic: {title}');
INSERT INTO `SourceMessage` VALUES(1017, 'forum', 'Posts');
INSERT INTO `SourceMessage` VALUES(1018, 'forum', 'No posted posted yet. Be the first!');
INSERT INTO `SourceMessage` VALUES(1019, 'global', 'You must be logged in to post.');
INSERT INTO `SourceMessage` VALUES(1020, 'forum', 'Post');
INSERT INTO `SourceMessage` VALUES(1021, 'forum', 'Post Reply');
INSERT INTO `SourceMessage` VALUES(1022, 'forum', 'Thank You. Your post was submitted.');
INSERT INTO `SourceMessage` VALUES(1023, 'forum', 'Toggle post status!');
INSERT INTO `SourceMessage` VALUES(1024, 'forum', 'Post Status Changed.');
INSERT INTO `SourceMessage` VALUES(1025, 'forum', 'Hidden');
INSERT INTO `SourceMessage` VALUES(1026, 'forum', 'Manage');
INSERT INTO `SourceMessage` VALUES(1027, 'forum', 'Toggle topic status!');
INSERT INTO `SourceMessage` VALUES(1028, 'forum', 'Topics Status Changed.');
INSERT INTO `SourceMessage` VALUES(1029, 'extensions', 'No Files Uploaded Yet.');
INSERT INTO `SourceMessage` VALUES(1030, 'adminindex', 'Site Information');
INSERT INTO `SourceMessage` VALUES(1031, 'adminindex', 'Number Of Users');
INSERT INTO `SourceMessage` VALUES(1032, 'adminindex', 'Newsletter Signups');
INSERT INTO `SourceMessage` VALUES(1033, 'adminindex', 'Last Registered');
INSERT INTO `SourceMessage` VALUES(1034, 'adminindex', 'User Comments');
INSERT INTO `SourceMessage` VALUES(1035, 'adminindex', 'Latest Comments');
INSERT INTO `SourceMessage` VALUES(1036, 'adminindex', 'Documentation');
INSERT INTO `SourceMessage` VALUES(1037, 'adminindex', 'Documentation Views');
INSERT INTO `SourceMessage` VALUES(1038, 'adminindex', 'Documentation Comments');
INSERT INTO `SourceMessage` VALUES(1039, 'adminindex', 'Last Comments');
INSERT INTO `SourceMessage` VALUES(1040, 'adminindex', 'Blog Info');
INSERT INTO `SourceMessage` VALUES(1041, 'adminindex', 'Total Categories');
INSERT INTO `SourceMessage` VALUES(1042, 'adminindex', 'Total Posts');
INSERT INTO `SourceMessage` VALUES(1043, 'adminindex', 'Total Views');
INSERT INTO `SourceMessage` VALUES(1044, 'adminindex', 'Total Comments');
INSERT INTO `SourceMessage` VALUES(1045, 'adminindex', 'Custom Pages');
INSERT INTO `SourceMessage` VALUES(1046, 'adminindex', 'Number Of Pages');
INSERT INTO `SourceMessage` VALUES(1047, 'adminindex', 'Hidden Pages');
INSERT INTO `SourceMessage` VALUES(1048, 'adminindex', 'Tutorials Info');
INSERT INTO `SourceMessage` VALUES(1049, 'adminindex', 'Total Tutorials');
INSERT INTO `SourceMessage` VALUES(1050, 'adminindex', 'Extensions');
INSERT INTO `SourceMessage` VALUES(1051, 'adminindex', 'Total Extensions');
INSERT INTO `SourceMessage` VALUES(1052, 'adminindex', 'Total Files');
INSERT INTO `SourceMessage` VALUES(1053, 'adminindex', 'Contact Us Info');
INSERT INTO `SourceMessage` VALUES(1054, 'adminindex', 'Total Sent');
INSERT INTO `SourceMessage` VALUES(1055, 'adminindex', 'Last Sent');
INSERT INTO `SourceMessage` VALUES(1056, 'adminindex', 'Forum');
INSERT INTO `SourceMessage` VALUES(1057, 'adminindex', 'Total Topics');
INSERT INTO `SourceMessage` VALUES(1058, 'adminindex', 'Last Topics');
INSERT INTO `SourceMessage` VALUES(1059, 'adminindex', 'Last Posts');
INSERT INTO `SourceMessage` VALUES(1060, 'adminindex', 'Total Pending Comments');
INSERT INTO `SourceMessage` VALUES(1061, 'adminindex', 'Total Pending Posts');
INSERT INTO `SourceMessage` VALUES(1062, 'adminindex', 'Total Pending Tutorials');
INSERT INTO `SourceMessage` VALUES(1063, 'adminindex', 'Total Pending Extensions');
INSERT INTO `SourceMessage` VALUES(1064, 'adminindex', 'Total Pending Topics');
INSERT INTO `SourceMessage` VALUES(1065, 'docs', 'בנאום (ריבוי שפות/לוקליזציה)');
INSERT INTO `SourceMessage` VALUES(1066, 'docs', 'ריבוי שפות / לוקליזציה');
INSERT INTO `SourceMessage` VALUES(1067, 'docs', 'שימוש בתחביר תצוגה נוסף');
INSERT INTO `SourceMessage` VALUES(1068, 'docs', 'שיפור ביצועי המערכת');
INSERT INTO `SourceMessage` VALUES(1069, 'docs', 'עבודה עם מסד נתונים');
INSERT INTO `SourceMessage` VALUES(1070, 'custompages', 'אפשרויות');
INSERT INTO `SourceMessage` VALUES(1071, 'docs', 'איסוף קלט מאסיבי');
INSERT INTO `SourceMessage` VALUES(1072, 'docs', 'Building a Blog System using Yii');
INSERT INTO `SourceMessage` VALUES(1073, 'docs', ' ניהול תבניות ועיצוב');
INSERT INTO `SourceMessage` VALUES(1074, 'search', 'Search');
INSERT INTO `SourceMessage` VALUES(1075, 'search', 'Loading...');
INSERT INTO `SourceMessage` VALUES(1076, 'global', 'Search');
INSERT INTO `SourceMessage` VALUES(1077, 'custompages', 'רשימת האפשרויות הזמינות ב Yii');
INSERT INTO `SourceMessage` VALUES(1078, 'index', 'No Tutorials Available.');
INSERT INTO `SourceMessage` VALUES(1079, 'custompages', 'דוקומנטציה ומדריכים');

-- --------------------------------------------------------

--
-- Table structure for table `tutorials`
--

CREATE TABLE `tutorials` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `catid` int(10) NOT NULL DEFAULT '0',
  `title` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `content` text,
  `alias` varchar(250) NOT NULL DEFAULT '',
  `language` varchar(125) NOT NULL DEFAULT '',
  `metadesc` varchar(255) NOT NULL DEFAULT '',
  `metakeys` varchar(255) NOT NULL DEFAULT '',
  `views` int(10) NOT NULL DEFAULT '0',
  `rating` int(10) NOT NULL DEFAULT '0',
  `totalvotes` int(10) NOT NULL DEFAULT '0',
  `status` tinyint(1) NOT NULL DEFAULT '0',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `last_updated_date` int(10) NOT NULL DEFAULT '0',
  `last_updated_author` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `title` (`title`),
  KEY `catid` (`catid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `tutorials`
--


-- --------------------------------------------------------

--
-- Table structure for table `tutorialscats`
--

CREATE TABLE `tutorialscats` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `parentid` int(10) DEFAULT NULL,
  `title` varchar(155) NOT NULL DEFAULT '',
  `alias` varchar(255) NOT NULL DEFAULT '',
  `description` varchar(255) NOT NULL DEFAULT '',
  `language` varchar(125) NOT NULL DEFAULT '',
  `position` int(10) NOT NULL DEFAULT '0',
  `metadesc` varchar(255) NOT NULL DEFAULT '',
  `metakeys` varchar(255) NOT NULL DEFAULT '',
  `readonly` tinyint(1) NOT NULL DEFAULT '0',
  `viewperms` text,
  `addtutorialperms` text,
  `addcommentsperms` text,
  `addfilesperms` text,
  `autoaddperms` text,
  PRIMARY KEY (`id`),
  KEY `title` (`title`),
  KEY `parentid` (`parentid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `tutorialscats`
--


-- --------------------------------------------------------

--
-- Table structure for table `tutorialscomments`
--

CREATE TABLE `tutorialscomments` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `tutorialid` varchar(125) NOT NULL DEFAULT '',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `visible` tinyint(1) NOT NULL DEFAULT '0',
  `comment` text,
  PRIMARY KEY (`id`),
  KEY `tutorialid` (`tutorialid`),
  KEY `authorid` (`authorid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `tutorialscomments`
--


-- --------------------------------------------------------

--
-- Table structure for table `usercomments`
--

CREATE TABLE `usercomments` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `userid` varchar(125) NOT NULL DEFAULT '',
  `authorid` int(10) NOT NULL DEFAULT '0',
  `postdate` int(10) NOT NULL DEFAULT '0',
  `visible` tinyint(1) NOT NULL DEFAULT '0',
  `comment` text,
  PRIMARY KEY (`id`),
  KEY `userid` (`userid`),
  KEY `authorid` (`authorid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- Dumping data for table `usercomments`
--


--
-- Constraints for dumped tables
--

--
-- Constraints for table `Message`
--
ALTER TABLE `Message`
  ADD CONSTRAINT `FK_Message_SourceMessage` FOREIGN KEY (`id`) REFERENCES `SourceMessage` (`id`) ON DELETE CASCADE;
